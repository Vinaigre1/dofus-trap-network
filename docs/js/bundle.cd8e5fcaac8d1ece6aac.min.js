/*! For license information please see bundle.cd8e5fcaac8d1ece6aac.min.js.LICENSE.txt */
(()=>{var t={585:()=>{function t(t,n){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){r&&(t=r);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){c=!0,a=t},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw a}}}}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}window.onload=function(){var e=document.getElementsByClassName("relative-height-source");new ResizeObserver((function(e){var n,r=document.getElementsByClassName("relative-height"),o=t(e);try{for(o.s();!(n=o.n()).done;){var i,a=n.value,s=t(r);try{for(s.s();!(i=s.n()).done;)i.value.style.maxHeight="".concat(a.contentRect.height,"px")}catch(t){s.e(t)}finally{s.f()}}}catch(t){o.e(t)}finally{o.f()}})).observe(e[0])}},542:(t,e,n)=>{"use strict";n.d(e,{Z:()=>f});var r=n(559),o=n.n(r),i=n(476),a=n.n(i),s=n(678),c=n.n(s),l=new URL(n(506),n.b),u=a()(o()),p=c()(l);u.push([t.id,"body{background:url("+p+") no-repeat;background-size:cover;backdrop-filter:blur(20px)}.app{color:#fff;box-shadow:0 0 25px 15px rgba(0,0,0,.8);font-family:helvetica,arial,sans-serif;display:flex;justify-content:space-between;flex-wrap:wrap}","",{version:3,sources:["webpack://./assets/scss/App.scss"],names:[],mappings:"AAAA,KACE,4DAAA,CACA,qBAAA,CACA,0BAAA,CAGF,KACE,UAAA,CACA,uCAAA,CACA,sCAAA,CACA,YAAA,CACA,6BAAA,CACA,cAAA",sourcesContent:["body {\n  background: url('/assets/img/other/background.png') no-repeat;\n  background-size: cover;\n  backdrop-filter: blur(20px);\n}\n\n.app {\n  color: white;\n  box-shadow: 0 0 25px 15px rgba(0, 0, 0, 0.8);\n  font-family: helvetica, arial, sans-serif;\n  display: flex;\n  justify-content: space-between;\n  flex-wrap: wrap;\n}\n"],sourceRoot:""}]);const f=u},493:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(559),o=n.n(r),i=n(476),a=n.n(i)()(o());a.push([t.id,".history{flex:1;margin:5px;overflow-y:scroll;display:flex;flex-direction:column-reverse;background-color:rgba(0,0,0,.5333333333)}.action:last-child{border-top:1px solid #ddd}.action{padding:4px;border-bottom:1px solid #ddd;display:flex;color:#eee}.action .action-img{width:25px;height:25px;margin-right:10px}.action .action-infos{justify-content:space-evenly;display:flex;flex-direction:column}.action.current{background-color:rgba(0,221,0,.2666666667)}.action.waiting{opacity:.3}.action.highlighted{background-color:rgba(255,255,255,.4)}.action:hover{cursor:pointer;padding-left:5%}.highlighted.action-tricky{background-color:rgba(185,18,27,.6)}.highlighted.action-insidious{background-color:rgba(150,255,150,.3)}.highlighted.action-miry{background-color:rgba(64,131,164,.6)}.highlighted.action-mass{background-color:rgba(90,52,28,.6)}.highlighted.action-drift{background-color:rgba(185,18,27,.6)}.highlighted.action-malevolent{background-color:rgba(90,52,28,.6)}.highlighted.action-fragmentation{background-color:rgba(185,18,27,.6)}.highlighted.action-paralysing{background-color:rgba(49,45,134,.5)}.highlighted.action-repelling{background-color:rgba(150,255,150,.3)}.highlighted.action-sickrat{background-color:rgba(64,131,164,.6)}.highlighted.action-lethal{background-color:rgba(90,52,28,.6)}.highlighted.action-calamity{background-color:rgba(64,131,164,.6)}.highlighted.action-massgrave{background-color:rgba(49,45,134,.5)}.highlighted.action-test-trap{background-color:rgba(255,255,255,.4)}","",{version:3,sources:["webpack://./assets/scss/History.scss"],names:[],mappings:"AAAA,SACE,MAAA,CACA,UAAA,CACA,iBAAA,CACA,YAAA,CACA,6BAAA,CACA,wCAAA,CAGF,mBACE,yBAAA,CAGF,QACE,WAAA,CACA,4BAAA,CACA,YAAA,CACA,UAAA,CAEA,oBACE,UAAA,CACA,WAAA,CACA,iBAAA,CAGF,sBACE,4BAAA,CACA,YAAA,CACA,qBAAA,CAIJ,gBACE,0CAAA,CAGF,gBACE,UAAA,CAGF,oBACE,qCAAA,CAGF,cACE,cAAA,CACA,eAAA,CAGF,2BAAA,mCAAA,CACA,8BAAA,qCAAA,CACA,yBAAA,oCAAA,CACA,yBAAA,kCAAA,CACA,0BAAA,mCAAA,CACA,+BAAA,kCAAA,CACA,kCAAA,mCAAA,CACA,+BAAA,mCAAA,CACA,8BAAA,qCAAA,CACA,4BAAA,oCAAA,CACA,2BAAA,kCAAA,CACA,6BAAA,oCAAA,CACA,8BAAA,mCAAA,CACA,8BAAA,qCAAA",sourcesContent:[".history {\n  flex: 1;\n  margin: 5px;\n  overflow-y: scroll;\n  display: flex;\n  flex-direction: column-reverse;\n  background-color: #0008;\n}\n\n.action:last-child {\n  border-top: 1px solid #DDD;\n}\n\n.action {\n  padding: 4px;\n  border-bottom: 1px solid #DDD;\n  display: flex;\n  color: #EEE;\n\n  .action-img {\n    width: 25px;\n    height: 25px;\n    margin-right: 10px;\n  }\n\n  .action-infos {\n    justify-content: space-evenly;\n    display: flex;\n    flex-direction: column;\n  }\n}\n\n.action.current {\n  background-color: #0D04;\n}\n\n.action.waiting {\n  opacity: 0.3;\n}\n\n.action.highlighted {\n  background-color: #FFF6;\n}\n\n.action:hover {\n  cursor: pointer;\n  padding-left: 5%;\n}\n\n.highlighted.action-tricky        { background-color: rgb(185,  18,  27, 0.6); }\n.highlighted.action-insidious     { background-color: rgb(150, 255, 150, 0.3); }\n.highlighted.action-miry          { background-color: rgb( 64, 131, 164, 0.6); }\n.highlighted.action-mass          { background-color: rgb( 90,  52,  28, 0.6); }\n.highlighted.action-drift         { background-color: rgb(185,  18,  27, 0.6); }\n.highlighted.action-malevolent    { background-color: rgb( 90,  52,  28, 0.6); }\n.highlighted.action-fragmentation { background-color: rgb(185,  18,  27, 0.6); }\n.highlighted.action-paralysing    { background-color: rgb( 49,  45, 134, 0.5); }\n.highlighted.action-repelling     { background-color: rgb(150, 255, 150, 0.3); }\n.highlighted.action-sickrat       { background-color: rgb( 64, 131, 164, 0.6); }\n.highlighted.action-lethal        { background-color: rgb( 90,  52,  28, 0.6); }\n.highlighted.action-calamity      { background-color: rgb( 64, 131, 164, 0.6); }\n.highlighted.action-massgrave     { background-color: rgb( 49,  45, 134, 0.5); }\n.highlighted.action-test-trap     { background-color: rgb(255, 255, 255, 0.4); }\n"],sourceRoot:""}]);const s=a},456:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(559),o=n.n(r),i=n(476),a=n.n(i)()(o());a.push([t.id,".map{box-shadow:0 0 20px 10px rgba(0,0,0,.5);flex:3;margin:5px;display:grid;height:fit-content}.map svg.tiles,.map svg.entities{grid-column:1;grid-row:1}.map svg.entities{pointer-events:none}.row{stroke:#7e7961;stroke-width:.1}.cell.even.ground{fill:#8e865e}.cell.odd.ground{fill:#968e67}.cell.ground:hover polygon{fill:#b9121b}.cell text{user-select:none;pointer-events:none}.cell.empty{fill:rgba(0,0,0,0);stroke:rgba(0,0,0,0);stroke-width:0}.cell.wall{fill:#58533a;stroke:rgba(204,204,204,.8);stroke-width:.1}.entity-circle{stroke-width:.3}.entity-circle.defender{fill:rgba(0,0,255,.2);stroke:blue}.entity-circle.attacker{fill:rgba(255,0,0,.2);stroke:red}.trap{fill:none;stroke:none;stroke-width:.2;stroke-linecap:round}.trap polygon{opacity:.3}.trap-cell path,.trap-image,.trap-cell:not(.trap-center){pointer-events:none}.trap-center{cursor:pointer}.trap-highlighted{pointer-events:none}.trap-highlighted .trap{stroke-width:1}.trap-highlighted .trap polygon{opacity:.6}.trap.tricky polygon{fill:#b9121b}.trap.tricky path{stroke:#b9121b}.trap.insidious polygon{fill:#96ff96}.trap.insidious path{stroke:#96ff96}.trap.miry polygon{fill:#4083a4}.trap.miry path{stroke:#4083a4}.trap.mass polygon{fill:#5a341c}.trap.mass path{stroke:#5a341c}.trap.drift polygon{fill:#b9121b}.trap.drift path{stroke:#b9121b}.trap.malevolent polygon{fill:#5a341c}.trap.malevolent path{stroke:#5a341c}.trap.fragmentation polygon{fill:#b9121b}.trap.fragmentation path{stroke:#b9121b}.trap.paralysing polygon{fill:#312d86}.trap.paralysing path{stroke:#312d86}.trap.repelling polygon{fill:#96ff96}.trap.repelling path{stroke:#96ff96}.trap.sickrat polygon{fill:#4083a4}.trap.sickrat path{stroke:#4083a4}.trap.lethal polygon{fill:#5a341c}.trap.lethal path{stroke:#5a341c}.trap.calamity polygon{fill:#4083a4}.trap.calamity path{stroke:#4083a4}.trap.massgrave polygon{fill:#312d86}.trap.massgrave path{stroke:#312d86}.trap.test-trap polygon{fill:#fff}.trap.test-trap path{stroke:#fff}.entity-image{transition:x .1s linear,y .1s linear}.entity-circle{transition:cx .1s linear,cy .1s linear}","",{version:3,sources:["webpack://./assets/scss/Map.scss"],names:[],mappings:"AAEA,KACE,uCAAA,CACA,MAAA,CACA,UAAA,CACA,YAAA,CACA,kBAAA,CAGF,iCACE,aAAA,CACA,UAAA,CAGF,kBACE,mBAAA,CAGF,KACE,cAAA,CACA,eAAA,CAGF,kBACE,YAAA,CAGF,iBACE,YAAA,CAGF,2BACE,YAAA,CAGF,WACE,gBAAA,CACA,mBAAA,CAGF,YACE,kBAAA,CACA,oBAAA,CACA,cAAA,CAGF,WACE,YAAA,CACA,2BAAA,CACA,eAAA,CAGF,eACE,eAAA,CAGF,wBACE,qBAAA,CACA,WAAA,CAGF,wBACE,qBAAA,CACA,UAAA,CAGF,MACE,SAAA,CACA,WAAA,CACA,eAAA,CACA,oBAAA,CAGF,cACE,UAAA,CAGF,yDACE,mBAAA,CAGF,aACE,cAAA,CAGF,kBACE,mBAAA,CAGF,wBACE,cAAA,CAGF,gCACE,UAAA,CAGF,qBAAA,YAAA,CAAA,kBAAA,cAAA,CACA,wBAAA,YAAA,CAAA,qBAAA,cAAA,CACA,mBAAA,YAAA,CAAA,gBAAA,cAAA,CACA,mBAAA,YAAA,CAAA,gBAAA,cAAA,CACA,oBAAA,YAAA,CAAA,iBAAA,cAAA,CACA,yBAAA,YAAA,CAAA,sBAAA,cAAA,CACA,4BAAA,YAAA,CAAA,yBAAA,cAAA,CACA,yBAAA,YAAA,CAAA,sBAAA,cAAA,CACA,wBAAA,YAAA,CAAA,qBAAA,cAAA,CACA,sBAAA,YAAA,CAAA,mBAAA,cAAA,CACA,qBAAA,YAAA,CAAA,kBAAA,cAAA,CACA,uBAAA,YAAA,CAAA,oBAAA,cAAA,CACA,wBAAA,YAAA,CAAA,qBAAA,cAAA,CACA,wBAAA,SAAA,CAAA,qBAAA,WAAA,CAEA,cACE,oCAAA,CAGF,eACE,sCAAA",sourcesContent:["$animSpeed: calc(1s / 10); // 3 cells per second\n\n.map {\n  box-shadow: 0 0 20px 10px rgba(0, 0, 0, 0.5);\n  flex: 3;\n  margin: 5px;\n  display: grid;\n  height: fit-content;\n}\n\n.map svg.tiles, .map svg.entities {\n  grid-column: 1;\n  grid-row: 1;\n}\n\n.map svg.entities {\n  pointer-events: none;\n}\n\n.row {\n  stroke: #7E7961;\n  stroke-width: 0.1;\n}\n\n.cell.even.ground {\n  fill: #8E865E;\n}\n\n.cell.odd.ground {\n  fill: #968E67;\n}\n\n.cell.ground:hover polygon {\n  fill:rgb(185,  18,  27);\n}\n\n.cell text {\n  user-select: none;\n  pointer-events: none;\n}\n\n.cell.empty {\n  fill: #0000;\n  stroke: #0000;\n  stroke-width: 0;\n}\n\n.cell.wall {\n  fill: #58533A;\n  stroke: #CCCC;\n  stroke-width: 0.1;\n}\n\n.entity-circle {\n  stroke-width: 0.3;\n}\n\n.entity-circle.defender {\n  fill: #00F3;\n  stroke: #00F;\n}\n\n.entity-circle.attacker {\n  fill: #F003;\n  stroke: #F00;\n}\n\n.trap {\n  fill: none;\n  stroke: none;\n  stroke-width: 0.2;\n  stroke-linecap: round;\n}\n\n.trap polygon {\n  opacity: 0.3;\n}\n\n.trap-cell path, .trap-image, .trap-cell:not(.trap-center) {\n  pointer-events: none;\n}\n\n.trap-center {\n  cursor: pointer;\n}\n\n.trap-highlighted {\n  pointer-events: none;\n}\n\n.trap-highlighted .trap {\n  stroke-width: 1;\n}\n\n.trap-highlighted .trap polygon {\n  opacity: 0.6;\n}\n\n.trap.tricky polygon        { fill: rgb(185,  18,  27); } .trap.tricky path        { stroke: rgb(185,  18,  27); }\n.trap.insidious polygon     { fill: rgb(150, 255, 150); } .trap.insidious path     { stroke: rgb(150, 255, 150); }\n.trap.miry polygon          { fill: rgb( 64, 131, 164); } .trap.miry path          { stroke: rgb( 64, 131, 164); }\n.trap.mass polygon          { fill: rgb( 90,  52,  28); } .trap.mass path          { stroke: rgb( 90,  52,  28); }\n.trap.drift polygon         { fill: rgb(185,  18,  27); } .trap.drift path         { stroke: rgb(185,  18,  27); }\n.trap.malevolent polygon    { fill: rgb( 90,  52,  28); } .trap.malevolent path    { stroke: rgb( 90,  52,  28); }\n.trap.fragmentation polygon { fill: rgb(185,  18,  27); } .trap.fragmentation path { stroke: rgb(185,  18,  27); }\n.trap.paralysing polygon    { fill: rgb( 49,  45, 134); } .trap.paralysing path    { stroke: rgb( 49,  45, 134); }\n.trap.repelling polygon     { fill: rgb(150, 255, 150); } .trap.repelling path     { stroke: rgb(150, 255, 150); }\n.trap.sickrat polygon       { fill: rgb( 64, 131, 164); } .trap.sickrat path       { stroke: rgb( 64, 131, 164); }\n.trap.lethal polygon        { fill: rgb( 90,  52,  28); } .trap.lethal path        { stroke: rgb( 90,  52,  28); }\n.trap.calamity polygon      { fill: rgb( 64, 131, 164); } .trap.calamity path      { stroke: rgb( 64, 131, 164); }\n.trap.massgrave polygon     { fill: rgb( 49,  45, 134); } .trap.massgrave path     { stroke: rgb( 49,  45, 134); }\n.trap.test-trap polygon     { fill: rgb(255, 255, 255); } .trap.test-trap path     { stroke: rgb(255, 255, 255); }\n\n.entity-image {\n  transition: x $animSpeed linear, y $animSpeed linear;\n}\n\n.entity-circle {\n  transition: cx $animSpeed linear, cy $animSpeed linear;\n}"],sourceRoot:""}]);const s=a},701:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(559),o=n.n(r),i=n(476),a=n.n(i)()(o());a.push([t.id,".spells{box-shadow:0 0 20px 10px rgba(0,0,0,.5);width:100%;margin:5px;padding:10px;display:flex;justify-content:space-around;line-height:50%}.spell-category{flex:3;display:inline-block;text-align:center}.spells .controls{flex:8}.spells-padding{flex:8}.spell{cursor:pointer;padding:5px}.selected-spell{box-shadow:0 0 10px 5px rgba(0,0,0,.5);background-color:rgba(255,255,255,.3)}.controls button{width:60px;height:40px;margin-left:10px;background-color:#454545;border:2px solid #ccc;padding:0;box-shadow:0 0 10px 5px rgba(0,0,0,.5333333333);cursor:pointer}.controls button:active,.controls button.pause{background-color:#ba4545}.controls button img{vertical-align:middle;display:inline}.controls button.play img.img-pause{display:none}.controls button.pause img.img-play{display:none}.controls button img{height:60%}","",{version:3,sources:["webpack://./assets/scss/Spells.scss"],names:[],mappings:"AAAA,QACE,uCAAA,CACA,UAAA,CACA,UAAA,CACA,YAAA,CACA,YAAA,CACA,4BAAA,CACA,eAAA,CAGF,gBACE,MAAA,CACA,oBAAA,CACA,iBAAA,CAGF,kBACE,MAAA,CAGF,gBACE,MAAA,CAGF,OACE,cAAA,CACA,WAAA,CAGF,gBACE,sCAAA,CACA,qCAAA,CAGF,iBACE,UAAA,CACA,WAAA,CACA,gBAAA,CACA,wBAAA,CACA,qBAAA,CACA,SAAA,CACA,+CAAA,CACA,cAAA,CAGF,+CAEE,wBAAA,CAGF,qBACE,qBAAA,CACA,cAAA,CAGF,oCACE,YAAA,CAGF,oCACE,YAAA,CAGF,qBACE,UAAA",sourcesContent:[".spells {\n  box-shadow: 0 0 20px 10px rgba(0, 0, 0, 0.5);\n  width: 100%;\n  margin: 5px;\n  padding: 10px;\n  display: flex;\n  justify-content: space-around;\n  line-height: 50%;\n}\n\n.spell-category {\n  flex: 3;\n  display: inline-block;\n  text-align: center;\n}\n\n.spells .controls {\n  flex: 8;\n}\n\n.spells-padding {\n  flex: 8;\n}\n\n.spell {\n  cursor: pointer;\n  padding: 5px;\n}\n\n.selected-spell {\n  box-shadow: 0 0 10px 5px rgba(0, 0, 0, 0.5);\n  background-color: rgba(255, 255, 255, 0.3);\n}\n\n.controls button {\n  width: 60px;\n  height: 40px;\n  margin-left: 10px;\n  background-color: rgb(69, 69, 69);\n  border: 2px solid #CCC;\n  padding: 0;\n  box-shadow: 0 0 10px 5px #0008;\n  cursor: pointer;\n}\n\n.controls button:active,\n.controls button.pause {\n  background-color: rgb(186, 69, 69);\n}\n\n.controls button img {\n  vertical-align: middle;\n  display: inline;\n}\n\n.controls button.play img.img-pause {\n  display: none;\n}\n\n.controls button.pause img.img-play {\n  display: none;\n}\n\n.controls button img {\n  height: 60%;\n}\n\n// .controls button:after {\n//   content: '.';\n//   color: transparent;\n//   background-size: cover;\n//   width: 20px;\n//   height: 20px;\n//   display: inline-block;\n// }\n\n/*\n.controls .play:after,\n.controls .step:after {\n  content: '.';\n  margin-left: 5px;\n  margin-top: 5px;\n  color: transparent;\n  user-select: none;\n  display: inline-block;\n  width: 20px;\n  height: 20px;\n  box-sizing: border-box;\n  border-width: 10px 0 10px 18px;\n  border-style: solid;\n  border-color: transparent transparent transparent rgb(200, 200, 200);\n}\n\n.controls .pause:after {\n  content: '.';\n  color: transparent;\n  user-select: none;\n  display: inline-block;\n  width: 15px;\n  height: 20px;\n  box-sizing: border-box;\n  border-width: 0 5px 0 5px;\n  border-style: solid;\n  border-color: transparent #CCC transparent #CCC;\n}\n\n.controls button:hover {\n  background-color: #282828;\n  cursor: pointer;\n}\n\n.controls .play:hover:after,\n.controls .pause:hover:after,\n.controls .step:hover:after {\n  border-left-color: #AAA;\n}\n\n.controls .pause:hover:after {\n  border-right-color: #AAA;\n}\n\n.controls button:active {\n  background-color: #222;\n  cursor: pointer;\n}\n\n.controls .play:active:after,\n.controls .pause:active:after,\n.controls .step:active:after {\n  border-left-color: #999;\n}\n\n.controls .pause:active:after {\n  border-right-color: #999;\n}\n\n.controls .step {\n  color:rgb(200, 200, 200);\n  font-size: 20px;\n  vertical-align: middle;\n}\n*/"],sourceRoot:""}]);const s=a},731:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(559),o=n.n(r),i=n(476),a=n.n(i)()(o());a.push([t.id,".stats{flex:1;margin:5px;overflow-y:scroll}","",{version:3,sources:["webpack://./assets/scss/Stats.scss"],names:[],mappings:"AAAA,OACE,MAAA,CACA,UAAA,CACA,iBAAA",sourcesContent:[".stats {\n  flex: 1;\n  margin: 5px;\n  overflow-y: scroll;\n}"],sourceRoot:""}]);const s=a},476:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,o,i){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var l=0;l<t.length;l++){var u=[].concat(t[l]);r&&a[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),e.push(u))}},e}},678:t=>{"use strict";t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},559:t=>{"use strict";t.exports=function(t){var e=t[1],n=t[3];if(!n)return e;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),i="/*# ".concat(o," */"),a=n.sources.map((function(t){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(t," */")}));return[e].concat(a).concat([i]).join("\n")}return[e].join("\n")}},634:(t,e,n)=>{"use strict";var r=n(533);e.s=r.createRoot,r.hydrateRoot},892:t=>{"use strict";var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var i={},a=[],s=0;s<t.length;s++){var c=t[s],l=r.base?c[0]+r.base:c[0],u=i[l]||0,p="".concat(l," ").concat(u);i[l]=u+1;var f=n(p),h={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==f)e[f].references++,e[f].updater(h);else{var g=o(h,r);r.byIndex=s,e.splice(s,0,{identifier:p,updater:g,references:1})}a.push(p)}return a}function o(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,o){var i=r(t=t||[],o=o||{});return function(t){t=t||[];for(var a=0;a<i.length;a++){var s=n(i[a]);e[s].references--}for(var c=r(t,o),l=0;l<i.length;l++){var u=n(i[l]);0===e[u].references&&(e[u].updater(),e.splice(u,1))}i=c}}},311:t=>{"use strict";var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},60:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},192:(t,e,n)=>{"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},760:t=>{"use strict";t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},865:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},304:t=>{t.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},506:(t,e,n)=>{"use strict";t.exports=n.p+"9682077a4df01046ecf8.png"},533:t=>{"use strict";t.exports=ReactDOM}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={id:r,exports:{}};return t[r](i,i.exports,n),i.exports}n.m=t,n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.p="/dofus-trap-network/",n.b=document.baseURI||self.location.href,n.nc=void 0,(()=>{"use strict";const t=React;var e=n(892),r=n.n(e),o=n(760),i=n.n(o),a=n(311),s=n.n(a),c=n(192),l=n.n(c),u=n(60),p=n.n(u),f=n(865),h=n.n(f),g=n(542),y={};y.styleTagTransform=h(),y.setAttributes=l(),y.insert=s().bind(null,"head"),y.domAPI=i(),y.insertStyleElement=p(),r()(g.Z,y),g.Z&&g.Z.locals&&g.Z.locals,n(585);const d={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let v;const m=new Uint8Array(16);function b(){if(!v&&(v="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!v))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return v(m)}const A=[];for(let t=0;t<256;++t)A.push((t+256).toString(16).slice(1));const w=function(t,e,n){if(d.randomUUID&&!e&&!t)return d.randomUUID();const r=(t=t||{}).random||(t.rng||b)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(let t=0;t<16;++t)e[n+t]=r[t];return e}return function(t,e=0){return(A[t[e+0]]+A[t[e+1]]+A[t[e+2]]+A[t[e+3]]+"-"+A[t[e+4]]+A[t[e+5]]+"-"+A[t[e+6]]+A[t[e+7]]+"-"+A[t[e+8]]+A[t[e+9]]+"-"+A[t[e+10]]+A[t[e+11]]+A[t[e+12]]+A[t[e+13]]+A[t[e+14]]+A[t[e+15]]).toLowerCase()}(r)};function k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function O(t,e,n){return e&&k(t.prototype,e),n&&k(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var x=O((function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.uuid=w(),this.type=e,this.pos=n,this.id=n.y*Pt.width+n.x}));const C=x,S=JSON.parse('{"Cawwot":{"name":"Cawwot","image":"./assets/img/entities/Cawwot.png","offsetX":0.03,"offsetY":0.15,"defaultScale":1.48},"Poutch":{"name":"Poutch","image":"./assets/img/entities/Poutch.png","offsetX":-0.05,"offsetY":0.05,"defaultScale":1.46}}');function j(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var E,P,T,R=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.uuid=w(),this.pos=e,this.initialPos=e,this.team=n,this.data=t.getEntityData(r),this.animPos=void 0}var e,n,r;return e=t,r=[{key:"getEntityData",value:function(e){return t.entityData.get(e)}}],(n=[{key:"isMovable",value:function(){return!0}},{key:"reset",value:function(){var t;return this.pos=this.initialPos,null===(t=this.component)||void 0===t||t.show(),!0}}])&&j(e.prototype,n),r&&j(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();E=R,P="entityData",T=new Map(Object.entries(S)),P in E?Object.defineProperty(E,P,{value:T,enumerable:!0,configurable:!0,writable:!0}):E[P]=T;const N=R;function L(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function D(t,e,n){return e&&L(t.prototype,e),n&&L(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var B=D((function t(e,n,r,o,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type=e,this.area=n,this.size=r,this.min=o,this.max=i}));const _=B;function M(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function F(t,e,n){return e&&M(t.prototype,e),n&&M(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var I=F((function t(e,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pos=e,this.type=n,this.borders=r,this.trap=o}));const G=I;var U,z,W,V,H,Y,q,K,J,Z,$,X,Q;function tt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t){t[t.Ground=0]="Ground",t[t.Empty=1]="Empty",t[t.Wall=2]="Wall",t[t.Trap=3]="Trap"}(z||(z={})),function(t){t[t.Pull=0]="Pull",t[t.Push=1]="Push",t[t.WaterDamage=2]="WaterDamage",t[t.FireDamage=3]="FireDamage",t[t.EarthDamage=4]="EarthDamage",t[t.AirDamage=5]="AirDamage",t[t.PushDamage=6]="PushDamage",t[t.IndirectPushDamage=7]="IndirectPushDamage",t[t.MalusMP=8]="MalusMP",t[t.InsidiousGlyph=9]="InsidiousGlyph",t[t.MalevolentBoost=10]="MalevolentBoost",t[t.MiryHeal=11]="MiryHeal"}(W||(W={})),function(t){t[t.Cell=0]="Cell",t[t.Cross=1]="Cross",t[t.Circle=2]="Circle",t[t.Diagonal=3]="Diagonal",t[t.Ring=4]="Ring",t[t.Square=5]="Square"}(V||(V={})),function(t){t[t.Attacker=0]="Attacker",t[t.Defender=1]="Defender"}(H||(H={})),function(t){t[t.North=0]="North",t[t.East=1]="East",t[t.South=2]="South",t[t.West=3]="West",t[t.Northeast=4]="Northeast",t[t.Southeast=5]="Southeast",t[t.Southwest=6]="Southwest",t[t.Northwest=7]="Northwest"}(Y||(Y={})),function(t){t.Player="Player",t.Cawwot="Cawwot",t.Poutch="Poutch"}(q||(q={})),function(t){t[t.Tricky=0]="Tricky",t[t.Insidious=1]="Insidious",t[t.Miry=2]="Miry",t[t.Mass=3]="Mass",t[t.Drift=4]="Drift",t[t.Malevolent=5]="Malevolent",t[t.Fragmentation=6]="Fragmentation",t[t.Paralysing=7]="Paralysing",t[t.Repelling=8]="Repelling",t[t.Sickrat=9]="Sickrat",t[t.Lethal=10]="Lethal",t[t.Calamity=11]="Calamity",t[t.MassGrave=12]="MassGrave",t[t.Test=13]="Test"}(K||(K={})),function(t){t[t.North=1]="North",t[t.East=2]="East",t[t.South=4]="South",t[t.West=8]="West"}(J||(J={})),function(t){t[t.WaterTrap=0]="WaterTrap",t[t.FireTrap=1]="FireTrap",t[t.EarthTrap=2]="EarthTrap",t[t.AirTrap=3]="AirTrap",t[t.MalusTrap=4]="MalusTrap",t[t.Summon=5]="Summon",t[t.Other=6]="Other",t[t.Action=7]="Action"}(Z||(Z={})),function(t){t[t.TrickyTrap=0]="TrickyTrap",t[t.DriftTrap=1]="DriftTrap",t[t.FragmentationTrap=2]="FragmentationTrap",t[t.MassTrap=3]="MassTrap",t[t.LethalTrap=4]="LethalTrap",t[t.MalevolentTrap=5]="MalevolentTrap",t[t.RepellingTrap=6]="RepellingTrap",t[t.InsidiousTrap=7]="InsidiousTrap",t[t.MiryTrap=8]="MiryTrap",t[t.SickratTrap=9]="SickratTrap",t[t.Calamity=10]="Calamity",t[t.ParalysingTrap=11]="ParalysingTrap",t[t.MassGrave=12]="MassGrave",t[t.Poutch=13]="Poutch",t[t.Cawwot=14]="Cawwot",t[t.Chakra=15]="Chakra",t[t.TestTrap=16]="TestTrap",t[t.Select=17]="Select",t[t.Remove=18]="Remove"}($||($={})),function(t){t[t.Waiting=0]="Waiting",t[t.Current=1]="Current",t[t.Completed=2]="Completed"}(X||(X={})),function(t){t.Select="Select",t.Remove="Remove"}(Q||(Q={}));var et=(tt(U={},K.Tricky,"tricky"),tt(U,K.Insidious,"insidious"),tt(U,K.Miry,"miry"),tt(U,K.Mass,"mass"),tt(U,K.Drift,"drift"),tt(U,K.Malevolent,"malevolent"),tt(U,K.Fragmentation,"fragmentation"),tt(U,K.Paralysing,"paralysing"),tt(U,K.Repelling,"repelling"),tt(U,K.Sickrat,"sickrat"),tt(U,K.Lethal,"lethal"),tt(U,K.Calamity,"calamity"),tt(U,K.MassGrave,"massgrave"),tt(U,K.Test,"test-trap"),U);function nt(t){return nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nt(t)}function rt(){rt=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof f?e:f,a=Object.create(i.prototype),s=new C(o||[]);return r(a,"_invoke",{value:w(t,n,s)}),a}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var p={};function f(){}function h(){}function g(){}var y={};c(y,i,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(S([])));v&&v!==e&&n.call(v,i)&&(y=v);var m=g.prototype=f.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function o(r,i,a,s){var c=u(t[r],t,i);if("throw"!==c.type){var l=c.arg,p=l.value;return p&&"object"==nt(p)&&n.call(p,"__await")?e.resolve(p.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(p).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,s)}))}s(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function w(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function k(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,p;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=g,r(m,"constructor",{value:g,configurable:!0}),r(g,"constructor",{value:h,configurable:!0}),h.displayName=c(g,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,c(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(A.prototype),c(A.prototype,a,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new A(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),c(m,s,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),x(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}var ot=rt().mark(ut);function it(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function at(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?it(Object(n),!0).forEach((function(e){st(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function st(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ct(t,e,n){for(var r=[],o=ut(t),i=[V.Diagonal,V.Square].includes(e),a=n*(i?2:1)*(n*(i?2:1)+1)*2+1,s=0;s<a;s++){var c=o.next().value;lt(c,e,t,n)&&r.push(c)}return r}function lt(t,e,n,r){var o=ft(n,t);switch(e){case V.Cell:return n.x===t.x&&n.y===t.y;case V.Cross:return o.real<=r&&o.absolute.x===o.absolute.y;case V.Circle:return o.real<=r;case V.Diagonal:return 0===o.absolute.x&&o.absolute.y<=2*r||0===o.absolute.y&&o.absolute.x<=2*r;case V.Ring:return o.real===r;case V.Square:return o.absolute.x+o.absolute.y<=2*r;default:return!1}}function ut(t){var e,n,r,o,i,a,s;return rt().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return e=t,c.next=3,at({},t);case 3:n=1;case 4:r=0,o=[Y.North,Y.East,Y.South,Y.West];case 6:if(!(r<o.length)){c.next=34;break}return i=o[r],a=pt(t,i,n),e=a,c.next=12,at({},a);case 12:s=0;case 13:if(!(s<n-1)){c.next=31;break}c.t0=i,c.next=c.t0===Y.North?17:c.t0===Y.East?19:c.t0===Y.South?21:c.t0===Y.West?23:25;break;case 17:return e.y+=2,c.abrupt("break",26);case 19:return e.x--,c.abrupt("break",26);case 21:return e.y-=2,c.abrupt("break",26);case 23:return e.x++,c.abrupt("break",26);case 25:return c.abrupt("break",26);case 26:return c.next=28,at({},e);case 28:s++,c.next=13;break;case 31:r++,c.next=6;break;case 34:n++,c.next=4;break;case 37:case"end":return c.stop()}}),ot)}function pt(t,e,n){switch(t=at({},t),e){case Y.North:t.x+=Math.floor((n+t.y%2)/2),t.y-=n;break;case Y.East:t.x+=Math.floor((n+t.y%2)/2),t.y+=n;break;case Y.South:t.x-=Math.floor((n+(1-t.y%2))/2),t.y+=n;break;case Y.West:t.x-=Math.floor((n+(1-t.y%2))/2),t.y-=n;break;case Y.Northeast:t.x+=Math.ceil(n/2);break;case Y.Southeast:t.y+=2*Math.ceil(n/2);break;case Y.Southwest:t.x-=Math.ceil(n/2);break;case Y.Northwest:t.y-=2*Math.ceil(n/2)}return t}function ft(t,e){var n={x:2*(t.x-e.x),y:t.y-e.y};return t.y%2!=e.y%2&&(e.y%2==1?n.x--:n.x++),{real:Math.max(Math.abs(n.x),Math.abs(n.y)),absolute:{x:Math.abs(n.x),y:Math.abs(n.y)},relative:{x:-n.x,y:-n.y}}}function ht(t,e,n,r){var o=ft(t,e),i=0;switch(0===r&&(i|=J.North|J.East|J.South|J.West),n){case V.Cell:case V.Diagonal:case V.Ring:i|=J.North|J.East|J.South|J.West;break;case V.Cross:if(0===o.real)break;o.relative.x<0==o.relative.y<0?i|=J.North|J.South:i|=J.East|J.West,o.relative.x>0&&o.relative.y<0&&o.real===r&&(i|=J.North),o.relative.x>0&&o.relative.y>0&&o.real===r&&(i|=J.East),o.relative.x<0&&o.relative.y>0&&o.real===r&&(i|=J.South),o.relative.x<0&&o.relative.y<0&&o.real===r&&(i|=J.West);break;case V.Circle:if(o.real<r)break;o.relative.x===r&&(i|=J.North|J.East),o.relative.y===r&&(i|=J.South|J.East),o.relative.x===-r&&(i|=J.South|J.West),o.relative.y===-r&&(i|=J.North|J.West);break;case V.Square:if(o.absolute.x+o.absolute.y<2*r)break;o.relative.x>=0&&o.relative.y<=0&&(i|=J.North),o.relative.x>=0&&o.relative.y>=0&&(i|=J.East),o.relative.x<=0&&o.relative.y>=0&&(i|=J.South),o.relative.x<=0&&o.relative.y<=0&&(i|=J.West)}return i}function gt(t,e){var n=ft(t,e);if(0===n.absolute.x)return n.relative.y>0?Y.Southeast:n.relative.y<0?Y.Northwest:void 0;if(0===n.absolute.y){if(n.relative.x>0)return Y.Northeast;if(n.relative.x<0)return Y.Southwest}return n.relative.x>0&&n.relative.y>0?Y.East:n.relative.x>0&&n.relative.y<0?Y.North:n.relative.x<0&&n.relative.y>0?Y.South:n.relative.x<0&&n.relative.y<0?Y.West:void 0}const yt=JSON.parse('{"0":{"image":"./assets/img/traps/Tricky.svg","area":{"type":1,"size":1},"effects":[{"type":3,"value":{"min":26,"max":28},"area":{"type":1,"size":1}},{"type":0,"value":{"min":1,"max":1},"area":{"type":1,"size":1}}]},"1":{"image":"./assets/img/traps/Insidious.svg","area":{"type":0,"size":0},"effects":[{"type":9,"value":{"min":48,"max":52},"area":{"type":2,"size":3}}]},"2":{"image":"./assets/img/traps/Miry.svg","area":{"type":0,"size":0},"effects":[{"type":2,"value":{"min":33,"max":37},"area":{"type":0,"size":0}},{"type":11,"value":{"min":0.5,"max":0.5},"area":{"type":2,"size":2}}]},"3":{"image":"./assets/img/traps/Mass.svg","area":{"type":0,"size":0},"effects":[{"type":4,"value":{"min":34,"max":38},"area":{"type":2,"size":3}}]},"4":{"image":"./assets/img/traps/Drift.svg","area":{"type":3,"size":1},"effects":[{"type":3,"value":{"min":17,"max":19},"area":{"type":3,"size":1}},{"type":1,"value":{"min":2,"max":2},"area":{"type":3,"size":1}}]},"5":{"image":"./assets/img/traps/Malevolent.svg","area":{"type":0,"size":0},"effects":[{"type":10,"value":{"min":20,"max":20},"area":{"type":2,"size":2}},{"type":4,"value":{"min":28,"max":32},"area":{"type":0,"size":0}}]},"6":{"image":"./assets/img/traps/Fragmentation.svg","area":{"type":0,"size":0},"effects":[{"type":3,"value":{"min":13,"max":17},"area":{"type":0,"size":0}},{"type":3,"value":{"min":27,"max":31},"area":{"type":4,"size":1}},{"type":3,"value":{"min":37,"max":41},"area":{"type":4,"size":2}},{"type":3,"value":{"min":47,"max":51},"area":{"type":4,"size":3}}]},"7":{"image":"./assets/img/traps/Paralysing.svg","area":{"type":2,"size":3},"effects":[{"type":8,"value":{"min":4,"max":4},"area":{"type":2,"size":3}}]},"8":{"image":"./assets/img/traps/Repelling.svg","area":{"type":1,"size":1},"effects":[{"type":1,"value":{"min":2,"max":2},"area":{"type":1,"size":1}},{"type":5,"value":{"min":12,"max":12},"area":{"type":1,"size":1}}]},"9":{"image":"./assets/img/traps/Sickrat.svg","area":{"type":0,"size":0},"effects":[{"type":0,"value":{"min":3,"max":3},"area":{"type":1,"size":3}},{"type":2,"value":{"min":17,"max":19},"area":{"type":1,"size":3}}]},"10":{"image":"./assets/img/traps/Lethal.svg","area":{"type":0,"size":0},"effects":[{"type":4,"value":{"min":39,"max":43},"area":{"type":0,"size":0}}]},"11":{"image":"./assets/img/traps/Calamity.svg","area":{"type":0,"size":0},"effects":[{"type":2,"value":{"min":33,"max":37},"area":{"type":5,"size":1}}]},"12":{"image":"./assets/img/traps/MassGrave.svg","area":{"type":0,"size":0},"effects":[]},"13":{"image":"./assets/img/traps/Test.svg","area":{"type":1,"size":1},"effects":[{"type":1,"value":{"min":2,"max":2},"area":{"type":1,"size":2}},{"type":0,"value":{"min":2,"max":2},"area":{"type":1,"size":1}}]}}'),dt=JSON.parse('{"0":{"name":"Tricky Trap","icon":"./assets/img/spells/TrickyTrap.svg","category":1,"effect":{"trap":0}},"1":{"name":"Drift Trap","icon":"./assets/img/spells/DriftTrap.svg","category":1,"effect":{"trap":4}},"2":{"name":"Fragmentation Trap","icon":"./assets/img/spells/FragmentationTrap.svg","category":1,"effect":{"trap":6}},"3":{"name":"Mass Trap","icon":"./assets/img/spells/MassTrap.svg","category":2,"effect":{"trap":3}},"4":{"name":"Lethal Trap","icon":"./assets/img/spells/LethalTrap.svg","category":2,"effect":{"trap":10}},"5":{"name":"Malevolent Trap","icon":"./assets/img/spells/MalevolentTrap.svg","category":2,"effect":{"trap":5}},"6":{"name":"Repelling Trap","icon":"./assets/img/spells/RepellingTrap.svg","category":3,"effect":{"trap":8}},"7":{"name":"Insidious Trap","icon":"./assets/img/spells/InsidiousTrap.svg","category":3,"effect":{"trap":1}},"8":{"name":"Miry Trap","icon":"./assets/img/spells/MiryTrap.svg","category":0,"effect":{"trap":2}},"9":{"name":"Sickrat Trap","icon":"./assets/img/spells/SickratTrap.svg","category":0,"effect":{"trap":9}},"10":{"name":"Calamity","icon":"./assets/img/spells/Calamity.svg","category":0,"effect":{"trap":11}},"11":{"name":"Paralysing Trap","icon":"./assets/img/spells/ParalysingTrap.svg","category":4,"effect":{"trap":7}},"12":{"name":"Mass Grave","icon":"./assets/img/spells/MassGrave.svg","category":4,"effect":{"trap":12}},"13":{"name":"Poutch Ingball","icon":"./assets/img/spells/Poutch.svg","category":5,"effect":{"entity":"Poutch"}},"14":{"name":"Cawwot","icon":"./assets/img/spells/Cawwot.svg","category":5,"effect":{"entity":"Cawwot"}},"15":{"name":"Chakra Concentration","icon":"./assets/img/spells/ChakraConcentration.svg","category":6,"effect":{"trap":12}},"16":{"name":"Test Trap","icon":"./assets/img/spells/TestTrap.svg","category":6,"effect":{"trap":13}},"17":{"name":"Select","icon":"./assets/img/spells/Select.svg","category":7,"effect":{"action":"Select"}},"18":{"name":"Remove","icon":"./assets/img/spells/Remove.svg","category":7,"effect":{"action":"Remove"}}}');function vt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var mt=yt,bt=dt,At=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.uuid=w(),this.pos=e,this.type=n,this.area=mt[this.type].area.type,this.size=mt[this.type].area.size,this.image=mt[this.type].image,this.caster=r,this.component=void 0,this.active=!0,this.effects=[];for(var o=0;o<mt[this.type].effects.length;o++)this.effects.push(new _(mt[this.type].effects[o].type,mt[this.type].effects[o].area.type,mt[this.type].effects[o].area.size,mt[this.type].effects[o].value.min,mt[this.type].effects[o].value.max))}var e,n;return e=t,n=[{key:"getTrapCells",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.active&&!t)return[];for(var e=[],n=ct({x:this.pos.x,y:this.pos.y},this.area,this.size),r=0;r<n.length;r++)e.push(new G(n[r],this.type,ht(this.pos,n[r],this.area,this.size),this));return e}},{key:"isInTrap",value:function(t){return!!this.active&&lt(t,this.area,this.pos,this.size)}},{key:"enable",value:function(){var t;this.active=!0,null===(t=this.component)||void 0===t||t.show()}},{key:"disable",value:function(){var t;this.active=!1,null===(t=this.component)||void 0===t||t.hide()}},{key:"getSpellIcon",value:function(){for(var t in bt){var e;if((null===(e=bt[t].effect)||void 0===e?void 0:e.trap)===this.type)return bt[t].icon}}}],n&&vt(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();const wt=At;function kt(t){return kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kt(t)}function Ot(){Ot=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof f?e:f,a=Object.create(i.prototype),s=new C(o||[]);return r(a,"_invoke",{value:w(t,n,s)}),a}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var p={};function f(){}function h(){}function g(){}var y={};c(y,i,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(S([])));v&&v!==e&&n.call(v,i)&&(y=v);var m=g.prototype=f.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function o(r,i,a,s){var c=u(t[r],t,i);if("throw"!==c.type){var l=c.arg,p=l.value;return p&&"object"==kt(p)&&n.call(p,"__await")?e.resolve(p.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(p).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,s)}))}s(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function w(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function k(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,p;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=g,r(m,"constructor",{value:g,configurable:!0}),r(g,"constructor",{value:h,configurable:!0}),h.displayName=c(g,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,c(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(A.prototype),c(A.prototype,a,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new A(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),c(m,s,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),x(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function xt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ct=function(){function t(e,n,r,o,i,a,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.uuid=w(),this.originEntity=e,this.targetEntity=n,this.originPos=r,this.targetPos=o,this.type=i,this.value=a,this.originTrap=s}var e,n;return e=t,n=[{key:"apply",value:Ot().mark((function e(){var n,r,o,i,a,s,c,l;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.type,e.next=e.t0===W.Pull?3:e.t0===W.Push?25:e.t0===W.WaterDamage?48:e.t0===W.FireDamage?50:e.t0===W.EarthDamage?52:e.t0===W.AirDamage?54:e.t0===W.PushDamage?56:e.t0===W.IndirectPushDamage?58:e.t0===W.MalusMP?60:e.t0===W.InsidiousGlyph?62:e.t0===W.MalevolentBoost?64:e.t0===W.MiryHeal?66:68;break;case 3:if(this.targetEntity.isMovable()){e.next=5;break}return e.abrupt("break",68);case 5:n=gt(this.targetPos,this.originPos),r=[Y.Northeast,Y.Southeast,Y.Southwest,Y.Northwest].includes(n),o=0;case 8:if(!(o<(r?Math.ceil(this.value/2):this.value))){e.next=24;break}if(i=pt(this.targetEntity.pos,n,1),!Pt.isMovementPossible(this.targetEntity.pos,i,n)){e.next=20;break}return this.targetEntity.animPos=i,e.next=14,this.targetEntity;case 14:if(this.targetEntity.pos=this.targetEntity.animPos,this.targetEntity.animPos=void 0,!Pt.triggerTraps(i)){e.next=18;break}return e.abrupt("break",24);case 18:e.next=21;break;case 20:return e.abrupt("break",24);case 21:o++,e.next=8;break;case 24:return e.abrupt("break",68);case 25:if(this.targetEntity.isMovable()){e.next=27;break}return e.abrupt("break",68);case 27:a=gt(this.originPos,this.targetPos),s=[Y.Northeast,Y.Southeast,Y.Southwest,Y.Northwest].includes(a),c=0;case 30:if(!(c<(s?Math.ceil(this.value/2):this.value))){e.next=47;break}if(l=pt(this.targetEntity.pos,a,1),!Pt.isMovementPossible(this.targetEntity.pos,l,a)){e.next=42;break}return this.targetEntity.animPos=l,e.next=36,this.targetEntity;case 36:if(this.targetEntity.pos=this.targetEntity.animPos,this.targetEntity.animPos=void 0,!Pt.triggerTraps(l)){e.next=40;break}return e.abrupt("break",47);case 40:e.next=44;break;case 42:return Pt.addToActionStack(new t(this.originEntity,this.targetEntity,this.targetEntity.pos,l,W.PushDamage,s?2*Math.ceil(this.value/2):this.value-c,this.originTrap)),e.abrupt("break",47);case 44:c++,e.next=30;break;case 47:return e.abrupt("break",68);case 48:return console.log('Applying effect "WaterDamage" to '.concat(this.targetEntity.data.name)),e.abrupt("break",68);case 50:return console.log('Applying effect "FireDamage" to '.concat(this.targetEntity.data.name)),e.abrupt("break",68);case 52:return console.log('Applying effect "EarthDamage" to '.concat(this.targetEntity.data.name)),e.abrupt("break",68);case 54:return console.log('Applying effect "AirDamage" to '.concat(this.targetEntity.data.name)),e.abrupt("break",68);case 56:return console.log('Applying effect "PushDamage" to '.concat(this.targetEntity.data.name)),e.abrupt("break",68);case 58:return console.log('Applying effect "IndirectPushDamage" to '.concat(this.targetEntity.data.name)),e.abrupt("break",68);case 60:return console.log('Applying effect "MalusMP" to '.concat(this.targetEntity.data.name)),e.abrupt("break",68);case 62:return console.log('Applying effect "InsidiousGlyph" to '.concat(this.targetEntity.data.name)),e.abrupt("break",68);case 64:return console.log('Applying effect "MalevolentBoost" to '.concat(this.targetEntity.data.name)),e.abrupt("break",68);case 66:return console.log('Applying effect "MiryHeal" to '.concat(this.targetEntity.data.name)),e.abrupt("break",68);case 68:case"end":return e.stop()}}),e,this)}))}],n&&xt(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function St(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Et=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.width=14,this.height=40,this.entities=[],this.traps=[],this.actionStack=[],this.completedActionStack=[],this.savedActionStack=[],this.currentAction=void 0,this.mapLoaded=!1,this.waitingAnim=!1,this.mapComponent=void 0,this.startPoint=void 0,this.remainingSteps=-1,this.loadMap(e),window.Game=this,this.placeEntity(new N({x:6,y:34},H.Attacker,q.Poutch)),this.placeEntity(new N({x:3,y:29},H.Defender,q.Poutch)),this.placeEntity(new N({x:4,y:26},H.Defender,q.Poutch)),this.placeTrap(new wt({x:3,y:30},K.Repelling,this.entities[0])),this.placeTrap(new wt({x:3,y:28},K.Repelling,this.entities[0])),this.placeTrap(new wt({x:3,y:31},K.Drift,this.entities[0])),this.placeTrap(new wt({x:5,y:26},K.Tricky,this.entities[0])),this.placeTrap(new wt({x:4,y:27},K.Sickrat,this.entities[0])),this.placeTrap(new wt({x:5,y:30},K.Repelling,this.entities[0])),this.placeTrap(new wt({x:6,y:27},K.Tricky,this.entities[0])),this.placeTrap(new wt({x:6,y:28},K.Sickrat,this.entities[0])),this.placeTrap(new wt({x:8,y:28},K.Tricky,this.entities[0])),this.placeTrap(new wt({x:7,y:29},K.Sickrat,this.entities[0])),this.setStartPoint({x:3,y:29})}var e,n;return e=t,n=[{key:"setStartPoint",value:function(t){this.startPoint=t}},{key:"run",value:function(){this.startPoint&&(this.savedActionStack=[],this.triggerTraps(this.startPoint),this.remainingSteps=-1,this.triggerStack())}},{key:"runOne",value:function(){this.startPoint&&(this.remainingSteps=1,0===this.actionStack.length&&(this.savedActionStack=[],this.triggerTraps(this.startPoint)),this.triggerStack())}},{key:"pause",value:function(){this.remainingSteps=0}},{key:"refreshMap",value:function(){var t;null===(t=this.mapComponent)||void 0===t||t.forceUpdate()}},{key:"refreshHistory",value:function(){var t;null===(t=this.historyComponent)||void 0===t||t.forceUpdate()}},{key:"getAllTrapCells",value:function(){for(var t=[],e=0;e<this.traps.length;e++)for(var n=this.traps[e].getTrapCells(),r=0;r<n.length;r++){var o,i,a;(null===(o=this.map)||void 0===o||null===(i=o[n[r].pos.x])||void 0===i||null===(a=i[n[r].pos.y])||void 0===a?void 0:a.type)===z.Ground&&(n[r].borders|=this.getCellBorders(n[r].pos),t.push(n[r]))}return t}},{key:"placeEntity",value:function(t){this.entities.push(t)}},{key:"placeTrap",value:function(t){this.traps.unshift(t)}},{key:"getCellBorders",value:function(t){for(var e,n=0,r=(St(e={},Y.North,J.North),St(e,Y.East,J.East),St(e,Y.South,J.South),St(e,Y.West,J.West),e),o=0,i=[Y.North,Y.East,Y.South,Y.West];o<i.length;o++){var a,s,c=i[o],l=pt(t,c,1);void 0!==(null===(a=this.map)||void 0===a||null===(s=a[l.x])||void 0===s?void 0:s[l.y])&&this.map[l.x][l.y].type===z.Ground||(n|=r[c])}return n}},{key:"loadMap",value:function(t){var e=this,n="./assets/maps/".concat(t,".json");fetch(n).then((function(t){return t.json()})).then((function(t){var n=t.Data[0].Cells;e.map=new Array(n[0].length);for(var r=0;r<n[0].length;r++){e.map[r]=new Array(n.length);for(var o=0;o<n.length;o++)e.map[r][o]=new C(n[o][r],{x:r,y:o})}e.refreshMap(),e.mapLoaded=!0}),(function(t){console.error(t)}))}},{key:"getCell",value:function(t){var e,n;return null===(e=this.map)||void 0===e||null===(n=e[t.x])||void 0===n?void 0:n[t.y]}},{key:"getEntity",value:function(t){for(var e=0;e<this.entities.length;e++)if(this.entities[e].pos.x===t.x&&this.entities[e].pos.y===t.y)return this.entities[e]}},{key:"getTrap",value:function(t){for(var e=0;e<this.traps.length;e++)if(this.traps[e].pos.x===t.x&&this.traps[e].pos.y===t.y)return this.traps[e]}},{key:"removeEntity",value:function(t){for(var e=0;e<this.entities.length;e++)if(this.entities[e].pos.x===t.x&&this.entities[e].pos.y===t.y){this.entities.splice(e,1);break}}},{key:"removeTrap",value:function(t){for(var e=0;e<this.traps.length;e++)if(this.traps[e].pos.x===t.x&&this.traps[e].pos.y===t.y){this.traps.splice(e,1);break}}},{key:"getEntitiesInArea",value:function(t,e,n){for(var r=[],o=ut(t),i=[V.Diagonal,V.Square].includes(e),a=n*(i?2:1)*(n*(i?2:1)+1)*2+1,s=0;s<a;s++){var c=o.next().value;if(lt(c,e,t,n)){var l=this.getEntity(c);l&&r.push(l)}}return r}},{key:"triggerTraps",value:function(t){for(var e,n,r=[],o=0;o<this.traps.length;o++)if(this.traps[o].isInTrap(t)){for(var i=[],a=0;a<this.traps[o].effects.length;a++){var s=this.getEntitiesInArea(this.traps[o].pos,this.traps[o].effects[a].area,this.traps[o].effects[a].size);this.traps[o].effects[a].type===W.Push&&(s=s.reverse());for(var c=(e=this.traps[o].effects[a].min,n=this.traps[o].effects[a].max,e+Math.floor(Math.random()*(n-e))),l=0;l<s.length;l++)i.unshift(new Ct(this.traps[o].caster,s[l],this.traps[o].pos,s[l].pos,this.traps[o].effects[a].type,c,this.traps[o]))}this.addToActionStack.apply(this,i),r.push(o)}for(var u=r.length-1;u>=0;u--)this.traps[r[u]].disable();return r.length>0}},{key:"addToActionStack",value:function(){var t;(t=this.actionStack).push.apply(t,arguments)}},{key:"triggerStack",value:function(){for(;this.waitingAnim||0!=this.remainingSteps--&&(this.currentAction=this.actionStack.pop());){this.refreshHistory(),this.waitingAnim||(this.actionGenerator=this.currentAction.apply());var t=this.actionGenerator.next();if(!t.done&&t.value)return this.waitingAnim=!0,void t.value.component.move(t.value.pos,t.value.animPos);this.completedActionStack.push(this.currentAction),this.currentAction=void 0,this.waitingAnim=!1}this.refreshMap()}},{key:"isMovementPossible",value:function(t,e,n){var r;if([Y.Northeast,Y.Southeast,Y.Southwest,Y.Northwest].includes(n)){var o,i=(St(o={},Y.Northeast,[Y.North,Y.East]),St(o,Y.Northwest,[Y.North,Y.West]),St(o,Y.Southwest,[Y.South,Y.West]),St(o,Y.Southeast,[Y.South,Y.East]),o);if(!this.isMovementPossible(t,pt(t,i[n][0],1),i[n][0])||!this.isMovementPossible(t,pt(t,i[n][1],1),i[n][1]))return!1}return(null===(r=this.getCell(e))||void 0===r?void 0:r.type)===z.Ground&&void 0===this.getEntity(e)}},{key:"getActionStack",value:function(){return this.savedActionStack.length>0?{waiting:[],completed:this.savedActionStack,current:void 0}:{waiting:this.actionStack,completed:this.completedActionStack,current:this.currentAction}}},{key:"resetAll",value:function(){for(var t=0;t<this.entities.length;t++)this.entities[t].reset();for(var e=0;e<this.traps.length;e++)this.traps[e].enable();this.savedActionStack=this.completedActionStack,this.completedActionStack=[],this.actionStack=[],this.currentAction=void 0,this.waitingAnim=!1,this.refreshMap()}},{key:"getActionsFromTrap",value:function(t){for(var e,n=[],r=0;r<this.savedActionStack.length;r++)this.savedActionStack[r].originTrap.uuid===t.uuid&&n.push(this.savedActionStack[r]);for(var o=0;o<this.actionStack.length;o++)this.actionStack[o].originTrap.uuid===t.uuid&&n.push(this.actionStack[o]);for(var i=0;i<this.completedActionStack.length;i++)this.completedActionStack[i].originTrap.uuid===t.uuid&&n.push(this.completedActionStack[i]);return(null===(e=this.currentAction)||void 0===e?void 0:e.originTrap.uuid)===t.uuid&&n.push(this.currentAction),n}},{key:"onEntityTransitionEnd",value:function(){this.triggerStack()}},{key:"selectSpell",value:function(t){this.selectedSpell=t}},{key:"onCellClick",value:function(t){var e,n,r,o,i,a;void 0!==(null===(e=this.selectedSpell)||void 0===e||null===(n=e.effect)||void 0===n?void 0:n.trap)&&void 0===this.getTrap(t)&&this.placeTrap(new wt(t,this.selectedSpell.effect.trap,this.entities[0])),void 0!==(null===(r=this.selectedSpell)||void 0===r||null===(o=r.effect)||void 0===o?void 0:o.entity)&&void 0===this.getEntity(t)&&this.placeEntity(new N(t,H.Defender,this.selectedSpell.effect.entity)),void 0!==(null===(i=this.selectedSpell)||void 0===i||null===(a=i.effect)||void 0===a?void 0:a.action)&&this.runActionSpell(t,this.selectedSpell.effect.action),this.refreshMap()}},{key:"runActionSpell",value:function(t,e){switch(e){case Q.Remove:this.getEntity(t)?this.removeEntity(t):this.getTrap(t)&&this.removeTrap(t);break;case Q.Select:this.setStartPoint(t)}}}],n&&jt(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();const Pt=new Et("empty");var Tt=n(456),Rt={};function Nt(t){return Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nt(t)}function Lt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bt(t,e){return Bt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Bt(t,e)}function _t(t,e){if(e&&("object"===Nt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Mt(t){return Mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Mt(t)}Rt.styleTagTransform=h(),Rt.setAttributes=l(),Rt.insert=s().bind(null,"head"),Rt.domAPI=i(),Rt.insertStyleElement=p(),r()(Tt.Z,Rt),Tt.Z&&Tt.Z.locals&&Tt.Z.locals;var Ft=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bt(t,e)}(s,e);var n,r,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Mt(o);if(i){var n=Mt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return _t(this,t)});function s(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),a.call(this,t)}return n=s,(r=[{key:"onClick",value:function(){Pt.onCellClick({x:this.props.x,y:this.props.y})}},{key:"render",value:function(){var e,n,r=this,o=null===(e=Pt.getCell(this.props))||void 0===e?void 0:e.type,i=this.props.y%2==0,a={x:this.props.x*this.props.width+(i?0:this.props.width/2),y:this.props.y*(this.props.height/2)},s=(Lt(n={},z.Ground,"ground"),Lt(n,z.Empty,"empty"),Lt(n,z.Wall,"wall"),n),c=[];return o===z.Wall?c.push(t.createElement("polygon",{key:"polygon-1",points:"\n          ".concat(a.x+this.props.width/2,",").concat(a.y-this.props.height/2,"\n          ").concat(a.x+this.props.width,",").concat(a.y,"\n          ").concat(a.x+this.props.width/2,",").concat(a.y+this.props.height/2,"\n          ").concat(a.x,",").concat(a.y,"\n        ")}),t.createElement("polygon",{key:"polygon-2",points:"\n          ".concat(a.x,",").concat(a.y,"\n          ").concat(a.x,",").concat(a.y+this.props.height/2,"\n          ").concat(a.x+this.props.width/2,",").concat(a.y+this.props.height,"\n          ").concat(a.x+this.props.width/2,",").concat(a.y+this.props.height/2,"\n        ")}),t.createElement("polygon",{key:"polygon-3",points:"\n          ".concat(a.x+this.props.width/2,",").concat(a.y+this.props.height/2,"\n          ").concat(a.x+this.props.width/2,",").concat(a.y+this.props.height,"\n          ").concat(a.x+this.props.width,",").concat(a.y+this.props.height/2,"\n          ").concat(a.x+this.props.width,",").concat(a.y,"\n        ")})):c.push(t.createElement("polygon",{key:"polygon-4",points:"\n        ".concat(a.x+this.props.width/2,",").concat(a.y,"\n        ").concat(a.x+this.props.width,",").concat(a.y+this.props.height/2,"\n        ").concat(a.x+this.props.width/2,",").concat(a.y+this.props.height,"\n        ").concat(a.x,",").concat(a.y+this.props.height/2,"\n      "),onClick:function(){r.onClick()}})),t.createElement("g",{className:"cell ".concat(i?"even":"odd"," ").concat(s[o])},c)}}])&&Dt(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);const It=Ft;function Gt(t){return Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gt(t)}function Ut(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function zt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ut(Object(n),!0).forEach((function(e){Wt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ut(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Wt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ht(t,e){return Ht=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ht(t,e)}function Yt(t,e){if(e&&("object"===Gt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function qt(t){return qt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qt(t)}var Kt=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ht(t,e)}(s,e);var n,r,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=qt(o);if(i){var n=qt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Yt(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this,t)).state={animX:void 0,animY:void 0,display:!0},e.transitionCounter=0,e}return n=s,(r=[{key:"show",value:function(){this.setState((function(t){return zt(zt({},t),{},{display:!0})}))}},{key:"hide",value:function(){this.setState((function(t){return zt(zt({},t),{},{display:!1})}))}},{key:"move",value:function(t,e){this.transitionCounter=2,lt(t,V.Diagonal,e,40)&&(this.transitionCounter=1),this.setState({animX:e.x,animY:e.y})}},{key:"onTransitionEnd",value:function(){this.transitionCounter<=1?(this.setState({animX:void 0,animY:void 0}),Pt.onEntityTransitionEnd()):this.transitionCounter--}},{key:"render",value:function(){var e,n,r,o=this;if(this.state.display){var i=100/(Pt.width+.5),a=i/2,s=200/(2*Pt.width+(Pt.width>1?1:0))*this.props.entity.data.defaultScale,c=s,l=(null!==(e=this.state.animX)&&void 0!==e?e:this.props.entity.pos.x)*i+((null!==(n=this.state.animY)&&void 0!==n?n:this.props.entity.pos.y)%2==0?0:i/2),u=(null!==(r=this.state.animY)&&void 0!==r?r:this.props.entity.pos.y)*a/2;return t.createElement("g",{className:"entity"},t.createElement("ellipse",{className:"entity-circle ".concat(this.props.entity.team===H.Attacker?"attacker":"defender"),cx:l+i/2,cy:u+a/2,rx:.3*i,ry:.3*a,onTransitionEnd:function(){o.onTransitionEnd()}}),t.createElement("image",{className:"entity-image",href:this.props.entity.data.image,x:l-s/2+i/2+this.props.entity.data.offsetX*i,y:u-c+.75*a+this.props.entity.data.offsetY*a,width:s,height:c}))}}}])&&Vt(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);const Jt=Kt;function Zt(t){return Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zt(t)}function $t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qt(t,e){return Qt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Qt(t,e)}function te(t,e){if(e&&("object"===Zt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ee(t){return ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ee(t)}var ne=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qt(t,e)}(s,e);var n,r,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ee(o);if(i){var n=ee(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return te(this,t)});function s(){return $t(this,s),a.apply(this,arguments)}return n=s,r=[{key:"render",value:function(){for(var e=this,n=[],r=100/(Pt.width+.5),o=r/2,i=function(i){var a=e.props.entities[i];a instanceof C?n.push(t.createElement(It,{x:a.pos.x,y:a.pos.y,id:a.pos.y*Pt.width+a.pos.x,width:r,height:o,key:a.uuid})):n.push(t.createElement(Jt,{entity:a,ref:function(t){a.component=t},key:a.uuid}))},a=0;a<this.props.entities.length;a++)i(a);if(this.props.startPoint){var s={x:this.props.startPoint.x*r+(this.props.startPoint.y%2==0?0:r/2),y:this.props.startPoint.y*o/2};n.push(t.createElement("image",{className:"entity-image",href:"./assets/img/entities/Target.svg",x:s.x+.15*r,y:s.y+.15*o,width:.7*r,height:.7*o}))}return n}}],r&&Xt(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);const re=ne;function oe(t){return oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oe(t)}function ie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ae(t,e){return ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ae(t,e)}function se(t,e){if(e&&("object"===oe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ce(t){return ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ce(t)}var le=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ae(t,e)}(s,e);var n,r,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ce(o);if(i){var n=ce(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return se(this,t)});function s(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),a.call(this,t)}return n=s,(r=[{key:"onMouseEnter",value:function(){this.props.setHighlight(!0)}},{key:"onMouseLeave",value:function(){this.props.setHighlight(!1)}},{key:"onClick",value:function(){Pt.onCellClick({x:this.props.x,y:this.props.y})}},{key:"render",value:function(){var e=this,n={x:this.props.x*this.props.width+(this.props.y%2==0?0:this.props.width/2),y:this.props.y*(this.props.height/2)},r=[];r.push(t.createElement("polygon",{key:"polygon",points:"\n      ".concat(n.x+this.props.width/2,",").concat(n.y,"\n      ").concat(n.x+this.props.width,",").concat(n.y+this.props.height/2,"\n      ").concat(n.x+this.props.width/2,",").concat(n.y+this.props.height,"\n      ").concat(n.x,",").concat(n.y+this.props.height/2),onMouseEnter:this.props.center?function(){e.onMouseEnter()}:void 0,onMouseLeave:this.props.center?function(){e.onMouseLeave()}:void 0,onClick:this.props.center?function(){e.onClick()}:void 0}));var o="";return this.props.borders&J.North&&(o+=" M ".concat(n.x+this.props.width/2,",").concat(n.y," L ").concat(n.x+this.props.width,",").concat(n.y+this.props.height/2," ")),this.props.borders&J.East&&(o+=" M ".concat(n.x+this.props.width,",").concat(n.y+this.props.height/2," L ").concat(n.x+this.props.width/2,",").concat(n.y+this.props.height," ")),this.props.borders&J.South&&(o+=" M ".concat(n.x+this.props.width/2,",").concat(n.y+this.props.height," L ").concat(n.x,",").concat(n.y+this.props.height/2," ")),this.props.borders&J.West&&(o+=" M ".concat(n.x,",").concat(n.y+this.props.height/2," L ").concat(n.x+this.props.width/2,",").concat(n.y," ")),r.push(t.createElement("path",{key:"path",d:o})),t.createElement("g",{className:"trap-cell ".concat(this.props.center?"trap-center":""," ").concat(et[this.props.type])},r)}}])&&ie(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);const ue=le;function pe(t){return pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pe(t)}function fe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function he(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fe(Object(n),!0).forEach((function(e){ge(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ge(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function de(t,e){return de=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},de(t,e)}function ve(t,e){if(e&&("object"===pe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function me(t){return me=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},me(t)}var be=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&de(t,e)}(s,e);var n,r,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=me(o);if(i){var n=me(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return ve(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this,t)).state={display:!0},e}return n=s,(r=[{key:"show",value:function(){this.setState((function(t){return he(he({},t),{},{display:!0})})),this.props.trap.imgComponent.style.display=""}},{key:"hide",value:function(){this.setState((function(t){return he(he({},t),{},{display:!1})})),this.props.trap.imgComponent.style.display="none"}},{key:"setHighlight",value:function(t){Pt.getActionsFromTrap(this.props.trap).forEach((function(e){var n;null===(n=e.component)||void 0===n||n.setHighlight(t)})),this.props.setHighlight(this.props.trap.uuid,t)}},{key:"render",value:function(){for(var e=this,n=[],r=100/(Pt.width+.5),o=r/2,i=this.props.trap.getTrapCells(this.props.highlight),a=0;a<i.length;a++){var s,c=i[a].pos.x===this.props.trap.pos.x&&i[a].pos.y===this.props.trap.pos.y;(this.state.display||c)&&(null===(s=Pt.getCell(i[a].pos))||void 0===s?void 0:s.type)===z.Ground&&(i[a].borders|=Pt.getCellBorders(i[a].pos),n.push(t.createElement(ue,{x:i[a].pos.x,y:i[a].pos.y,id:i[a].pos.y*Pt.width+i[a].pos.x,center:c,setHighlight:function(t){e.setHighlight(t)},width:r,height:o,type:i[a].type,borders:i[a].borders,key:a})))}return t.createElement("g",{className:"trap ".concat(et[this.props.trap.type])},n)}}])&&ye(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);const Ae=be;function we(t){return we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},we(t)}function ke(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Oe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ke(Object(n),!0).forEach((function(e){xe(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function xe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Se(t,e){return Se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Se(t,e)}function je(t,e){if(e&&("object"===we(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ee(t){return Ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ee(t)}var Pe=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Se(t,e)}(s,e);var n,r,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ee(o);if(i){var n=Ee(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return je(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this,t)).state={highlighted:[]},e}return n=s,r=[{key:"setHighlight",value:function(t,e){this.setState((function(n){var r=n.highlighted;if(e)r.push(t);else for(var o=0;-1!==(o=r.indexOf(t));)r.splice(o,1);return Oe(Oe({},n),{},{highlighted:r})}))}},{key:"render",value:function(){for(var e=this,n=[],r=[],o=[],i=[],a=100/(Pt.width+.5),s=a/2,c=function(c){var l=e.props.traps[c],u=l.pos.x*a+(l.pos.y%2==0?0:a/2),p=l.pos.y*(s/2);n.push(t.createElement(Ae,{trap:l,ref:function(t){l.component=t},setHighlight:function(t,n){e.setHighlight(t,n)},highlight:!1,key:"trap-"+l.uuid})),e.state.highlighted.includes(e.props.traps[c].uuid)?(o.push(t.createElement(Ae,{trap:l,ref:function(t){l.component=t},setHighlight:function(t,n){e.setHighlight(t,n)},highlight:!0,key:"trap-hl-"+l.uuid})),i.push(t.createElement("image",{className:"trap-image ".concat(et[l.type]),href:l.image,x:u+.08*a,y:p+.08*s,width:.84*a,height:.84*s,key:l.uuid,ref:function(t){l.imgComponent=t}}))):r.push(t.createElement("image",{className:"trap-image ".concat(et[l.type]),href:l.image,x:u+.15*a,y:p+.15*s,width:.7*a,height:.7*s,key:l.uuid,ref:function(t){l.imgComponent=t},style:{display:e.props.traps[c].active?"":"none"}}))},l=this.props.traps.length-1;l>=0;l--)c(l);return[t.createElement("g",{key:"g-1",className:"ground"},this.props.rows),t.createElement("g",{key:"g-2",className:"traps"},n,t.createElement("g",{className:"trap-images"},r),t.createElement("g",{className:"trap-highlighted"},o,t.createElement("g",{className:"trap-highlighted-images"},i)))]}}],r&&Ce(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);const Te=Pe;function Re(t){return Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Re(t)}function Ne(t){return function(t){if(Array.isArray(t))return Le(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Le(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Le(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Le(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function De(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Be(t,e){return Be=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Be(t,e)}function _e(t,e){if(e&&("object"===Re(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Me(t){return Me=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Me(t)}var Fe=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Be(t,e)}(s,e);var n,r,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Me(o);if(i){var n=Me(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return _e(this,t)});function s(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),a.call(this,t)}return n=s,r=[{key:"render",value:function(){for(var e=[],n=[],r=[],o=100/(this.props.cellNum+.5),i=o/2,a=0;a<this.props.rowNum;a++){for(var s=[],c=0;c<this.props.cellNum;c++){var l=Pt.getCell({x:c,y:a});(null==l?void 0:l.type)===z.Wall?r.push(l):s.push(t.createElement(It,{key:"cell-".concat(a*this.props.cellNum+c),y:a,x:c,id:a*this.props.cellNum+c,width:o,height:i}))}e.push(t.createElement("g",{className:"row ".concat(a%2==0?"even":"odd"),key:"row-".concat(a)},s))}n.push.apply(n,Ne(Pt.traps));var u=Array();u.push.apply(u,r),u.push.apply(u,Ne(Pt.entities)),u.sort((function(t,e){return t.pos.y-e.pos.y}));var p=2*this.props.cellNum+(this.props.rowNum>1?1:0),f=(this.props.rowNum+1)/2/p*100;return t.createElement("div",{className:"relative-height-source map"},t.createElement("svg",{className:"tiles",viewBox:"0 0 100 ".concat(f)},t.createElement(Te,{rows:e,traps:n})),t.createElement("svg",{className:"entities",viewBox:"0 0 100 ".concat(f)},t.createElement(re,{entities:u,startPoint:Pt.startPoint})))}}],r&&De(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);const Ie=Fe;var Ge=n(731),Ue={};function ze(t){return ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ze(t)}function We(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function He(t,e){return He=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},He(t,e)}function Ye(t,e){if(e&&("object"===ze(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function qe(t){return qe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qe(t)}Ue.styleTagTransform=h(),Ue.setAttributes=l(),Ue.insert=s().bind(null,"head"),Ue.domAPI=i(),Ue.insertStyleElement=p(),r()(Ge.Z,Ue),Ge.Z&&Ge.Z.locals&&Ge.Z.locals;const Ke=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&He(t,e)}(s,e);var n,r,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=qe(o);if(i){var n=qe(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Ye(this,t)});function s(){return We(this,s),a.apply(this,arguments)}return n=s,(r=[{key:"render",value:function(){return t.createElement("div",{className:"relative-height stats"},t.createElement("h3",null,"Important"),t.createElement("p",null,"Pour dmarrer un rseau de piges:"),t.createElement("p",null,'1- Utiliser le sort "Cibler" sur la case o le rseau commence.'),t.createElement("p",null,'2- Appuyer sur le bouton "play" ou "step".'),t.createElement("p",null,'3- Avant de poser de nouveaux piges, appuyer sur "stop".'),t.createElement("hr",null),t.createElement("p",null,"Cet outil est en plein dveloppement et risque de contenir beaucoup de bugs, mais il sera mis  jour trs rgulirement. (Je ne suis pas responsable si un ordinateur prend feu :eyes:)"),t.createElement("p",null,"Je suis ouvert  toutes propositions pour l'outil mais j'ai dj beaucoup d'ides qui attendent d'tre implmentes."),t.createElement("p",null,"Fait par Vinaigre (Discord: Vinaigre#4083)"),t.createElement("p",null,t.createElement("a",{style:{color:"yellow"},href:"https://github.com/Vinaigre1/dofus-trap-network"},"Le code est open-source !")))}}])&&Ve(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);var Je=n(493),Ze={};Ze.styleTagTransform=h(),Ze.setAttributes=l(),Ze.insert=s().bind(null,"head"),Ze.domAPI=i(),Ze.insertStyleElement=p(),r()(Je.Z,Ze),Je.Z&&Je.Z.locals&&Je.Z.locals;var $e=n(701),Xe={};function Qe(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function tn(t){return tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tn(t)}function en(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Xe.styleTagTransform=h(),Xe.setAttributes=l(),Xe.insert=s().bind(null,"head"),Xe.domAPI=i(),Xe.insertStyleElement=p(),r()($e.Z,Xe),$e.Z&&$e.Z.locals&&$e.Z.locals;var nn=n(304),rn=n.n(nn),on=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function an(t){var e={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},n=t.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(e.name=n[1],(rn()[n[1]]||"/"===t.charAt(t.length-2))&&(e.voidElement=!0),e.name.startsWith("!--"))){var r=t.indexOf("--\x3e");return{type:"comment",comment:-1!==r?t.slice(4,r):""}}for(var o=new RegExp(on),i=null;null!==(i=o.exec(t));)if(i[0].trim())if(i[1]){var a=i[1].trim(),s=[a,""];a.indexOf("=")>-1&&(s=a.split("=")),e.attrs[s[0]]=s[1],o.lastIndex--}else i[2]&&(e.attrs[i[2]]=i[3].trim().substring(1,i[3].length-1));return e}var sn=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,cn=/^\s*$/,ln=Object.create(null);function un(t,e){switch(e.type){case"text":return t+e.content;case"tag":return t+="<"+e.name+(e.attrs?function(t){var e=[];for(var n in t)e.push(n+'="'+t[n]+'"');return e.length?" "+e.join(" "):""}(e.attrs):"")+(e.voidElement?"/>":">"),e.voidElement?t:t+e.children.reduce(un,"")+"</"+e.name+">";case"comment":return t+"\x3c!--"+e.comment+"--\x3e"}}var pn={parse:function(t,e){e||(e={}),e.components||(e.components=ln);var n,r=[],o=[],i=-1,a=!1;if(0!==t.indexOf("<")){var s=t.indexOf("<");r.push({type:"text",content:-1===s?t:t.substring(0,s)})}return t.replace(sn,(function(s,c){if(a){if(s!=="</"+n.name+">")return;a=!1}var l,u="/"!==s.charAt(1),p=s.startsWith("\x3c!--"),f=c+s.length,h=t.charAt(f);if(p){var g=an(s);return i<0?(r.push(g),r):((l=o[i]).children.push(g),r)}if(u&&(i++,"tag"===(n=an(s)).type&&e.components[n.name]&&(n.type="component",a=!0),n.voidElement||a||!h||"<"===h||n.children.push({type:"text",content:t.slice(f,t.indexOf("<",f))}),0===i&&r.push(n),(l=o[i-1])&&l.children.push(n),o[i]=n),(!u||n.voidElement)&&(i>-1&&(n.voidElement||n.name===s.slice(2,-1))&&(i--,n=-1===i?r:o[i]),!a&&"<"!==h&&h)){l=-1===i?r:o[i].children;var y=t.indexOf("<",f),d=t.slice(f,-1===y?void 0:y);cn.test(d)&&(d=" "),(y>-1&&i+l.length>=0||" "!==d)&&l.push({type:"text",content:d})}})),r},stringify:function(t){return t.reduce((function(t,e){return t+un("",e)}),"")}};const fn=pn;function hn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yn(t,e,n){return e&&gn(t.prototype,e),n&&gn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var dn=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,vn={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},mn=function(t){return vn[t]};function bn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function An(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?bn(Object(n),!0).forEach((function(e){en(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var wn,kn={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:function(t){return t.replace(dn,mn)}},On=(0,t.createContext)();yn((function t(){hn(this,t),this.usedNamespaces={}}),[{key:"addUsedNamespaces",value:function(t){var e=this;t.forEach((function(t){e.usedNamespaces[t]||(e.usedNamespaces[t]=!0)}))}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]);var xn={type:"3rdParty",init:function(t){!function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};kn=An(An({},kn),t)}(t.options.react),function(t){wn=t}(t)}};function Cn(){if(console&&console.warn){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];"string"==typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(t=console).warn.apply(t,n)}}var Sn={};var jn=["format"],En=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function Pn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Tn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Pn(Object(n),!0).forEach((function(e){en(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Rn(t,e){if(!t)return!1;var n=t.props?t.props.children:t.children;return e?n.length>0:!!n}function Nn(t){return t?t.props?t.props.children:t.children:[]}function Ln(t){return Array.isArray(t)?t:[t]}function Dn(e,n){if(!e)return"";var r="",o=Ln(e),i=n.transSupportBasicHtmlNodes&&n.transKeepBasicHtmlNodesFor?n.transKeepBasicHtmlNodesFor:[];return o.forEach((function(e,o){if("string"==typeof e)r+="".concat(e);else if((0,t.isValidElement)(e)){var a=Object.keys(e.props).length,s=i.indexOf(e.type)>-1,c=e.props.children;if(!c&&s&&0===a)r+="<".concat(e.type,"/>");else if(c||s&&0===a)if(e.props.i18nIsDynamicList)r+="<".concat(o,"></").concat(o,">");else if(s&&1===a&&"string"==typeof c)r+="<".concat(e.type,">").concat(c,"</").concat(e.type,">");else{var l=Dn(c,n);r+="<".concat(o,">").concat(l,"</").concat(o,">")}else r+="<".concat(o,"></").concat(o,">")}else if(null===e)Cn("Trans: the passed in value is invalid - seems you passed in a null child.");else if("object"===tn(e)){var u=e.format,p=Qe(e,jn),f=Object.keys(p);if(1===f.length){var h=u?"".concat(f[0],", ").concat(u):f[0];r+="{{".concat(h,"}}")}else Cn("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",e)}else Cn("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",e)})),r}function Bn(e){var n=e.children,r=e.count,o=e.parent,i=e.i18nKey,a=e.context,s=e.tOptions,c=void 0===s?{}:s,l=e.values,u=e.defaults,p=e.components,f=e.ns,h=e.i18n,g=e.t,y=e.shouldUnescape,d=Qe(e,En),v=(0,t.useContext)(On)||{},m=v.i18n,b=v.defaultNS,A=h||m||wn;if(!A)return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];"string"==typeof e[0]&&Sn[e[0]]||("string"==typeof e[0]&&(Sn[e[0]]=new Date),Cn.apply(void 0,e))}("You will need to pass in an i18next instance by using i18nextReactModule"),n;var w=g||A.t.bind(A)||function(t){return t};a&&(c.context=a);var k=Tn(Tn({},kn),A.options&&A.options.react),O=f||w.ns||b||A.options&&A.options.defaultNS;O="string"==typeof O?[O]:O||["translation"];var x=u||Dn(n,k)||k.transEmptyNodeValue||i,C=k.hashTransKey,S=i||(C?C(x):x),j=l?c.interpolation:{interpolation:Tn(Tn({},c.interpolation),{},{prefix:"#$?",suffix:"?$#"})},E=Tn(Tn(Tn(Tn({},c),{},{count:r},l),j),{},{defaultValue:x,ns:O}),P=function(e,n,r,o,i,a){if(""===n)return[];var s=o.transKeepBasicHtmlNodesFor||[],c=n&&new RegExp(s.join("|")).test(n);if(!e&&!c)return[n];var l={};!function e(n){Ln(n).forEach((function(n){"string"!=typeof n&&(Rn(n)?e(Nn(n)):"object"!==tn(n)||(0,t.isValidElement)(n)||Object.assign(l,n))}))}(e);var u=fn.parse("<0>".concat(n,"</0>")),p=Tn(Tn({},l),i);function f(e,n,r){var o=Nn(e),i=g(o,n.children,r);return function(e){return"[object Array]"===Object.prototype.toString.call(e)&&e.every((function(e){return(0,t.isValidElement)(e)}))}(o)&&0===i.length?o:i}function h(e,n,r,o,i){e.dummy&&(e.children=n),r.push((0,t.cloneElement)(e,Tn(Tn({},e.props),{},{key:o}),i?void 0:n))}function g(n,i,l){var u=Ln(n);return Ln(i).reduce((function(n,i,y){var d,v,m,b=i.children&&i.children[0]&&i.children[0].content&&r.services.interpolator.interpolate(i.children[0].content,p,r.language);if("tag"===i.type){var A=u[parseInt(i.name,10)];!A&&1===l.length&&l[0][i.name]&&(A=l[0][i.name]),A||(A={});var w=0!==Object.keys(i.attrs).length?(d={props:i.attrs},(m=Tn({},v=A)).props=Object.assign(d.props,v.props),m):A,k=(0,t.isValidElement)(w),O=k&&Rn(i,!0)&&!i.voidElement,x=c&&"object"===tn(w)&&w.dummy&&!k,C="object"===tn(e)&&null!==e&&Object.hasOwnProperty.call(e,i.name);if("string"==typeof w){var S=r.services.interpolator.interpolate(w,p,r.language);n.push(S)}else if(Rn(w)||O)h(w,f(w,i,l),n,y);else if(x){var j=g(u,i.children,l);n.push((0,t.cloneElement)(w,Tn(Tn({},w.props),{},{key:y}),j))}else if(Number.isNaN(parseFloat(i.name)))if(C)h(w,f(w,i,l),n,y,i.voidElement);else if(o.transSupportBasicHtmlNodes&&s.indexOf(i.name)>-1)if(i.voidElement)n.push((0,t.createElement)(i.name,{key:"".concat(i.name,"-").concat(y)}));else{var E=g(u,i.children,l);n.push((0,t.createElement)(i.name,{key:"".concat(i.name,"-").concat(y)},E))}else if(i.voidElement)n.push("<".concat(i.name," />"));else{var P=g(u,i.children,l);n.push("<".concat(i.name,">").concat(P,"</").concat(i.name,">"))}else if("object"!==tn(w)||k)1===i.children.length&&b?n.push((0,t.cloneElement)(w,Tn(Tn({},w.props),{},{key:y}),b)):n.push((0,t.cloneElement)(w,Tn(Tn({},w.props),{},{key:y})));else{var T=i.children[0]?b:null;T&&n.push(T)}}else if("text"===i.type){var R=o.transWrapTextNodes,N=a?o.unescape(r.services.interpolator.interpolate(i.content,p,r.language)):r.services.interpolator.interpolate(i.content,p,r.language);R?n.push((0,t.createElement)(R,{key:"".concat(i.name,"-").concat(y)},N)):n.push(N)}return n}),[])}return Nn(g([{dummy:!0,children:e||[]}],u,Ln(e||[]))[0])}(p||n,S?w(S,E):x,A,k,E,y),T=void 0!==o?o:k.defaultTransParent;return T?(0,t.createElement)(T,d,P):P}function _n(t){return _n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_n(t)}function Mn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Fn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Mn(Object(n),!0).forEach((function(e){In(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function In(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Un(t,e){return Un=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Un(t,e)}function zn(t,e){if(e&&("object"===_n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Wn(t){return Wn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Wn(t)}var Vn=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Un(t,e)}(s,e);var n,r,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Wn(o);if(i){var n=Wn(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return zn(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this,t)).state={highlighted:!1},e}return n=s,(r=[{key:"onMouseEnter",value:function(){var t,e,n;null===(t=this.props.action)||void 0===t||null===(e=t.originTrap)||void 0===e||null===(n=e.component)||void 0===n||n.setHighlight(!0)}},{key:"onMouseLeave",value:function(){var t,e,n;null===(t=this.props.action)||void 0===t||null===(e=t.originTrap)||void 0===e||null===(n=e.component)||void 0===n||n.setHighlight(!1)}},{key:"setHighlight",value:function(t){this.setState((function(e){return Fn(Fn({},e),{},{highlighted:t})}))}},{key:"render",value:function(){var e,n,r,o,i=this,a=(In(e={},X.Waiting,"waiting"),In(e,X.Current,"current"),In(e,X.Completed,"completed"),e),s=(In(n={},W.Push,t.createElement(Bn,null,"Push")),In(n,W.Pull,t.createElement(Bn,null,"Attraction")),In(n,W.WaterDamage,t.createElement(Bn,null,"Water damage")),In(n,W.FireDamage,t.createElement(Bn,null,"Fire damage")),In(n,W.EarthDamage,t.createElement(Bn,null,"Earth damage")),In(n,W.AirDamage,t.createElement(Bn,null,"Air damage")),In(n,W.PushDamage,t.createElement(Bn,null,"Push damage")),In(n,W.IndirectPushDamage,t.createElement(Bn,null,"Indirect push damage")),In(r={},W.Push,t.createElement(Bn,{count:this.props.action.value},"Pushes back ",{value:this.props.action.value}," cells")),In(r,W.Pull,t.createElement(Bn,{count:this.props.action.value},"Attracts ",{value:this.props.action.value}," cells")),In(r,W.WaterDamage,t.createElement(Bn,{count:this.props.action.value},{value:this.props.action.value}," water damage")),In(r,W.FireDamage,t.createElement(Bn,{count:this.props.action.value},{value:this.props.action.value}," fire damage")),In(r,W.EarthDamage,t.createElement(Bn,{count:this.props.action.value},{value:this.props.action.value}," earth damage")),In(r,W.AirDamage,t.createElement(Bn,{count:this.props.action.value},{value:this.props.action.value}," air damage")),In(r,W.PushDamage,t.createElement(Bn,{count:this.props.action.value},{value:this.props.action.value}," push damage")),In(r,W.IndirectPushDamage,t.createElement(Bn,{count:this.props.action.value},{value:this.props.action.value}," push damage (indirect)")),r);return t.createElement("div",{className:"action ".concat(a[this.props.type]," ").concat(this.state.highlighted?"highlighted":""," action-").concat(et[this.props.action.originTrap.type]),onMouseEnter:function(){i.onMouseEnter()},onMouseLeave:function(){i.onMouseLeave()}},t.createElement("div",{className:"action-img"},t.createElement("img",{src:this.props.action.originTrap.getSpellIcon(),alt:"",width:"25px",height:"25px"})),t.createElement("div",{className:"action-infos"},null!==(o=s[this.props.action.type])&&void 0!==o?o:"?? Value = ".concat(this.props.action.value)))}}])&&Gn(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);const Hn=Vn;function Yn(t){return Yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yn(t)}function qn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jn(t,e){return Jn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Jn(t,e)}function Zn(t,e){if(e&&("object"===Yn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function $n(t){return $n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$n(t)}var Xn=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jn(t,e)}(s,e);var n,r,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=$n(o);if(i){var n=$n(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Zn(this,t)});function s(){return qn(this,s),a.apply(this,arguments)}return n=s,r=[{key:"render",value:function(){for(var e=Pt.getActionStack(),n=[],r=function(r){n.push(t.createElement(Hn,{type:X.Waiting,action:e.waiting[r],key:e.waiting[r].uuid,ref:function(t){e.waiting[r]&&(e.waiting[r].component=t)}}))},o=0;o<e.waiting.length;o++)r(o);e.current&&n.push(t.createElement(Hn,{type:X.Current,action:e.current,key:e.current.uuid,ref:function(t){e.current&&(e.current.component=t)}}));for(var i=function(r){n.push(t.createElement(Hn,{type:X.Completed,action:e.completed[r],key:e.completed[r].uuid,ref:function(t){e.completed[r]&&(e.completed[r].component=t)}}))},a=e.completed.length-1;a>=0;a--)i(a);return t.createElement("div",{className:"relative-height history"},n)}}],r&&Kn(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);const Qn=Xn;function tr(t){return tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tr(t)}function er(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rr(t,e){return rr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},rr(t,e)}function or(t,e){if(e&&("object"===tr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ir(t){return ir=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ir(t)}const ar=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rr(t,e)}(s,e);var n,r,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ir(o);if(i){var n=ir(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return or(this,t)});function s(){return er(this,s),a.apply(this,arguments)}return n=s,(r=[{key:"render",value:function(){var e=this;return t.createElement("div",{className:"spell ".concat(this.props.selected?"selected-spell":""),onClick:function(){e.props.onClick(e.props.spell)}},t.createElement("img",{width:"45",height:"45",src:this.props.spell.icon,alt:this.props.spell.name}))}}])&&nr(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function sr(t){return sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sr(t)}function cr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function lr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?cr(Object(n),!0).forEach((function(e){ur(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ur(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fr(t,e){return fr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},fr(t,e)}function hr(t,e){if(e&&("object"===sr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function gr(t){return gr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gr(t)}var yr=dt,dr=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fr(t,e)}(s,e);var n,r,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=gr(o);if(i){var n=gr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return hr(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this,t)).state={selectedSpell:void 0,play:!1},e}return n=s,(r=[{key:"onClick",value:function(t){Pt.selectSpell(t),this.setState((function(e){return lr(lr({},e),{},{selectedSpell:t})}))}},{key:"onPlay",value:function(){Pt.run(),this.setState((function(t){return lr(lr({},t),{},{play:!0})}))}},{key:"onPause",value:function(){Pt.pause(),this.setState((function(t){return lr(lr({},t),{},{play:!1})}))}},{key:"onStep",value:function(){Pt.runOne(),this.setState((function(t){return lr(lr({},t),{},{play:!1})}))}},{key:"onStop",value:function(){Pt.resetAll(),this.setState((function(t){return lr(lr({},t),{},{play:!1})}))}},{key:"render",value:function(){for(var e=this,n=[],r=0,o=[Z.AirTrap,Z.FireTrap,Z.EarthTrap,Z.WaterTrap,Z.MalusTrap,Z.Summon,Z.Other,Z.Action];r<o.length;r++){var i=o[r],a=[];for(var s in yr){var c;yr[s].category===i&&a.push(t.createElement(ar,{key:"spell-".concat(s),spell:yr[s],onClick:function(t){e.onClick(t)},selected:(null===(c=this.state.selectedSpell)||void 0===c?void 0:c.name)===yr[s].name}))}n.push(t.createElement("div",{className:"spell-category"},a))}return t.createElement("div",{className:"spells"},t.createElement("div",{className:"spells-padding"}),n,t.createElement("div",{className:"controls"},t.createElement("button",{className:this.state.play?"pause":"play",onClick:function(){e.state.play?e.onPause():e.onPlay()}},t.createElement("img",{className:"img-play",src:"/assets/img/other/play.png",alt:"play",draggable:"false"}),t.createElement("img",{className:"img-pause",src:"/assets/img/other/pause.png",alt:"pause",draggable:"false"})),t.createElement("button",{className:"step",onClick:function(){e.onStep()}},t.createElement("img",{className:"img-step",src:"/assets/img/other/step.png",alt:"step",draggable:"false"})),t.createElement("button",{className:"stop",onClick:function(){e.onStop()}},t.createElement("img",{className:"img-stop",src:"/assets/img/other/stop.png",alt:"stop",draggable:"false"}))))}}])&&pr(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);const vr=dr,mr=function(){return t.createElement("div",{className:"app"},t.createElement(Ke,null),t.createElement(Ie,{ref:function(t){Pt.mapComponent=t,window.Game=Pt},cellNum:14,rowNum:40}),t.createElement(Qn,{ref:function(t){Pt.historyComponent=t}}),t.createElement(vr,null))};var br=n(634);function Ar(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wr(t,e){return wr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},wr(t,e)}function kr(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wr(t,e)}function Or(t,e){if(e&&("object"===tn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ar(t)}function xr(t){return xr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xr(t)}function Cr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function jr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Sr(Object(n),!0).forEach((function(e){en(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Er={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,e){console&&console[t]&&console[t].apply(console,e)}},Pr=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};hn(this,t),this.init(e,n)}return yn(t,[{key:"init",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=e.prefix||"i18next:",this.logger=t||Er,this.options=e,this.debug=e.debug}},{key:"setDebug",value:function(t){this.debug=t}},{key:"log",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"log","",!0)}},{key:"warn",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","",!0)}},{key:"error",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"error","")}},{key:"deprecate",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(t,e,n,r){return r&&!this.debug?null:("string"==typeof t[0]&&(t[0]="".concat(n).concat(this.prefix," ").concat(t[0])),this.logger[e](t))}},{key:"create",value:function(e){return new t(this.logger,jr(jr({},{prefix:"".concat(this.prefix,":").concat(e,":")}),this.options))}},{key:"clone",value:function(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new t(this.logger,e)}}]),t}(),Tr=new Pr,Rr=function(){function t(){hn(this,t),this.observers={}}return yn(t,[{key:"on",value:function(t,e){var n=this;return t.split(" ").forEach((function(t){n.observers[t]=n.observers[t]||[],n.observers[t].push(e)})),this}},{key:"off",value:function(t,e){this.observers[t]&&(e?this.observers[t]=this.observers[t].filter((function(t){return t!==e})):delete this.observers[t])}},{key:"emit",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(this.observers[t]){var o=[].concat(this.observers[t]);o.forEach((function(t){t.apply(void 0,n)}))}if(this.observers["*"]){var i=[].concat(this.observers["*"]);i.forEach((function(e){e.apply(e,[t].concat(n))}))}}}]),t}();function Nr(){var t,e,n=new Promise((function(n,r){t=n,e=r}));return n.resolve=t,n.reject=e,n}function Lr(t){return null==t?"":""+t}function Dr(t,e,n){t.forEach((function(t){e[t]&&(n[t]=e[t])}))}function Br(t,e,n){function r(t){return t&&t.indexOf("###")>-1?t.replace(/###/g,"."):t}function o(){return!t||"string"==typeof t}for(var i="string"!=typeof e?[].concat(e):e.split(".");i.length>1;){if(o())return{};var a=r(i.shift());!t[a]&&n&&(t[a]=new n),t=Object.prototype.hasOwnProperty.call(t,a)?t[a]:{}}return o()?{}:{obj:t,k:r(i.shift())}}function _r(t,e,n){var r=Br(t,e,Object);r.obj[r.k]=n}function Mr(t,e){var n=Br(t,e),r=n.obj,o=n.k;if(r)return r[o]}function Fr(t,e,n){var r=Mr(t,n);return void 0!==r?r:Mr(e,n)}function Ir(t,e,n){for(var r in e)"__proto__"!==r&&"constructor"!==r&&(r in t?"string"==typeof t[r]||t[r]instanceof String||"string"==typeof e[r]||e[r]instanceof String?n&&(t[r]=e[r]):Ir(t[r],e[r],n):t[r]=e[r]);return t}function Gr(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Ur={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function zr(t){return"string"==typeof t?t.replace(/[&<>"'\/]/g,(function(t){return Ur[t]})):t}var Wr="undefined"!=typeof window&&window.navigator&&void 0===window.navigator.userAgentData&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,Vr=[" ",",","?","!",";"];function Hr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Yr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Hr(Object(n),!0).forEach((function(e){en(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function qr(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(t){if(t[e])return t[e];for(var r=e.split(n),o=t,i=0;i<r.length;++i){if(!o)return;if("string"==typeof o[r[i]]&&i+1<r.length)return;if(void 0===o[r[i]]){for(var a=2,s=r.slice(i,i+a).join(n),c=o[s];void 0===c&&r.length>i+a;)a++,c=o[s=r.slice(i,i+a).join(n)];if(void 0===c)return;if(null===c)return null;if(e.endsWith(s)){if("string"==typeof c)return c;if(s&&"string"==typeof c[s])return c[s]}var l=r.slice(i+a).join(n);return l?qr(c,l,n):void 0}o=o[r[i]]}return o}}var Kr=function(t){kr(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=xr(e);if(n){var o=xr(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Or(this,t)});function o(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return hn(this,o),e=r.call(this),Wr&&Rr.call(Ar(e)),e.data=t||{},e.options=n,void 0===e.options.keySeparator&&(e.options.keySeparator="."),void 0===e.options.ignoreJSONStructure&&(e.options.ignoreJSONStructure=!0),e}return yn(o,[{key:"addNamespaces",value:function(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}},{key:"removeNamespaces",value:function(t){var e=this.options.ns.indexOf(t);e>-1&&this.options.ns.splice(e,1)}},{key:"getResource",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,i=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure,a=[t,e];n&&"string"!=typeof n&&(a=a.concat(n)),n&&"string"==typeof n&&(a=a.concat(o?n.split(o):n)),t.indexOf(".")>-1&&(a=t.split("."));var s=Mr(this.data,a);return s||!i||"string"!=typeof n?s:qr(this.data&&this.data[t]&&this.data[t][e],n,o)}},{key:"addResource",value:function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},i=this.options.keySeparator;void 0===i&&(i=".");var a=[t,e];n&&(a=a.concat(i?n.split(i):n)),t.indexOf(".")>-1&&(r=e,e=(a=t.split("."))[1]),this.addNamespaces(e),_r(this.data,a,r),o.silent||this.emit("added",t,e,n,r)}},{key:"addResources",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var o in n)"string"!=typeof n[o]&&"[object Array]"!==Object.prototype.toString.apply(n[o])||this.addResource(t,e,o,n[o],{silent:!0});r.silent||this.emit("added",t,e,n)}},{key:"addResourceBundle",value:function(t,e,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[t,e];t.indexOf(".")>-1&&(r=n,n=e,e=(a=t.split("."))[1]),this.addNamespaces(e);var s=Mr(this.data,a)||{};r?Ir(s,n,o):s=Yr(Yr({},s),n),_r(this.data,a,s),i.silent||this.emit("added",t,e,n)}},{key:"removeResourceBundle",value:function(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)}},{key:"hasResourceBundle",value:function(t,e){return void 0!==this.getResource(t,e)}},{key:"getResourceBundle",value:function(t,e){return e||(e=this.options.defaultNS),"v1"===this.options.compatibilityAPI?Yr(Yr({},{}),this.getResource(t,e)):this.getResource(t,e)}},{key:"getDataByLanguage",value:function(t){return this.data[t]}},{key:"hasLanguageSomeTranslations",value:function(t){var e=this.getDataByLanguage(t);return!!(e&&Object.keys(e)||[]).find((function(t){return e[t]&&Object.keys(e[t]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),o}(Rr),Jr={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,e,n,r,o){var i=this;return t.forEach((function(t){i.processors[t]&&(e=i.processors[t].process(e,n,r,o))})),e}};function Zr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function $r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Zr(Object(n),!0).forEach((function(e){en(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Xr={},Qr=function(t){kr(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=xr(e);if(n){var o=xr(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Or(this,t)});function o(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return hn(this,o),e=r.call(this),Wr&&Rr.call(Ar(e)),Dr(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,Ar(e)),e.options=n,void 0===e.options.keySeparator&&(e.options.keySeparator="."),e.logger=Tr.create("translator"),e}return yn(o,[{key:"changeLanguage",value:function(t){t&&(this.language=t)}},{key:"exists",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==t)return!1;var n=this.resolve(t,e);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(t,e){var n=void 0!==e.nsSeparator?e.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,o=e.ns||this.options.defaultNS||[],i=n&&t.indexOf(n)>-1,a=!(this.options.userDefinedKeySeparator||e.keySeparator||this.options.userDefinedNsSeparator||e.nsSeparator||function(t,e,n){e=e||"",n=n||"";var r=Vr.filter((function(t){return e.indexOf(t)<0&&n.indexOf(t)<0}));if(0===r.length)return!0;var o=new RegExp("(".concat(r.map((function(t){return"?"===t?"\\?":t})).join("|"),")")),i=!o.test(t);if(!i){var a=t.indexOf(n);a>0&&!o.test(t.substring(0,a))&&(i=!0)}return i}(t,n,r));if(i&&!a){var s=t.match(this.interpolator.nestingRegexp);if(s&&s.length>0)return{key:t,namespaces:o};var c=t.split(n);(n!==r||n===r&&this.options.ns.indexOf(c[0])>-1)&&(o=c.shift()),t=c.join(r)}return"string"==typeof o&&(o=[o]),{key:t,namespaces:o}}},{key:"translate",value:function(t,e,n){var r=this;if("object"!==tn(e)&&this.options.overloadTranslationOptionHandler&&(e=this.options.overloadTranslationOptionHandler(arguments)),e||(e={}),null==t)return"";Array.isArray(t)||(t=[String(t)]);var i=void 0!==e.returnDetails?e.returnDetails:this.options.returnDetails,a=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,s=this.extractFromKey(t[t.length-1],e),c=s.key,l=s.namespaces,u=l[l.length-1],p=e.lng||this.language,f=e.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(p&&"cimode"===p.toLowerCase()){if(f){var h=e.nsSeparator||this.options.nsSeparator;return i?(g.res="".concat(u).concat(h).concat(c),g):"".concat(u).concat(h).concat(c)}return i?(g.res=c,g):c}var g=this.resolve(t,e),y=g&&g.res,d=g&&g.usedKey||c,v=g&&g.exactUsedKey||c,m=Object.prototype.toString.apply(y),b=["[object Number]","[object Function]","[object RegExp]"],A=void 0!==e.joinArrays?e.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject,k="string"!=typeof y&&"boolean"!=typeof y&&"number"!=typeof y;if(w&&y&&k&&b.indexOf(m)<0&&("string"!=typeof A||"[object Array]"!==m)){if(!e.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var O=this.options.returnedObjectHandler?this.options.returnedObjectHandler(d,y,$r($r({},e),{},{ns:l})):"key '".concat(c," (").concat(this.language,")' returned an object instead of string.");return i?(g.res=O,g):O}if(a){var x="[object Array]"===m,C=x?[]:{},S=x?v:d;for(var j in y)if(Object.prototype.hasOwnProperty.call(y,j)){var E="".concat(S).concat(a).concat(j);C[j]=this.translate(E,$r($r({},e),{joinArrays:!1,ns:l})),C[j]===E&&(C[j]=y[j])}y=C}}else if(w&&"string"==typeof A&&"[object Array]"===m)(y=y.join(A))&&(y=this.extendTranslation(y,t,e,n));else{var P=!1,T=!1,R=void 0!==e.count&&"string"!=typeof e.count,N=o.hasDefaultValue(e),L=R?this.pluralResolver.getSuffix(p,e.count,e):"",D=e["defaultValue".concat(L)]||e.defaultValue;!this.isValidLookup(y)&&N&&(P=!0,y=D),this.isValidLookup(y)||(T=!0,y=c);var B=e.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,_=B&&T?void 0:y,M=N&&D!==y&&this.options.updateMissing;if(T||P||M){if(this.logger.log(M?"updateKey":"missingKey",p,u,c,M?D:y),a){var F=this.resolve(c,$r($r({},e),{},{keySeparator:!1}));F&&F.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var I=[],G=this.languageUtils.getFallbackCodes(this.options.fallbackLng,e.lng||this.language);if("fallback"===this.options.saveMissingTo&&G&&G[0])for(var U=0;U<G.length;U++)I.push(G[U]);else"all"===this.options.saveMissingTo?I=this.languageUtils.toResolveHierarchy(e.lng||this.language):I.push(e.lng||this.language);var z=function(t,n,o){var i=N&&o!==y?o:_;r.options.missingKeyHandler?r.options.missingKeyHandler(t,u,n,i,M,e):r.backendConnector&&r.backendConnector.saveMissing&&r.backendConnector.saveMissing(t,u,n,i,M,e),r.emit("missingKey",t,u,n,y)};this.options.saveMissing&&(this.options.saveMissingPlurals&&R?I.forEach((function(t){r.pluralResolver.getSuffixes(t,e).forEach((function(n){z([t],c+n,e["defaultValue".concat(n)]||D)}))})):z(I,c,D))}y=this.extendTranslation(y,t,e,g,n),T&&y===c&&this.options.appendNamespaceToMissingKey&&(y="".concat(u,":").concat(c)),(T||P)&&this.options.parseMissingKeyHandler&&(y="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(u,":").concat(c):c,P?y:void 0):this.options.parseMissingKeyHandler(y))}return i?(g.res=y,g):y}},{key:"extendTranslation",value:function(t,e,n,r,o){var i=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,$r($r({},this.options.interpolation.defaultVariables),n),r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init($r($r({},n),{interpolation:$r($r({},this.options.interpolation),n.interpolation)}));var a,s="string"==typeof t&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(s){var c=t.match(this.interpolator.nestingRegexp);a=c&&c.length}var l=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(l=$r($r({},this.options.interpolation.defaultVariables),l)),t=this.interpolator.interpolate(t,l,n.lng||this.language,n),s){var u=t.match(this.interpolator.nestingRegexp);a<(u&&u.length)&&(n.nest=!1)}!1!==n.nest&&(t=this.interpolator.nest(t,(function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return o&&o[0]===r[0]&&!n.context?(i.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(e[0])),null):i.translate.apply(i,r.concat([e]))}),n)),n.interpolation&&this.interpolator.reset()}var p=n.postProcess||this.options.postProcess,f="string"==typeof p?[p]:p;return null!=t&&f&&f.length&&!1!==n.applyPostProcessor&&(t=Jr.handle(f,t,e,this.options&&this.options.postProcessPassResolved?$r({i18nResolved:r},n):n,this)),t}},{key:"resolve",value:function(t){var e,n,r,o,i,a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof t&&(t=[t]),t.forEach((function(t){if(!a.isValidLookup(e)){var c=a.extractFromKey(t,s),l=c.key;n=l;var u=c.namespaces;a.options.fallbackNS&&(u=u.concat(a.options.fallbackNS));var p=void 0!==s.count&&"string"!=typeof s.count,f=p&&!s.ordinal&&0===s.count&&a.pluralResolver.shouldUseIntlApi(),h=void 0!==s.context&&("string"==typeof s.context||"number"==typeof s.context)&&""!==s.context,g=s.lngs?s.lngs:a.languageUtils.toResolveHierarchy(s.lng||a.language,s.fallbackLng);u.forEach((function(t){a.isValidLookup(e)||(i=t,!Xr["".concat(g[0],"-").concat(t)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(i)&&(Xr["".concat(g[0],"-").concat(t)]=!0,a.logger.warn('key "'.concat(n,'" for languages "').concat(g.join(", "),'" won\'t get resolved as namespace "').concat(i,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach((function(n){if(!a.isValidLookup(e)){o=n;var i,c=[l];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(c,l,n,t,s);else{var u;p&&(u=a.pluralResolver.getSuffix(n,s.count,s));var g="".concat(a.options.pluralSeparator,"zero");if(p&&(c.push(l+u),f&&c.push(l+g)),h){var y="".concat(l).concat(a.options.contextSeparator).concat(s.context);c.push(y),p&&(c.push(y+u),f&&c.push(y+g))}}for(;i=c.pop();)a.isValidLookup(e)||(r=i,e=a.getResource(n,t,i,s))}})))}))}})),{res:e,usedKey:n,exactUsedKey:r,usedLng:o,usedNS:i}}},{key:"isValidLookup",value:function(t){return!(void 0===t||!this.options.returnNull&&null===t||!this.options.returnEmptyString&&""===t)}},{key:"getResource",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,e,n,r):this.resourceStore.getResource(t,e,n,r)}}],[{key:"hasDefaultValue",value:function(t){var e="defaultValue";for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e===n.substring(0,e.length)&&void 0!==t[n])return!0;return!1}}]),o}(Rr);function to(t){return t.charAt(0).toUpperCase()+t.slice(1)}var eo=function(){function t(e){hn(this,t),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Tr.create("languageUtils")}return yn(t,[{key:"getScriptPartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return null;var e=t.split("-");return 2===e.length?null:(e.pop(),"x"===e[e.length-1].toLowerCase()?null:this.formatLanguageCode(e.join("-")))}},{key:"getLanguagePartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return t;var e=t.split("-");return this.formatLanguageCode(e[0])}},{key:"formatLanguageCode",value:function(t){if("string"==typeof t&&t.indexOf("-")>-1){var e=["hans","hant","latn","cyrl","cans","mong","arab"],n=t.split("-");return this.options.lowerCaseLng?n=n.map((function(t){return t.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=to(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=to(n[1].toLowerCase())),e.indexOf(n[2].toLowerCase())>-1&&(n[2]=to(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}},{key:"isSupportedCode",value:function(t){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}},{key:"getBestMatchFromCodes",value:function(t){var e,n=this;return t?(t.forEach((function(t){if(!e){var r=n.formatLanguageCode(t);n.options.supportedLngs&&!n.isSupportedCode(r)||(e=r)}})),!e&&this.options.supportedLngs&&t.forEach((function(t){if(!e){var r=n.getLanguagePartFromCode(t);if(n.isSupportedCode(r))return e=r;e=n.options.supportedLngs.find((function(t){if(0===t.indexOf(r))return t}))}})),e||(e=this.getFallbackCodes(this.options.fallbackLng)[0]),e):null}},{key:"getFallbackCodes",value:function(t,e){if(!t)return[];if("function"==typeof t&&(t=t(e)),"string"==typeof t&&(t=[t]),"[object Array]"===Object.prototype.toString.apply(t))return t;if(!e)return t.default||[];var n=t[e];return n||(n=t[this.getScriptPartFromCode(e)]),n||(n=t[this.formatLanguageCode(e)]),n||(n=t[this.getLanguagePartFromCode(e)]),n||(n=t.default),n||[]}},{key:"toResolveHierarchy",value:function(t,e){var n=this,r=this.getFallbackCodes(e||this.options.fallbackLng||[],t),o=[],i=function(t){t&&(n.isSupportedCode(t)?o.push(t):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(t)))};return"string"==typeof t&&t.indexOf("-")>-1?("languageOnly"!==this.options.load&&i(this.formatLanguageCode(t)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&i(this.getScriptPartFromCode(t)),"currentOnly"!==this.options.load&&i(this.getLanguagePartFromCode(t))):"string"==typeof t&&i(this.formatLanguageCode(t)),r.forEach((function(t){o.indexOf(t)<0&&i(n.formatLanguageCode(t))})),o}}]),t}(),no=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],ro={1:function(t){return Number(t>1)},2:function(t){return Number(1!=t)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},5:function(t){return Number(0==t?0:1==t?1:2==t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5)},6:function(t){return Number(1==t?0:t>=2&&t<=4?1:2)},7:function(t){return Number(1==t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},8:function(t){return Number(1==t?0:2==t?1:8!=t&&11!=t?2:3)},9:function(t){return Number(t>=2)},10:function(t){return Number(1==t?0:2==t?1:t<7?2:t<11?3:4)},11:function(t){return Number(1==t||11==t?0:2==t||12==t?1:t>2&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(0!==t)},14:function(t){return Number(1==t?0:2==t?1:3==t?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:0!==t?1:2)},17:function(t){return Number(1==t||t%10==1&&t%100!=11?0:1)},18:function(t){return Number(0==t?0:1==t?1:2)},19:function(t){return Number(1==t?0:0==t||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3)},20:function(t){return Number(1==t?0:0==t||t%100>0&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)},22:function(t){return Number(1==t?0:2==t?1:(t<0||t>10)&&t%10==0?2:3)}},oo=["v1","v2","v3"],io={zero:0,one:1,two:2,few:3,many:4,other:5};function ao(){var t={};return no.forEach((function(e){e.lngs.forEach((function(n){t[n]={numbers:e.nr,plurals:ro[e.fc]}}))})),t}var so=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};hn(this,t),this.languageUtils=e,this.options=n,this.logger=Tr.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=ao()}return yn(t,[{key:"addRule",value:function(t,e){this.rules[t]=e}},{key:"getRule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(t,{type:e.ordinal?"ordinal":"cardinal"})}catch(t){return}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}},{key:"needsPlural",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(t,e);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(t,n).map((function(t){return"".concat(e).concat(t)}))}},{key:"getSuffixes",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(t,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((function(t,e){return io[t]-io[e]})).map((function(t){return"".concat(e.options.prepend).concat(t)})):r.numbers.map((function(r){return e.getSuffix(t,r,n)})):[]}},{key:"getSuffix",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getRule(t,n);return r?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(r.select(e)):this.getSuffixRetroCompatible(r,e):(this.logger.warn("no plural rule found for: ".concat(t)),"")}},{key:"getSuffixRetroCompatible",value:function(t,e){var n=this,r=t.noAbs?t.plurals(e):t.plurals(Math.abs(e)),o=t.numbers[r];this.options.simplifyPluralSuffix&&2===t.numbers.length&&1===t.numbers[0]&&(2===o?o="plural":1===o&&(o=""));var i=function(){return n.options.prepend&&o.toString()?n.options.prepend+o.toString():o.toString()};return"v1"===this.options.compatibilityJSON?1===o?"":"number"==typeof o?"_plural_".concat(o.toString()):i():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===t.numbers.length&&1===t.numbers[0]?i():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}},{key:"shouldUseIntlApi",value:function(){return!oo.includes(this.options.compatibilityJSON)}}]),t}();function co(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function lo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?co(Object(n),!0).forEach((function(e){en(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):co(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var uo=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};hn(this,t),this.logger=Tr.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(t){return t},this.init(e)}return yn(t,[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});var e=t.interpolation;this.escape=void 0!==e.escape?e.escape:zr,this.escapeValue=void 0===e.escapeValue||e.escapeValue,this.useRawValueToEscape=void 0!==e.useRawValueToEscape&&e.useRawValueToEscape,this.prefix=e.prefix?Gr(e.prefix):e.prefixEscaped||"{{",this.suffix=e.suffix?Gr(e.suffix):e.suffixEscaped||"}}",this.formatSeparator=e.formatSeparator?e.formatSeparator:e.formatSeparator||",",this.unescapePrefix=e.unescapeSuffix?"":e.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":e.unescapeSuffix||"",this.nestingPrefix=e.nestingPrefix?Gr(e.nestingPrefix):e.nestingPrefixEscaped||Gr("$t("),this.nestingSuffix=e.nestingSuffix?Gr(e.nestingSuffix):e.nestingSuffixEscaped||Gr(")"),this.nestingOptionsSeparator=e.nestingOptionsSeparator?e.nestingOptionsSeparator:e.nestingOptionsSeparator||",",this.maxReplaces=e.maxReplaces?e.maxReplaces:1e3,this.alwaysFormat=void 0!==e.alwaysFormat&&e.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var t="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(t,"g");var e="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(e,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(t,e,n,r){var o,i,a,s=this,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function l(t){return t.replace(/\$/g,"$$$$")}var u=function(t){if(t.indexOf(s.formatSeparator)<0){var o=Fr(e,c,t);return s.alwaysFormat?s.format(o,void 0,n,lo(lo(lo({},r),e),{},{interpolationkey:t})):o}var i=t.split(s.formatSeparator),a=i.shift().trim(),l=i.join(s.formatSeparator).trim();return s.format(Fr(e,c,a),l,n,lo(lo(lo({},r),e),{},{interpolationkey:a}))};this.resetRegExp();var p=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,f=r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(t){return l(t)}},{regex:this.regexp,safeValue:function(t){return s.escapeValue?l(s.escape(t)):l(t)}}].forEach((function(e){for(a=0;o=e.regex.exec(t);){var n=o[1].trim();if(void 0===(i=u(n)))if("function"==typeof p){var c=p(t,o,r);i="string"==typeof c?c:""}else if(r&&r.hasOwnProperty(n))i="";else{if(f){i=o[0];continue}s.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(t)),i=""}else"string"==typeof i||s.useRawValueToEscape||(i=Lr(i));var l=e.safeValue(i);if(t=t.replace(o[0],l),f?(e.regex.lastIndex+=i.length,e.regex.lastIndex-=o[0].length):e.regex.lastIndex=0,++a>=s.maxReplaces)break}})),t}},{key:"nest",value:function(t,e){var n,r,o=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=lo({},i);function s(t,e){var n=this.nestingOptionsSeparator;if(t.indexOf(n)<0)return t;var r=t.split(new RegExp("".concat(n,"[ ]*{"))),o="{".concat(r[1]);t=r[0];var i=(o=this.interpolate(o,a)).match(/'/g),s=o.match(/"/g);(i&&i.length%2==0&&!s||s.length%2!=0)&&(o=o.replace(/'/g,'"'));try{a=JSON.parse(o),e&&(a=lo(lo({},e),a))}catch(e){return this.logger.warn("failed parsing options string in nesting for key ".concat(t),e),"".concat(t).concat(n).concat(o)}return delete a.defaultValue,t}for(a.applyPostProcessor=!1,delete a.defaultValue;n=this.nestingRegexp.exec(t);){var c=[],l=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var u=n[1].split(this.formatSeparator).map((function(t){return t.trim()}));n[1]=u.shift(),c=u,l=!0}if((r=e(s.call(this,n[1].trim(),a),a))&&n[0]===t&&"string"!=typeof r)return r;"string"!=typeof r&&(r=Lr(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(t)),r=""),l&&(r=c.reduce((function(t,e){return o.format(t,e,i.lng,lo(lo({},i),{},{interpolationkey:n[1].trim()}))}),r.trim())),t=t.replace(n[0],r),this.regexp.lastIndex=0}return t}}]),t}();function po(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function fo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?po(Object(n),!0).forEach((function(e){en(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):po(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ho(t){var e={};return function(n,r,o){var i=r+JSON.stringify(o),a=e[i];return a||(a=t(r,o),e[i]=a),a(n)}}var go=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};hn(this,t),this.logger=Tr.create("formatter"),this.options=e,this.formats={number:ho((function(t,e){var n=new Intl.NumberFormat(t,e);return function(t){return n.format(t)}})),currency:ho((function(t,e){var n=new Intl.NumberFormat(t,fo(fo({},e),{},{style:"currency"}));return function(t){return n.format(t)}})),datetime:ho((function(t,e){var n=new Intl.DateTimeFormat(t,fo({},e));return function(t){return n.format(t)}})),relativetime:ho((function(t,e){var n=new Intl.RelativeTimeFormat(t,fo({},e));return function(t){return n.format(t,e.range||"day")}})),list:ho((function(t,e){var n=new Intl.ListFormat(t,fo({},e));return function(t){return n.format(t)}}))},this.init(e)}return yn(t,[{key:"init",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=e.interpolation;this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||","}},{key:"add",value:function(t,e){this.formats[t.toLowerCase().trim()]=e}},{key:"addCached",value:function(t,e){this.formats[t.toLowerCase().trim()]=ho(e)}},{key:"format",value:function(t,e,n,r){var o=this,i=e.split(this.formatSeparator).reduce((function(t,e){var i=function(t){var e=t.toLowerCase().trim(),n={};if(t.indexOf("(")>-1){var r=t.split("(");e=r[0].toLowerCase().trim();var o=r[1].substring(0,r[1].length-1);"currency"===e&&o.indexOf(":")<0?n.currency||(n.currency=o.trim()):"relativetime"===e&&o.indexOf(":")<0?n.range||(n.range=o.trim()):o.split(";").forEach((function(t){if(t){var e=function(t){if(Array.isArray(t))return t}(i=t.split(":"))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(i)||function(t,e){if(t){if("string"==typeof t)return Cr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cr(t,e):void 0}}(i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=e[0],o=e.slice(1).join(":").trim().replace(/^'+|'+$/g,"");n[r.trim()]||(n[r.trim()]=o),"false"===o&&(n[r.trim()]=!1),"true"===o&&(n[r.trim()]=!0),isNaN(o)||(n[r.trim()]=parseInt(o,10))}var i}))}return{formatName:e,formatOptions:n}}(e),a=i.formatName,s=i.formatOptions;if(o.formats[a]){var c=t;try{var l=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},u=l.locale||l.lng||r.locale||r.lng||n;c=o.formats[a](t,u,fo(fo(fo({},s),r),l))}catch(t){o.logger.warn(t)}return c}return o.logger.warn("there was no format function for ".concat(a)),t}),t);return i}}]),t}();function yo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function vo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?yo(Object(n),!0).forEach((function(e){en(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yo(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var mo=function(t){kr(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=xr(e);if(n){var o=xr(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Or(this,t)});function o(t,e,n){var i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return hn(this,o),i=r.call(this),Wr&&Rr.call(Ar(i)),i.backend=t,i.store=e,i.services=n,i.languageUtils=n.languageUtils,i.options=a,i.logger=Tr.create("backendConnector"),i.waitingReads=[],i.maxParallelReads=a.maxParallelReads||10,i.readingCalls=0,i.maxRetries=a.maxRetries>=0?a.maxRetries:5,i.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,i.state={},i.queue=[],i.backend&&i.backend.init&&i.backend.init(n,a.backend,a),i}return yn(o,[{key:"queueLoad",value:function(t,e,n,r){var o=this,i={},a={},s={},c={};return t.forEach((function(t){var r=!0;e.forEach((function(e){var s="".concat(t,"|").concat(e);!n.reload&&o.store.hasResourceBundle(t,e)?o.state[s]=2:o.state[s]<0||(1===o.state[s]?void 0===a[s]&&(a[s]=!0):(o.state[s]=1,r=!1,void 0===a[s]&&(a[s]=!0),void 0===i[s]&&(i[s]=!0),void 0===c[e]&&(c[e]=!0)))})),r||(s[t]=!0)})),(Object.keys(i).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(i),pending:Object.keys(a),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(c)}}},{key:"loaded",value:function(t,e,n){var r=t.split("|"),o=r[0],i=r[1];e&&this.emit("failedLoading",o,i,e),n&&this.store.addResourceBundle(o,i,n),this.state[t]=e?-1:2;var a={};this.queue.forEach((function(n){!function(t,e,n,r){var o=Br(t,e,Object),i=o.obj,a=o.k;i[a]=i[a]||[],i[a].push(n)}(n.loaded,[o],i),function(t,e){void 0!==t.pending[e]&&(delete t.pending[e],t.pendingCount--)}(n,t),e&&n.errors.push(e),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((function(t){a[t]||(a[t]={});var e=n.loaded[t];e.length&&e.forEach((function(e){void 0===a[t][e]&&(a[t][e]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((function(t){return!t.done}))}},{key:"read",value:function(t,e,n){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;return t.length?this.readingCalls>=this.maxParallelReads?void this.waitingReads.push({lng:t,ns:e,fcName:n,tried:o,wait:i,callback:a}):(this.readingCalls++,this.backend[n](t,e,(function(s,c){if(r.readingCalls--,r.waitingReads.length>0){var l=r.waitingReads.shift();r.read(l.lng,l.ns,l.fcName,l.tried,l.wait,l.callback)}s&&c&&o<r.maxRetries?setTimeout((function(){r.read.call(r,t,e,n,o+1,2*i,a)}),i):a(s,c)}))):a(null,{})}},{key:"prepareLoading",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();"string"==typeof t&&(t=this.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]);var i=this.queueLoad(t,e,r,o);if(!i.toLoad.length)return i.pending.length||o(),null;i.toLoad.forEach((function(t){n.loadOne(t)}))}},{key:"load",value:function(t,e,n){this.prepareLoading(t,e,{},n)}},{key:"reload",value:function(t,e,n){this.prepareLoading(t,e,{reload:!0},n)}},{key:"loadOne",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=t.split("|"),o=r[0],i=r[1];this.read(o,i,"read",void 0,void 0,(function(r,a){r&&e.logger.warn("".concat(n,"loading namespace ").concat(i," for language ").concat(o," failed"),r),!r&&a&&e.logger.log("".concat(n,"loaded namespace ").concat(i," for language ").concat(o),a),e.loaded(t,r,a)}))}},{key:"saveMissing",value:function(t,e,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(e)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(e,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(t,e,n,r,null,vo(vo({},i),{},{isUpdate:o})),t&&t[0]&&this.store.addResource(t[0],e,n,r))}}]),o}(Rr);function bo(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var e={};if("object"===tn(t[1])&&(e=t[1]),"string"==typeof t[1]&&(e.defaultValue=t[1]),"string"==typeof t[2]&&(e.tDescription=t[2]),"object"===tn(t[2])||"object"===tn(t[3])){var n=t[3]||t[2];Object.keys(n).forEach((function(t){e[t]=n[t]}))}return e},interpolation:{escapeValue:!0,format:function(t,e,n,r){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function Ao(t){return"string"==typeof t.ns&&(t.ns=[t.ns]),"string"==typeof t.fallbackLng&&(t.fallbackLng=[t.fallbackLng]),"string"==typeof t.fallbackNS&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function wo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ko(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wo(Object(n),!0).forEach((function(e){en(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wo(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Oo(){}function xo(t){Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach((function(e){"function"==typeof t[e]&&(t[e]=t[e].bind(t))}))}var Co=function(t){kr(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=xr(e);if(n){var o=xr(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Or(this,t)});function o(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(hn(this,o),t=r.call(this),Wr&&Rr.call(Ar(t)),t.options=Ao(e),t.services={},t.logger=Tr,t.modules={external:[]},xo(Ar(t)),n&&!t.isInitialized&&!e.isClone){if(!t.options.initImmediate)return t.init(e,n),Or(t,Ar(t));setTimeout((function(){t.init(e,n)}),0)}return t}return yn(o,[{key:"init",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"==typeof e&&(n=e,e={}),!e.defaultNS&&!1!==e.defaultNS&&e.ns&&("string"==typeof e.ns?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));var r=bo();function o(t){return t?"function"==typeof t?new t:t:null}if(this.options=ko(ko(ko({},r),this.options),Ao(e)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=ko(ko({},r.interpolation),this.options.interpolation)),void 0!==e.keySeparator&&(this.options.userDefinedKeySeparator=e.keySeparator),void 0!==e.nsSeparator&&(this.options.userDefinedNsSeparator=e.nsSeparator),!this.options.isClone){var i;this.modules.logger?Tr.init(o(this.modules.logger),this.options):Tr.init(null,this.options),this.modules.formatter?i=this.modules.formatter:"undefined"!=typeof Intl&&(i=go);var a=new eo(this.options);this.store=new Kr(this.options.resources,this.options);var s=this.services;s.logger=Tr,s.resourceStore=this.store,s.languageUtils=a,s.pluralResolver=new so(a,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!i||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(s.formatter=o(i),s.formatter.init(s,this.options),this.options.interpolation.format=s.formatter.format.bind(s.formatter)),s.interpolator=new uo(this.options),s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},s.backendConnector=new mo(o(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t.emit.apply(t,[e].concat(r))})),this.modules.languageDetector&&(s.languageDetector=o(this.modules.languageDetector),s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=o(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new Qr(this.services,this.options),this.translator.on("*",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t.emit.apply(t,[e].concat(r))})),this.modules.external.forEach((function(e){e.init&&e.init(t)}))}if(this.format=this.options.interpolation.format,n||(n=Oo),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&"dev"!==c[0]&&(this.options.lng=c[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var l=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];l.forEach((function(e){t[e]=function(){var n;return(n=t.store)[e].apply(n,arguments)}}));var u=["addResource","addResources","addResourceBundle","removeResourceBundle"];u.forEach((function(e){t[e]=function(){var n;return(n=t.store)[e].apply(n,arguments),t}}));var p=Nr(),f=function(){var e=function(e,r){t.isInitialized&&!t.initializedStoreOnce&&t.logger.warn("init: i18next is already initialized. You should call init just once!"),t.isInitialized=!0,t.options.isClone||t.logger.log("initialized",t.options),t.emit("initialized",t.options),p.resolve(r),n(e,r)};if(t.languages&&"v1"!==t.options.compatibilityAPI&&!t.isInitialized)return e(null,t.t.bind(t));t.changeLanguage(t.options.lng,e)};return this.options.resources||!this.options.initImmediate?f():setTimeout(f,0),p}},{key:"loadResources",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oo,r=n,o="string"==typeof t?t:this.language;if("function"==typeof t&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if(o&&"cimode"===o.toLowerCase())return r();var i=[],a=function(t){t&&e.services.languageUtils.toResolveHierarchy(t).forEach((function(t){i.indexOf(t)<0&&i.push(t)}))};if(o)a(o);else{var s=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);s.forEach((function(t){return a(t)}))}this.options.preload&&this.options.preload.forEach((function(t){return a(t)})),this.services.backendConnector.load(i,this.options.ns,(function(t){t||e.resolvedLanguage||!e.language||e.setResolvedLanguage(e.language),r(t)}))}else r(null)}},{key:"reloadResources",value:function(t,e,n){var r=Nr();return t||(t=this.languages),e||(e=this.options.ns),n||(n=Oo),this.services.backendConnector.reload(t,e,(function(t){r.resolve(),n(t)})),r}},{key:"use",value:function(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===t.type&&(this.modules.backend=t),("logger"===t.type||t.log&&t.warn&&t.error)&&(this.modules.logger=t),"languageDetector"===t.type&&(this.modules.languageDetector=t),"i18nFormat"===t.type&&(this.modules.i18nFormat=t),"postProcessor"===t.type&&Jr.addPostProcessor(t),"formatter"===t.type&&(this.modules.formatter=t),"3rdParty"===t.type&&this.modules.external.push(t),this}},{key:"setResolvedLanguage",value:function(t){if(t&&this.languages&&!(["cimode","dev"].indexOf(t)>-1))for(var e=0;e<this.languages.length;e++){var n=this.languages[e];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}},{key:"changeLanguage",value:function(t,e){var n=this;this.isLanguageChangingTo=t;var r=Nr();this.emit("languageChanging",t);var o=function(t){n.language=t,n.languages=n.services.languageUtils.toResolveHierarchy(t),n.resolvedLanguage=void 0,n.setResolvedLanguage(t)},i=function(i){t||i||!n.services.languageDetector||(i=[]);var a="string"==typeof i?i:n.services.languageUtils.getBestMatchFromCodes(i);a&&(n.language||o(a),n.translator.language||n.translator.changeLanguage(a),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(a)),n.loadResources(a,(function(t){!function(t,i){i?(o(i),n.translator.changeLanguage(i),n.isLanguageChangingTo=void 0,n.emit("languageChanged",i),n.logger.log("languageChanged",i)):n.isLanguageChangingTo=void 0,r.resolve((function(){return n.t.apply(n,arguments)})),e&&e(t,(function(){return n.t.apply(n,arguments)}))}(t,a)}))};return t||!this.services.languageDetector||this.services.languageDetector.async?!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(i):i(t):i(this.services.languageDetector.detect()),r}},{key:"getFixedT",value:function(t,e,n){var r=this,o=function t(e,o){var i;if("object"!==tn(o)){for(var a=arguments.length,s=new Array(a>2?a-2:0),c=2;c<a;c++)s[c-2]=arguments[c];i=r.options.overloadTranslationOptionHandler([e,o].concat(s))}else i=ko({},o);i.lng=i.lng||t.lng,i.lngs=i.lngs||t.lngs,i.ns=i.ns||t.ns,i.keyPrefix=i.keyPrefix||n||t.keyPrefix;var l=r.options.keySeparator||".",u=i.keyPrefix?"".concat(i.keyPrefix).concat(l).concat(e):e;return r.t(u,i)};return"string"==typeof t?o.lng=t:o.lngs=t,o.ns=e,o.keyPrefix=n,o}},{key:"t",value:function(){var t;return this.translator&&(t=this.translator).translate.apply(t,arguments)}},{key:"exists",value:function(){var t;return this.translator&&(t=this.translator).exists.apply(t,arguments)}},{key:"setDefaultNamespace",value:function(t){this.options.defaultNS=t}},{key:"hasLoadedNamespace",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var r=this.resolvedLanguage||this.languages[0],o=!!this.options&&this.options.fallbackLng,i=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;var a=function(t,n){var r=e.services.backendConnector.state["".concat(t,"|").concat(n)];return-1===r||2===r};if(n.precheck){var s=n.precheck(this,a);if(void 0!==s)return s}return!(!this.hasResourceBundle(r,t)&&this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages)&&(!a(r,t)||o&&!a(i,t)))}},{key:"loadNamespaces",value:function(t,e){var n=this,r=Nr();return this.options.ns?("string"==typeof t&&(t=[t]),t.forEach((function(t){n.options.ns.indexOf(t)<0&&n.options.ns.push(t)})),this.loadResources((function(t){r.resolve(),e&&e(t)})),r):(e&&e(),Promise.resolve())}},{key:"loadLanguages",value:function(t,e){var n=Nr();"string"==typeof t&&(t=[t]);var r=this.options.preload||[],o=t.filter((function(t){return r.indexOf(t)<0}));return o.length?(this.options.preload=r.concat(o),this.loadResources((function(t){n.resolve(),e&&e(t)})),n):(e&&e(),Promise.resolve())}},{key:"dir",value:function(t){return t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),t?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(this.services.languageUtils.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr":"rtl"}},{key:"cloneInstance",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oo,r=ko(ko(ko({},this.options),e),{isClone:!0}),i=new o(r);void 0===e.debug&&void 0===e.prefix||(i.logger=i.logger.clone(e));var a=["store","services","language"];return a.forEach((function(e){i[e]=t[e]})),i.services=ko({},this.services),i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i.translator=new Qr(i.services,i.options),i.translator.on("*",(function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];i.emit.apply(i,[t].concat(n))})),i.init(r,n),i.translator.options=i.options,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),o}(Rr);en(Co,"createInstance",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new Co(t,e)}));var So=Co.createInstance();So.createInstance=Co.createInstance,So.createInstance,So.init,So.loadResources,So.reloadResources,So.use,So.changeLanguage,So.getFixedT,So.t,So.exists,So.setDefaultNamespace,So.hasLoadedNamespace,So.loadNamespaces,So.loadLanguages,So.use(xn).init({resources:{en:{translation:{"Value: {{value}}":"Value: {{value}}",Push:"Push",Attraction:"Attraction","Water damage":"Water damage","Fire damage":"Fire damage","Earth damage":"Earth damage","Air damage":"Air damage","Push damage":"Push damage","Indirect push damage":"Indirect push damage","Pushes back {{value}} cells_one":"Pushes back {{value}} cell","Pushes back {{value}} cells":"Pushes back {{value}} cells","Attracts {{value}} cells_one":"Attracts {{value}} cell","Attracts {{value}} cells":"Attracts {{value}} cells","{{value}} water damage":"{{value}} water damage","{{value}} fire damage":"{{value}} fire damage","{{value}} earth damage":"{{value}} earth damage","{{value}} air damage":"{{value}} air damage","{{value}} push damage":"{{value}} push damage","{{value}} push damage (indirect)":"{{value}} push damage (indirect)"}},fr:{translation:{"Value: {{value}}":"Valeur: {{value}}",Push:"Pousse",Attraction:"Attirance","Water damage":"Dommages eau","Fire damage":"Dommages feu","Earth damage":"Dommages terre","Air damage":"Dommages air","Push damage":"Dommages de pousse","Indirect push damage":"Dommages de pousse indirecte","Pushes back {{value}} cells_one":"Pousse de {{value}} case","Pushes back {{value}} cells":"Pousse de {{value}} cases","Attracts {{value}} cells_one":"Attire de {{value}} case","Attracts {{value}} cells":"Attire de {{value}} cases","{{value}} water damage_one":"{{value}} dommage eau","{{value}} water damage":"{{value}} dommages eau","{{value}} fire damage_one":"{{value}} dommage feu","{{value}} fire damage":"{{value}} dommages feu","{{value}} earth damage_one":"{{value}} dommage terre","{{value}} earth damage":"{{value}} dommages terre","{{value}} air damage_one":"{{value}} dommage air","{{value}} air damage":"{{value}} dommages air","{{value}} push damage_one":"{{value}} dommage de pousse","{{value}} push damage":"{{value}} dommages de pousse","{{value}} push damage_one (indirect)":"{{value}} dommage de pousse (indirecte)","{{value}} push damage (indirect)":"{{value}} dommages de pousse (indirecte)"}}},lng:"fr",interpolation:{escapeValue:!1}});var jo=document.getElementById("root");(0,br.s)(jo).render(React.createElement(mr,null))})()})();
//# sourceMappingURL=bundle.cd8e5fcaac8d1ece6aac.min.js.map