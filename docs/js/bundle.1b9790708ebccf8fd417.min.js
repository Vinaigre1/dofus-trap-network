/*! For license information please see bundle.1b9790708ebccf8fd417.min.js.LICENSE.txt */
(()=>{var e={824:()=>{window.onmousemove=function(e){var t=document.getElementsByClassName("mouse-icon")[0];t&&(t.style.left=e.pageX+"px",t.style.top=e.pageY+"px")}},585:()=>{function e(e,n){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){r&&(e=r);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(l)throw o}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}window.onload=function(){var t=document.getElementsByClassName("relative-height-source");new ResizeObserver((function(t){var n,r=document.getElementsByClassName("relative-height"),a=e(t);try{for(a.s();!(n=a.n()).done;){var i,o=n.value,s=e(r);try{for(s.s();!(i=s.n()).done;)i.value.style.maxHeight="".concat(o.contentRect.height,"px")}catch(e){s.e(e)}finally{s.f()}}}catch(e){a.e(e)}finally{a.f()}})).observe(t[0])}},782:(e,t)=>{"use strict";t.byteLength=function(e){var t=s(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,i=s(e),o=i[0],l=i[1],c=new a(function(e,t,n){return 3*(t+n)/4-n}(0,o,l)),u=0,f=l>0?o-4:o;for(n=0;n<f;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;return 2===l&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[u++]=255&t),1===l&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t),c},t.fromByteArray=function(e){for(var t,r=e.length,a=r%3,i=[],o=16383,s=0,c=r-a;s<c;s+=o)i.push(l(e,s,s+o>c?c:s+o));return 1===a?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===a&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),i.join("")};for(var n=[],r=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0;o<64;++o)n[o]=i[o],r[i.charCodeAt(o)]=o;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,r){for(var a,i,o=[],s=t;s<r;s+=3)a=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(n[(i=a)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return o.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},816:(e,t,n)=>{"use strict";const r=n(782),a=n(898),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.lW=l,t.h2=50;const o=2147483647;function s(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return f(e)}return c(e,t,n)}function c(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|d(e,t);let r=s(n);const a=r.write(e,t);return a!==n&&(r=r.slice(0,a)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(K(e,Uint8Array)){const t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return p(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(K(e,ArrayBuffer)||e&&K(e.buffer,ArrayBuffer))return h(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(K(e,SharedArrayBuffer)||e&&K(e.buffer,SharedArrayBuffer)))return h(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return l.from(r,t,n);const a=function(e){if(l.isBuffer(e)){const t=0|g(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||$(e.length)?s(0):p(e):"Buffer"===e.type&&Array.isArray(e.data)?p(e.data):void 0}(e);if(a)return a;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function f(e){return u(e),s(e<0?0:0|g(e))}function p(e){const t=e.length<0?0:0|g(e.length),n=s(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function h(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,l.prototype),r}function g(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function d(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||K(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let a=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return Y(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(e).length;default:if(a)return r?-1:Y(e).length;t=(""+t).toLowerCase(),a=!0}}function m(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,n);case"utf8":case"utf-8":return _(this,t,n);case"ascii":return T(this,t,n);case"latin1":case"binary":return P(this,t,n);case"base64":return k(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,a){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),$(n=+n)&&(n=a?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(a)return-1;n=e.length-1}else if(n<0){if(!a)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,a);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,a);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,a){let i,o=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,l/=2,n/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(a){let r=-1;for(i=n;i<s;i++)if(c(e,i)===c(t,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===l)return r*o}else-1!==r&&(i-=i-r),r=-1}else for(n+l>s&&(n=s-l),i=n;i>=0;i--){let n=!0;for(let r=0;r<l;r++)if(c(e,i+r)!==c(t,r)){n=!1;break}if(n)return i}return-1}function A(e,t,n,r){n=Number(n)||0;const a=e.length-n;r?(r=Number(r))>a&&(r=a):r=a;const i=t.length;let o;for(r>i/2&&(r=i/2),o=0;o<r;++o){const r=parseInt(t.substr(2*o,2),16);if($(r))return o;e[n+o]=r}return o}function w(e,t,n,r){return V(Y(t,e.length-n),e,n,r)}function C(e,t,n,r){return V(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function x(e,t,n,r){return V(q(t),e,n,r)}function E(e,t,n,r){return V(function(e,t){let n,r,a;const i=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,a=n%256,i.push(a),i.push(r);return i}(t,e.length-n),e,n,r)}function k(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function _(e,t,n){n=Math.min(e.length,n);const r=[];let a=t;for(;a<n;){const t=e[a];let i=null,o=t>239?4:t>223?3:t>191?2:1;if(a+o<=n){let n,r,s,l;switch(o){case 1:t<128&&(i=t);break;case 2:n=e[a+1],128==(192&n)&&(l=(31&t)<<6|63&n,l>127&&(i=l));break;case 3:n=e[a+1],r=e[a+2],128==(192&n)&&128==(192&r)&&(l=(15&t)<<12|(63&n)<<6|63&r,l>2047&&(l<55296||l>57343)&&(i=l));break;case 4:n=e[a+1],r=e[a+2],s=e[a+3],128==(192&n)&&128==(192&r)&&128==(192&s)&&(l=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&s,l>65535&&l<1114112&&(i=l))}}null===i?(i=65533,o=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),a+=o}return function(e){const t=e.length;if(t<=S)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=S));return n}(r)}l.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?s(e):void 0!==t?"string"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},l.allocUnsafe=function(e){return f(e)},l.allocUnsafeSlow=function(e){return f(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(K(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),K(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let a=0,i=Math.min(n,r);a<i;++a)if(e[a]!==t[a]){n=e[a],r=t[a];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=l.allocUnsafe(t);let a=0;for(n=0;n<e.length;++n){let t=e[n];if(K(t,Uint8Array))a+t.length>r.length?(l.isBuffer(t)||(t=l.from(t)),t.copy(r,a)):Uint8Array.prototype.set.call(r,t,a);else{if(!l.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,a)}a+=t.length}return r},l.byteLength=d,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},l.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},l.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},l.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?_(this,0,e):m.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){let e="";const n=t.h2;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},i&&(l.prototype[i]=l.prototype.inspect),l.prototype.compare=function(e,t,n,r,a){if(K(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===a&&(a=this.length),t<0||n>e.length||r<0||a>this.length)throw new RangeError("out of range index");if(r>=a&&t>=n)return 0;if(r>=a)return-1;if(t>=n)return 1;if(this===e)return 0;let i=(a>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0);const s=Math.min(i,o),c=this.slice(r,a),u=e.slice(t,n);for(let e=0;e<s;++e)if(c[e]!==u[e]){i=c[e],o=u[e];break}return i<o?-1:o<i?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const a=this.length-t;if((void 0===n||n>a)&&(n=a),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let i=!1;for(;;)switch(r){case"hex":return A(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":case"latin1":case"binary":return C(this,e,t,n);case"base64":return x(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const S=4096;function T(e,t,n){let r="";n=Math.min(e.length,n);for(let a=t;a<n;++a)r+=String.fromCharCode(127&e[a]);return r}function P(e,t,n){let r="";n=Math.min(e.length,n);for(let a=t;a<n;++a)r+=String.fromCharCode(e[a]);return r}function O(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let a="";for(let r=t;r<n;++r)a+=X[e[r]];return a}function j(e,t,n){const r=e.slice(t,n);let a="";for(let e=0;e<r.length-1;e+=2)a+=String.fromCharCode(r[e]+256*r[e+1]);return a}function M(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,n,r,a,i){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function R(e,t,n,r,a){W(t,r,a,e,n,7);let i=Number(t&BigInt(4294967295));e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,n}function I(e,t,n,r,a){W(t,r,a,e,n,7);let i=Number(t&BigInt(4294967295));e[n+7]=i,i>>=8,e[n+6]=i,i>>=8,e[n+5]=i,i>>=8,e[n+4]=i;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=o,o>>=8,e[n+2]=o,o>>=8,e[n+1]=o,o>>=8,e[n]=o,n+8}function N(e,t,n,r,a,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(e,t,n,r,i){return t=+t,n>>>=0,i||N(e,0,n,4),a.write(e,t,n,r,23,4),n+4}function B(e,t,n,r,i){return t=+t,n>>>=0,i||N(e,0,n,8),a.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,l.prototype),r},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||M(e,t,this.length);let r=this[e],a=1,i=0;for(;++i<t&&(a*=256);)r+=this[e+i]*a;return r},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||M(e,t,this.length);let r=this[e+--t],a=1;for(;t>0&&(a*=256);)r+=this[e+--t]*a;return r},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||M(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||M(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||M(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||M(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||M(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readBigUInt64LE=J((function(e){G(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||Z(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,a=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(a)<<BigInt(32))})),l.prototype.readBigUInt64BE=J((function(e){G(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||Z(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],a=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(a)})),l.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||M(e,t,this.length);let r=this[e],a=1,i=0;for(;++i<t&&(a*=256);)r+=this[e+i]*a;return a*=128,r>=a&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||M(e,t,this.length);let r=t,a=1,i=this[e+--r];for(;r>0&&(a*=256);)i+=this[e+--r]*a;return a*=128,i>=a&&(i-=Math.pow(2,8*t)),i},l.prototype.readInt8=function(e,t){return e>>>=0,t||M(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||M(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){e>>>=0,t||M(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||M(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||M(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readBigInt64LE=J((function(e){G(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||Z(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),l.prototype.readBigInt64BE=J((function(e){G(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||Z(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),l.prototype.readFloatLE=function(e,t){return e>>>=0,t||M(e,4,this.length),a.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||M(e,4,this.length),a.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||M(e,8,this.length),a.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||M(e,8,this.length),a.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||L(this,e,t,n,Math.pow(2,8*n)-1,0);let a=1,i=0;for(this[t]=255&e;++i<n&&(a*=256);)this[t+i]=e/a&255;return t+n},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||L(this,e,t,n,Math.pow(2,8*n)-1,0);let a=n-1,i=1;for(this[t+a]=255&e;--a>=0&&(i*=256);)this[t+a]=e/i&255;return t+n},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigUInt64LE=J((function(e,t=0){return R(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeBigUInt64BE=J((function(e,t=0){return I(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);L(this,e,t,n,r-1,-r)}let a=0,i=1,o=0;for(this[t]=255&e;++a<n&&(i*=256);)e<0&&0===o&&0!==this[t+a-1]&&(o=1),this[t+a]=(e/i>>0)-o&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);L(this,e,t,n,r-1,-r)}let a=n-1,i=1,o=0;for(this[t+a]=255&e;--a>=0&&(i*=256);)e<0&&0===o&&0!==this[t+a+1]&&(o=1),this[t+a]=(e/i>>0)-o&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigInt64LE=J((function(e,t=0){return R(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeBigInt64BE=J((function(e,t=0){return I(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeFloatLE=function(e,t,n){return D(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return D(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return B(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return B(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const a=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),a},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{const i=l.isBuffer(e)?e:l.from(e,r),o=i.length;if(0===o)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<n-t;++a)this[a+t]=i[a%o]}return this};const F={};function U(e,t,n){F[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function z(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function W(e,t,n,r,a,i){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let a;throw a=i>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(i+1)}${r}`:`>= -(2${r} ** ${8*(i+1)-1}${r}) and < 2 ** ${8*(i+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new F.ERR_OUT_OF_RANGE("value",a,e)}!function(e,t,n){G(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||Z(t,e.length-(n+1))}(r,a,i)}function G(e,t){if("number"!=typeof e)throw new F.ERR_INVALID_ARG_TYPE(t,"number",e)}function Z(e,t,n){if(Math.floor(e)!==e)throw G(e,n),new F.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new F.ERR_BUFFER_OUT_OF_BOUNDS;throw new F.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}U("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),U("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),U("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,a=n;return Number.isInteger(n)&&Math.abs(n)>2**32?a=z(String(n)):"bigint"==typeof n&&(a=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(a=z(a)),a+="n"),r+=` It must be ${t}. Received ${a}`,r}),RangeError);const H=/[^+/0-9A-Za-z-_]/g;function Y(e,t){let n;t=t||1/0;const r=e.length;let a=null;const i=[];for(let o=0;o<r;++o){if(n=e.charCodeAt(o),n>55295&&n<57344){if(!a){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&i.push(239,191,189);continue}a=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),a=n;continue}n=65536+(a-55296<<10|n-56320)}else a&&(t-=3)>-1&&i.push(239,191,189);if(a=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function q(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(H,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function V(e,t,n,r){let a;for(a=0;a<r&&!(a+n>=t.length||a>=e.length);++a)t[a+n]=e[a];return a}function K(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function $(e){return e!=e}const X=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let a=0;a<16;++a)t[r+a]=e[n]+e[a]}return t}();function J(e){return"undefined"==typeof BigInt?Q:e}function Q(){throw new Error("BigInt not supported")}},626:(e,t,n)=>{"use strict";var r=n(525),a={};function i(e,t,n,r,a,i,o,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,a,i,o,s],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}var o="mixins";e.exports=function(e,t,n){var s=[],l={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},c={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},u={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)p(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=r({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=r({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=g(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=r({},e.propTypes,t)},statics:function(e,t){!function(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){if(i(!(n in u),'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n),n in e)return i("DEFINE_MANY_MERGED"===(c.hasOwnProperty(n)?c[n]:null),"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),void(e[n]=g(e[n],r));e[n]=r}}}(e,t)},autobind:function(){}};function f(e,t){var n=l.hasOwnProperty(t)?l[t]:null;b.hasOwnProperty(t)&&i("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&i("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function p(e,n){if(n){i("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),i(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var r=e.prototype,a=r.__reactAutoBindPairs;for(var s in n.hasOwnProperty(o)&&u.mixins(e,n.mixins),n)if(n.hasOwnProperty(s)&&s!==o){var c=n[s],p=r.hasOwnProperty(s);if(f(p,s),u.hasOwnProperty(s))u[s](e,c);else{var h=l.hasOwnProperty(s);if("function"!=typeof c||h||p||!1===n.autobind)if(p){var m=l[s];i(h&&("DEFINE_MANY_MERGED"===m||"DEFINE_MANY"===m),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",m,s),"DEFINE_MANY_MERGED"===m?r[s]=g(r[s],c):"DEFINE_MANY"===m&&(r[s]=d(r[s],c))}else r[s]=c;else a.push(s,c),r[s]=c}}}}function h(e,t){for(var n in i(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),t)t.hasOwnProperty(n)&&(i(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function g(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var a={};return h(a,n),h(a,r),a}}function d(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function m(e,t){return t.bind(e)}var y={componentDidMount:function(){this.__isMounted=!0}},v={componentWillUnmount:function(){this.__isMounted=!1}},b={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},A=function(){};return r(A.prototype,e.prototype,b),function(e){var t=function(e,r,o){this.__reactAutoBindPairs.length&&function(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],a=t[n+1];e[r]=m(e,a)}}(this),this.props=e,this.context=r,this.refs=a,this.updater=o||n,this.state=null;var s=this.getInitialState?this.getInitialState():null;i("object"==typeof s&&!Array.isArray(s),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=s};for(var r in t.prototype=new A,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],s.forEach(p.bind(null,t)),p(t,y),p(t,e),p(t,v),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),i(t.prototype.render,"createClass(...): Class specification must implement a `render` method."),l)t.prototype[r]||(t.prototype[r]=null);return t}}},633:(e,t,n)=>{"use strict";var r=n(363),a=n(626);if(void 0===r)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var i=(new r.Component).updater;e.exports=a(r.Component,r.isValidElement,i)},542:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(559),a=n.n(r),i=n(476),o=n.n(i),s=n(678),l=n.n(s),c=new URL(n(506),n.b),u=o()(a()),f=l()(c);u.push([e.id,"body{background:url("+f+") no-repeat;background-size:cover;backdrop-filter:blur(20px)}.app{color:#fff;box-shadow:0 0 25px 15px rgba(0,0,0,.8);font-family:helvetica,arial,sans-serif;display:flex;justify-content:space-between;flex-wrap:wrap}","",{version:3,sources:["webpack://./assets/scss/App.scss"],names:[],mappings:"AAAA,KACE,4DAAA,CACA,qBAAA,CACA,0BAAA,CAGF,KACE,UAAA,CACA,uCAAA,CACA,sCAAA,CACA,YAAA,CACA,6BAAA,CACA,cAAA",sourcesContent:["body {\r\n  background: url('/assets/img/other/background.png') no-repeat;\r\n  background-size: cover;\r\n  backdrop-filter: blur(20px);\r\n}\r\n\r\n.app {\r\n  color: white;\r\n  box-shadow: 0 0 25px 15px rgba(0, 0, 0, 0.8);\r\n  font-family: helvetica, arial, sans-serif;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  flex-wrap: wrap;\r\n}\r\n"],sourceRoot:""}]);const p=u},493:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(559),a=n.n(r),i=n(476),o=n.n(i)()(a());o.push([e.id,".history{flex:1;margin:5px;background-color:rgba(0,0,0,.5333333333)}.history .actions{display:flex;flex-direction:column-reverse;overflow-y:scroll;height:92%}.history .filters{height:8%;display:flex;bottom:0}.history .filters button{flex:1;background-color:#454545;border:2px solid #ccc;line-height:100%;padding:0;cursor:pointer}.history .filters button img{width:50%}.history .filters button.active{background-color:#ba4545}.action{padding:4px;border-top:1px solid #ddd;display:flex;color:#eee}.action .action-img{width:25px;height:25px;margin-right:10px}.action .action-infos{justify-content:space-evenly;display:flex;flex-direction:column}.action.current{background-color:rgba(0,221,0,.2666666667)}.action.waiting{opacity:.3}.action.highlighted{background-color:rgba(255,255,255,.4)}.action.cancelled{opacity:.3;background-image:linear-gradient(to bottom right, transparent calc(50% - 1px), white, transparent calc(50% + 1px)),linear-gradient(to bottom left, transparent calc(50% - 1px), white, transparent calc(50% + 1px))}.action:hover{cursor:pointer;padding-left:5%}.highlighted.action-fire{background-color:rgba(185,18,27,.6)}.highlighted.action-air{background-color:rgba(150,255,150,.3)}.highlighted.action-water{background-color:rgba(64,131,164,.6)}.highlighted.action-earth{background-color:rgba(90,52,28,.6)}.highlighted.action-utility{background-color:rgba(49,45,134,.5)}.highlighted.action-test{background-color:rgba(255,255,255,.4)}.history.no-meta .action:not(.waiting,.current).effect-meta{display:none}.history.no-movement .action:not(.waiting,.current).effect-movement{display:none}.history.no-damage .action:not(.waiting,.current).effect-damage{display:none}.history.no-state .action:not(.waiting,.current).effect-state{display:none}.history.no-secondary .action:not(.waiting,.current).effect-secondary{display:none}.history.no-spell .action:not(.waiting,.current).effect-spell{display:none}","",{version:3,sources:["webpack://./assets/scss/History.scss"],names:[],mappings:"AAAA,SACE,MAAA,CACA,UAAA,CACA,wCAAA,CACA,kBACE,YAAA,CACA,6BAAA,CACA,iBAAA,CACA,UAAA,CAEF,kBACE,SAAA,CACA,YAAA,CACA,QAAA,CACA,yBACE,MAAA,CACA,wBAAA,CACA,qBAAA,CACA,gBAAA,CACA,SAAA,CACA,cAAA,CACA,6BACE,SAAA,CAGJ,gCACE,wBAAA,CAKN,QACE,WAAA,CACA,yBAAA,CACA,YAAA,CACA,UAAA,CAEA,oBACE,UAAA,CACA,WAAA,CACA,iBAAA,CAGF,sBACE,4BAAA,CACA,YAAA,CACA,qBAAA,CAIJ,gBACE,0CAAA,CAGF,gBACE,UAAA,CAGF,oBACE,qCAAA,CAGF,kBAEE,UAAA,CACA,mNAAA,CAGF,cACE,cAAA,CACA,eAAA,CAGF,yBAAA,mCAAA,CACA,wBAAA,qCAAA,CACA,0BAAA,oCAAA,CACA,0BAAA,kCAAA,CACA,4BAAA,mCAAA,CACA,yBAAA,qCAAA,CAEA,4DAAA,YAAA,CACA,oEAAA,YAAA,CACA,gEAAA,YAAA,CACA,8DAAA,YAAA,CACA,sEAAA,YAAA,CACA,8DAAA,YAAA",sourcesContent:[".history {\r\n  flex: 1;\r\n  margin: 5px;\r\n  background-color: #0008;\r\n  .actions {\r\n    display: flex;\r\n    flex-direction: column-reverse;\r\n    overflow-y: scroll;\r\n    height: 92%;\r\n  }\r\n  .filters {\r\n    height: 8%;\r\n    display: flex;\r\n    bottom: 0;\r\n    button {\r\n      flex: 1;\r\n      background-color: rgb(69, 69, 69);\r\n      border: 2px solid #CCC;\r\n      line-height: 100%;\r\n      padding: 0;\r\n      cursor: pointer;\r\n      img {\r\n        width: 50%;\r\n      }\r\n    }\r\n    button.active {\r\n      background-color: rgb(186, 69, 69);\r\n    }\r\n  }\r\n}\r\n\r\n.action {\r\n  padding: 4px;\r\n  border-top: 1px solid #DDD;\r\n  display: flex;\r\n  color: #EEE;\r\n\r\n  .action-img {\r\n    width: 25px;\r\n    height: 25px;\r\n    margin-right: 10px;\r\n  }\r\n\r\n  .action-infos {\r\n    justify-content: space-evenly;\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n}\r\n\r\n.action.current {\r\n  background-color: #0D04;\r\n}\r\n\r\n.action.waiting {\r\n  opacity: 0.3;\r\n}\r\n\r\n.action.highlighted {\r\n  background-color: #FFF6;\r\n}\r\n\r\n.action.cancelled {\r\n  // display: none;\r\n  opacity: 0.3;\r\n  background-image: linear-gradient(to bottom right, transparent calc(50% - 1px), white, transparent calc(50% + 1px)), linear-gradient(to bottom left, transparent calc(50% - 1px), white, transparent calc(50% + 1px))\r\n}\r\n\r\n.action:hover {\r\n  cursor: pointer;\r\n  padding-left: 5%;\r\n}\r\n\r\n.highlighted.action-fire    { background-color: rgb(185,  18,  27, 0.6); }\r\n.highlighted.action-air     { background-color: rgb(150, 255, 150, 0.3); }\r\n.highlighted.action-water   { background-color: rgb( 64, 131, 164, 0.6); }\r\n.highlighted.action-earth   { background-color: rgb( 90,  52,  28, 0.6); }\r\n.highlighted.action-utility { background-color: rgb( 49,  45, 134, 0.5); }\r\n.highlighted.action-test    { background-color: rgb(255, 255, 255, 0.4); }\r\n\r\n.history.no-meta      .action:not(.waiting, .current).effect-meta      { display: none; }\r\n.history.no-movement  .action:not(.waiting, .current).effect-movement  { display: none; }\r\n.history.no-damage    .action:not(.waiting, .current).effect-damage    { display: none; }\r\n.history.no-state     .action:not(.waiting, .current).effect-state     { display: none; }\r\n.history.no-secondary .action:not(.waiting, .current).effect-secondary { display: none; }\r\n.history.no-spell     .action:not(.waiting, .current).effect-spell     { display: none; }\r\n"],sourceRoot:""}]);const s=o},456:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(559),a=n.n(r),i=n(476),o=n.n(i)()(a());o.push([e.id,".map{flex:3;margin:5px;display:grid;height:fit-content;clip-path:inset(0 0 0 0)}.map svg.tiles,.map svg.entities{grid-column:1;grid-row:1;user-select:none;pointer-events:none}.map svg.tiles .base,.map svg.entities .base{fill:none;stroke:none;pointer-events:all}.map svg.tiles .ground,.map svg.entities .ground{cursor:pointer}.map svg.tiles .ground.hover .base,.map svg.entities .ground.hover .base{fill:#b9121b}.row{stroke:#7e7961;stroke-width:.1}.cell.even.ground{fill:#8e865e}.cell.odd.ground{fill:#968e67}.cell.empty{fill:rgba(0,0,0,0);stroke:rgba(0,0,0,0);stroke-width:0}.cell.wall{fill:#58533a;stroke:rgba(204,204,204,.8);stroke-width:.1}.entity-circle{stroke-width:.3}.entity.defender .entity-circle{fill:rgba(0,0,255,.2);stroke:blue}.entity.attacker .entity-circle{fill:rgba(255,0,0,.2);stroke:red}.trap{fill:none;stroke:none;stroke-width:.2;stroke-linecap:round}.trap polygon{opacity:.3}.trap-highlighted .trap{stroke-width:1}.trap-highlighted .trap polygon{opacity:.6}.trap.trap-fire polygon{fill:#b9121b}.trap.trap-fire path{stroke:#b9121b}.trap.trap-air polygon{fill:#96ff96}.trap.trap-air path{stroke:#96ff96}.trap.trap-water polygon{fill:#4083a4}.trap.trap-water path{stroke:#4083a4}.trap.trap-earth polygon{fill:#5a341c}.trap.trap-earth path{stroke:#5a341c}.trap.trap-utility polygon{fill:#312d86}.trap.trap-utility path{stroke:#312d86}.trap.trap-test polygon{fill:#fff}.trap.trap-test path{stroke:#fff}.trap.trap-desynchro polygon{fill:#000}.trap.trap-desynchro path{stroke:#000}.entity.animating .entity-image,.entity.animating .entity-state{transition:x .1s linear,y .1s linear}.entity.animating .entity-circle{transition:cx .1s linear,cy .1s linear}.entity.attacker.highlighted .entity-image{filter:drop-shadow(0 0 1px red) contrast(120%) brightness(110%)}.entity.defender.highlighted .entity-image{filter:drop-shadow(0 0 1px blue) contrast(120%) brightness(110%)}.mouse-icon{position:fixed}.mouse-icon img{width:30px}","",{version:3,sources:["webpack://./assets/scss/Map.scss"],names:[],mappings:"AAGA,KACE,MAAA,CACA,UAAA,CACA,YAAA,CACA,kBAAA,CACA,wBAAA,CAGF,iCACE,aAAA,CACA,UAAA,CACA,gBAAA,CACA,mBAAA,CACA,6CACE,SAAA,CACA,WAAA,CACA,kBAAA,CAEF,iDACE,cAAA,CAEF,yEACE,YAAA,CAIJ,KACE,cAAA,CACA,eAAA,CAGF,kBACE,YAAA,CAGF,iBACE,YAAA,CAGF,YACE,kBAAA,CACA,oBAAA,CACA,cAAA,CAGF,WACE,YAAA,CACA,2BAAA,CACA,eAAA,CAGF,eACE,eAAA,CAGF,gCACE,qBAAA,CACA,WAAA,CAGF,gCACE,qBAAA,CACA,UAAA,CAGF,MACE,SAAA,CACA,WAAA,CACA,eAAA,CACA,oBAAA,CAGF,cACE,UAAA,CAGF,wBACE,cAAA,CAGF,gCACE,UAAA,CAGF,wBAAA,YAAA,CAAA,qBAAA,cAAA,CACA,uBAAA,YAAA,CAAA,oBAAA,cAAA,CACA,yBAAA,YAAA,CAAA,sBAAA,cAAA,CACA,yBAAA,YAAA,CAAA,sBAAA,cAAA,CACA,2BAAA,YAAA,CAAA,wBAAA,cAAA,CACA,wBAAA,SAAA,CAAA,qBAAA,WAAA,CACA,6BAAA,SAAA,CAAA,0BAAA,WAAA,CAEA,gEAEE,oCAAA,CAGF,iCACE,sCAAA,CAGF,2CACE,+DAAA,CAGF,2CACE,gEAAA,CAGF,YACE,cAAA,CACA,gBACE,UAAA",sourcesContent:["$cps: 10; // cells per second\r\n$animSpeed: calc(1s / $cps);\r\n\r\n.map {\r\n  flex: 3;\r\n  margin: 5px;\r\n  display: grid;\r\n  height: fit-content;\r\n  clip-path: inset(0 0 0 0);\r\n}\r\n\r\n.map svg.tiles, .map svg.entities {\r\n  grid-column: 1;\r\n  grid-row: 1;\r\n  user-select: none;\r\n  pointer-events: none;\r\n  .base {\r\n    fill: none;\r\n    stroke: none;\r\n    pointer-events: all;\r\n  }\r\n  .ground {\r\n    cursor: pointer;\r\n  }\r\n  .ground.hover .base {\r\n    fill:rgb(185,  18,  27);\r\n  }\r\n}\r\n\r\n.row {\r\n  stroke: #7E7961;\r\n  stroke-width: 0.1;\r\n}\r\n\r\n.cell.even.ground {\r\n  fill: #8E865E;\r\n}\r\n\r\n.cell.odd.ground {\r\n  fill: #968E67;\r\n}\r\n\r\n.cell.empty {\r\n  fill: #0000;\r\n  stroke: #0000;\r\n  stroke-width: 0;\r\n}\r\n\r\n.cell.wall {\r\n  fill: #58533A;\r\n  stroke: #CCCC;\r\n  stroke-width: 0.1;\r\n}\r\n\r\n.entity-circle {\r\n  stroke-width: 0.3;\r\n}\r\n\r\n.entity.defender .entity-circle{\r\n  fill: #00F3;\r\n  stroke: #00F;\r\n}\r\n\r\n.entity.attacker .entity-circle {\r\n  fill: #F003;\r\n  stroke: #F00;\r\n}\r\n\r\n.trap {\r\n  fill: none;\r\n  stroke: none;\r\n  stroke-width: 0.2;\r\n  stroke-linecap: round;\r\n}\r\n\r\n.trap polygon {\r\n  opacity: 0.3;\r\n}\r\n\r\n.trap-highlighted .trap {\r\n  stroke-width: 1;\r\n}\r\n\r\n.trap-highlighted .trap polygon {\r\n  opacity: 0.6;\r\n}\r\n\r\n.trap.trap-fire polygon      { fill: rgb(185,  18,  27); } .trap.trap-fire path      { stroke: rgb(185,  18,  27); }\r\n.trap.trap-air polygon       { fill: rgb(150, 255, 150); } .trap.trap-air path       { stroke: rgb(150, 255, 150); }\r\n.trap.trap-water polygon     { fill: rgb( 64, 131, 164); } .trap.trap-water path     { stroke: rgb( 64, 131, 164); }\r\n.trap.trap-earth polygon     { fill: rgb( 90,  52,  28); } .trap.trap-earth path     { stroke: rgb( 90,  52,  28); }\r\n.trap.trap-utility polygon   { fill: rgb( 49,  45, 134); } .trap.trap-utility path   { stroke: rgb( 49,  45, 134); }\r\n.trap.trap-test polygon      { fill: rgb(255, 255, 255); } .trap.trap-test path      { stroke: rgb(255, 255, 255); }\r\n.trap.trap-desynchro polygon { fill: rgb(  0,   0,   0); } .trap.trap-desynchro path { stroke: rgb(  0,   0,   0); }\r\n\r\n.entity.animating .entity-image,\r\n.entity.animating .entity-state {\r\n  transition: x $animSpeed linear, y $animSpeed linear;\r\n}\r\n\r\n.entity.animating .entity-circle {\r\n  transition: cx $animSpeed linear, cy $animSpeed linear;\r\n}\r\n\r\n.entity.attacker.highlighted .entity-image {\r\n  filter: drop-shadow(0 0 1px red) contrast(120%) brightness(110%);\r\n}\r\n\r\n.entity.defender.highlighted .entity-image {\r\n  filter: drop-shadow(0 0 1px blue) contrast(120%) brightness(110%);\r\n}\r\n\r\n.mouse-icon {\r\n  position: fixed;\r\n  img {\r\n    width: 30px;\r\n  }\r\n}\r\n"],sourceRoot:""}]);const s=o},701:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(559),a=n.n(r),i=n(476),o=n.n(i)()(a());o.push([e.id,".spells{box-shadow:0 0 20px 10px rgba(0,0,0,.5);width:100%;margin:5px;padding:10px;display:flex;justify-content:space-around;line-height:50%}.spell-category{flex:3;display:inline-block;text-align:center}.spells .controls{flex:8}.spells-options{flex:8}.spells-options img{width:35px;height:35px}.spells-options .btn{background-color:#454545;border:2px solid #ccc;padding:5px;display:inline-block;cursor:pointer}.spells-options .btn.active{background-color:#ba4545}.spell{cursor:pointer;padding:5px}.spell img{user-select:none}.selected-spell{box-shadow:0 0 10px 5px rgba(0,0,0,.5);background-color:rgba(255,255,255,.3)}.controls button{width:60px;height:40px;margin-left:10px;background-color:#454545;border:2px solid #ccc;padding:0;box-shadow:0 0 10px 5px rgba(0,0,0,.5333333333);cursor:pointer}.controls button:active,.controls button.pause{background-color:#ba4545}.controls button img{vertical-align:middle;display:inline;height:60%}.controls button.play img.img-pause,.controls button.pause img.img-play{display:none}","",{version:3,sources:["webpack://./assets/scss/Spells.scss"],names:[],mappings:"AAAA,QACE,uCAAA,CACA,UAAA,CACA,UAAA,CACA,YAAA,CACA,YAAA,CACA,4BAAA,CACA,eAAA,CAGF,gBACE,MAAA,CACA,oBAAA,CACA,iBAAA,CAGF,kBACE,MAAA,CAGF,gBACE,MAAA,CAGF,oBACE,UAAA,CACA,WAAA,CAGF,qBACE,wBAAA,CACA,qBAAA,CACA,WAAA,CACA,oBAAA,CACA,cAAA,CAGF,4BACE,wBAAA,CAGF,OACE,cAAA,CACA,WAAA,CAGF,WACE,gBAAA,CAGF,gBACE,sCAAA,CACA,qCAAA,CAGF,iBACE,UAAA,CACA,WAAA,CACA,gBAAA,CACA,wBAAA,CACA,qBAAA,CACA,SAAA,CACA,+CAAA,CACA,cAAA,CAGF,+CAEE,wBAAA,CAGF,qBACE,qBAAA,CACA,cAAA,CACA,UAAA,CAGF,wEAEE,YAAA",sourcesContent:[".spells {\r\n  box-shadow: 0 0 20px 10px rgba(0, 0, 0, 0.5);\r\n  width: 100%;\r\n  margin: 5px;\r\n  padding: 10px;\r\n  display: flex;\r\n  justify-content: space-around;\r\n  line-height: 50%;\r\n}\r\n\r\n.spell-category {\r\n  flex: 3;\r\n  display: inline-block;\r\n  text-align: center;\r\n}\r\n\r\n.spells .controls {\r\n  flex: 8;\r\n}\r\n\r\n.spells-options {\r\n  flex: 8;\r\n}\r\n\r\n.spells-options img {\r\n  width: 35px;\r\n  height: 35px;\r\n}\r\n\r\n.spells-options .btn {\r\n  background-color: rgb(69, 69, 69);\r\n  border: 2px solid #CCC;\r\n  padding: 5px;\r\n  display: inline-block;\r\n  cursor: pointer;\r\n}\r\n\r\n.spells-options .btn.active {\r\n  background-color: rgb(186, 69, 69);\r\n}\r\n\r\n.spell {\r\n  cursor: pointer;\r\n  padding: 5px;\r\n}\r\n\r\n.spell img {\r\n  user-select: none;\r\n}\r\n\r\n.selected-spell {\r\n  box-shadow: 0 0 10px 5px rgba(0, 0, 0, 0.5);\r\n  background-color: rgba(255, 255, 255, 0.3);\r\n}\r\n\r\n.controls button {\r\n  width: 60px;\r\n  height: 40px;\r\n  margin-left: 10px;\r\n  background-color: rgb(69, 69, 69);\r\n  border: 2px solid #CCC;\r\n  padding: 0;\r\n  box-shadow: 0 0 10px 5px #0008;\r\n  cursor: pointer;\r\n}\r\n\r\n.controls button:active,\r\n.controls button.pause {\r\n  background-color: rgb(186, 69, 69);\r\n}\r\n\r\n.controls button img {\r\n  vertical-align: middle;\r\n  display: inline;\r\n  height: 60%;\r\n}\r\n\r\n.controls button.play img.img-pause,\r\n.controls button.pause img.img-play {\r\n  display: none;\r\n}\r\n"],sourceRoot:""}]);const s=o},731:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(559),a=n.n(r),i=n(476),o=n.n(i),s=n(678),l=n.n(s),c=new URL(n(576),n.b),u=o()(a()),f=l()(c);u.push([e.id,'.stats{flex:1;margin:5px;overflow-y:scroll}.stats .entity-list,.stats .trap-list{overflow:scroll;height:150px;margin:10px;padding:0;background-color:rgba(0,0,0,.4);list-style:none}.stats .entity-list li:not(:last-child),.stats .trap-list li:not(:last-child){border-bottom:1px solid #fff}.stats .entity-list li.placeholder,.stats .trap-list li.placeholder{opacity:0}.stats .entity-list li *,.stats .trap-list li *{vertical-align:middle}.stats .entity-list li .trap-order,.stats .trap-list li .trap-order{padding-top:7px;padding-bottom:7px;cursor:grab;display:inline-block;width:10%;text-align:center}.stats .entity-list li .trap-order span,.stats .trap-list li .trap-order span{display:inline-block;width:100%;font-size:9px;position:relative;margin-right:8px;color:#ccc;font-weight:100;user-select:none}.stats .entity-list li .trap-order span:before,.stats .entity-list li .trap-order span:after,.stats .trap-list li .trap-order span:before,.stats .trap-list li .trap-order span:after{left:0;width:100%;font-size:12px;position:absolute}.stats .entity-list li .trap-order span:before,.stats .trap-list li .trap-order span:before{content:"^";top:-8px}.stats .entity-list li .trap-order span:after,.stats .trap-list li .trap-order span:after{content:"^";transform:scaleY(-1);top:3px}.stats .entity-list li .img-container,.stats .trap-list li .img-container{padding-top:7px;padding-bottom:7px;cursor:grab;user-select:none;display:inline-block;width:10%}.stats .entity-list li .img-container img,.stats .trap-list li .img-container img{user-select:none;width:18px;margin-right:5px}.stats .entity-list li .trap-name,.stats .trap-list li .trap-name{padding-top:7px;padding-bottom:7px;cursor:grab;user-select:none;width:80%;display:inline-block}.stats .entity-list li .trap-name span,.stats .trap-list li .trap-name span{font-size:15px;color:#eee}.stats .share{margin-top:10px}.stats .share .shareBtn{border:2px solid #ccc;background-color:#454545;color:#ccc;padding:5px 10px;margin-right:10px;margin-bottom:10px;font-weight:bold;cursor:pointer}.stats .share .shareBtn:active{background-color:#ba4545}.stats .share .shareText{padding:10px;background-color:rgba(0,0,0,.4);overflow:scroll;white-space:nowrap}.stats .main-character{background-color:#454545;border:2px solid #ccc;cursor:pointer;color:#ccc;font-weight:bold;padding:10px}.stats.config{color:#eee}.stats.config .close{float:right;width:15%;height:0;padding:5px 5px calc(15% + 5px) 0;margin:0;border:none;position:relative;background-color:rgba(0,0,0,0);cursor:pointer}.stats.config .close::before{content:"";top:0;left:0;width:100%;height:100%;position:absolute;background-image:url('+f+');background-repeat:no-repeat;background-size:70%;background-position:50% 50%;filter:invert(100%);z-index:0}.stats.config h3{text-align:center}.stats.config hr{color:rgba(0,0,0,.4)}.stats.config .entity-infos{display:flex;padding:10px}.stats.config .entity-infos .image{flex-shrink:0;width:30%;height:0;padding:5px;padding-bottom:calc(5px + 30%);margin-right:10px;overflow:hidden;vertical-align:middle}.stats.config .entity-infos .image img{width:100%}.stats.config .entity-infos .image.team-red{border:2px solid red}.stats.config .entity-infos .image.team-blue{border:2px solid #0084ff}.stats.config .entity-infos .base-infos{width:80%;display:block}.stats.config .entity-infos .base-infos .health{margin-top:5px;display:flex;flex-direction:column;justify-content:center;align-items:center;position:relative;height:50px;width:60px}.stats.config .entity-infos .base-infos .health img.hp-full{height:50px;width:60px;position:absolute;top:0;left:0;z-index:0}.stats.config .entity-infos .base-infos .health img.hp-empty{height:50px;width:60px;position:absolute;top:0;left:0;object-fit:cover;object-position:top;z-index:1}.stats.config .entity-infos .base-infos .health span{text-shadow:1px 1px 0 #000;display:block;z-index:2}.stats.config .entity-infos .base-infos .btn-move{border:2px solid #ccc;background-color:#454545;color:#ccc;padding:5px 10px;margin:5px 10px 0px 0px;font-weight:bold;cursor:pointer;display:inline-block;user-select:none}.stats.config .entity-infos .base-infos .btn-move.active{background-color:#ba4545}.stats.config .offensive-stats{padding-left:5px;padding-right:5px}.stats.config .offensive-stats li{height:25px;margin-bottom:3px;display:flex}.stats.config .offensive-stats li img{margin-right:5px;width:25px}.stats.config .offensive-stats li img[src=""]{visibility:hidden}.stats.config .offensive-stats li span{line-height:25px;flex:3}.stats.config .offensive-stats li input{min-width:0;border:none;flex:3;appearance:textfield;background-color:rgba(255,255,255,.4);border-radius:2px;padding-left:5px;color:#eee}.stats.config .offensive-stats li input:disabled{background-color:rgba(0,0,0,0)}',"",{version:3,sources:["webpack://./assets/scss/Stats.scss"],names:[],mappings:"AAAA,OACE,MAAA,CACA,UAAA,CACA,iBAAA,CACA,sCAEE,eAAA,CACA,YAAA,CACA,WAAA,CACA,SAAA,CACA,+BAAA,CACA,eAAA,CACA,8EACE,4BAAA,CAEF,oEACE,SAAA,CAGA,gDACE,qBAAA,CAEF,oEACE,eAAA,CACA,kBAAA,CACA,WAAA,CACA,oBAAA,CACA,SAAA,CACA,iBAAA,CACA,8EACE,oBAAA,CACA,UAAA,CACA,aAAA,CACA,iBAAA,CACA,gBAAA,CACA,UAAA,CACA,eAAA,CACA,gBAAA,CAEF,sLAEE,MAAA,CACA,UAAA,CACA,cAAA,CACA,iBAAA,CAEF,4FACE,WAAA,CACA,QAAA,CAEF,0FACE,WAAA,CACA,oBAAA,CACA,OAAA,CAGJ,0EACA,eAAA,CACA,kBAAA,CACE,WAAA,CACA,gBAAA,CACA,oBAAA,CACA,SAAA,CACA,kFACE,gBAAA,CACA,UAAA,CACA,gBAAA,CAGJ,kEACE,eAAA,CACA,kBAAA,CACA,WAAA,CACA,gBAAA,CACA,SAAA,CACA,oBAAA,CACA,4EACE,cAAA,CACA,UAAA,CAKR,cACE,eAAA,CACA,wBACE,qBAAA,CACA,wBAAA,CACA,UAAA,CACA,gBAAA,CACA,iBAAA,CACA,kBAAA,CACA,gBAAA,CACA,cAAA,CAEF,+BACE,wBAAA,CAEF,yBACE,YAAA,CACA,+BAAA,CACA,eAAA,CACA,kBAAA,CAGJ,uBACE,wBAAA,CACA,qBAAA,CACA,cAAA,CACA,UAAA,CACA,gBAAA,CACA,YAAA,CAIJ,cACE,UAAA,CACA,qBACE,WAAA,CACA,SAAA,CACA,QAAA,CACA,iCAAA,CACA,QAAA,CACA,WAAA,CACA,iBAAA,CACA,8BAAA,CACA,cAAA,CAEF,6BACE,UAAA,CACA,KAAA,CACA,MAAA,CACA,UAAA,CACA,WAAA,CACA,iBAAA,CACA,wDAAA,CACA,2BAAA,CACA,mBAAA,CACA,2BAAA,CACA,mBAAA,CACA,SAAA,CAEF,iBACE,iBAAA,CAEF,iBACE,oBAAA,CAEF,4BACE,YAAA,CACA,YAAA,CACA,mCACE,aAAA,CACA,SAAA,CACA,QAAA,CACA,WAAA,CACA,8BAAA,CACA,iBAAA,CACA,eAAA,CACA,qBAAA,CACA,uCACE,UAAA,CAGJ,4CACE,oBAAA,CAEF,6CACE,wBAAA,CAEF,wCACE,SAAA,CACA,aAAA,CACA,gDACE,cAAA,CACA,YAAA,CACA,qBAAA,CACA,sBAAA,CACA,kBAAA,CACA,iBAAA,CACA,WAAA,CACA,UAAA,CACA,4DACE,WAAA,CACA,UAAA,CACA,iBAAA,CACA,KAAA,CACA,MAAA,CACA,SAAA,CAEF,6DACE,WAAA,CACA,UAAA,CACA,iBAAA,CACA,KAAA,CACA,MAAA,CACA,gBAAA,CACA,mBAAA,CACA,SAAA,CAEF,qDACE,0BAAA,CACA,aAAA,CACA,SAAA,CAGJ,kDACE,qBAAA,CACA,wBAAA,CACA,UAAA,CACA,gBAAA,CACA,uBAAA,CACA,gBAAA,CACA,cAAA,CACA,oBAAA,CACA,gBAAA,CAEF,yDACE,wBAAA,CAIN,+BACE,gBAAA,CACA,iBAAA,CACA,kCACE,WAAA,CACA,iBAAA,CACA,YAAA,CACA,sCACE,gBAAA,CACA,UAAA,CAEF,8CACE,iBAAA,CAEF,uCACE,gBAAA,CACA,MAAA,CAEF,wCACE,WAAA,CACA,WAAA,CACA,MAAA,CACA,oBAAA,CACA,qCAAA,CACA,iBAAA,CACA,gBAAA,CACA,UAAA,CAEF,iDACE,8BAAA",sourcesContent:[".stats {\r\n  flex: 1;\r\n  margin: 5px;\r\n  overflow-y: scroll;\r\n  .entity-list,\r\n  .trap-list {\r\n    overflow: scroll;\r\n    height: 150px;\r\n    margin: 10px;\r\n    padding: 0;\r\n    background-color: #0006;\r\n    list-style: none;\r\n    li:not(:last-child) {\r\n      border-bottom: 1px solid white;\r\n    }\r\n    li.placeholder {\r\n      opacity: 0;\r\n    }\r\n    li {\r\n      * {\r\n        vertical-align: middle;\r\n      }\r\n      .trap-order {\r\n        padding-top: 7px;\r\n        padding-bottom: 7px;\r\n        cursor: grab;\r\n        display: inline-block;\r\n        width: 10%;\r\n        text-align: center;\r\n        span {\r\n          display: inline-block;\r\n          width: 100%;\r\n          font-size: 9px;\r\n          position: relative;\r\n          margin-right: 8px;\r\n          color: #CCC;\r\n          font-weight: 100;\r\n          user-select: none;\r\n        }\r\n        span:before,\r\n        span:after {\r\n          left: 0;\r\n          width: 100%;\r\n          font-size: 12px;\r\n          position: absolute;\r\n        }\r\n        span:before {\r\n          content: '^';\r\n          top: -8px;\r\n        }\r\n        span:after {\r\n          content: '^';\r\n          transform: scaleY(-1);\r\n          top: 3px;\r\n        }\r\n      }\r\n      .img-container {\r\n      padding-top: 7px;\r\n      padding-bottom: 7px;\r\n        cursor: grab;\r\n        user-select: none;\r\n        display: inline-block;\r\n        width: 10%;\r\n        img {\r\n          user-select: none;\r\n          width: 18px;\r\n          margin-right: 5px;\r\n        }\r\n      }\r\n      .trap-name {\r\n        padding-top: 7px;\r\n        padding-bottom: 7px;\r\n        cursor: grab;\r\n        user-select: none;\r\n        width: 80%;\r\n        display: inline-block;\r\n        span {\r\n          font-size: 15px;\r\n          color: #EEE;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .share {\r\n    margin-top: 10px;\r\n    .shareBtn {\r\n      border: 2px solid #CCC;\r\n      background-color: rgb(69, 69, 69);\r\n      color: #CCC;\r\n      padding: 5px 10px;\r\n      margin-right: 10px;\r\n      margin-bottom: 10px;\r\n      font-weight: bold;\r\n      cursor: pointer;\r\n    }\r\n    .shareBtn:active {\r\n      background-color: rgb(186, 69, 69);\r\n    }\r\n    .shareText {\r\n      padding: 10px;\r\n      background-color: #0006;\r\n      overflow: scroll;\r\n      white-space: nowrap;\r\n    }\r\n  }\r\n  .main-character {\r\n    background-color: rgb(69, 69, 69);\r\n    border: 2px solid #CCC;\r\n    cursor: pointer;\r\n    color: #CCC;\r\n    font-weight: bold;\r\n    padding: 10px;\r\n  }\r\n}\r\n\r\n.stats.config {\r\n  color: #EEE;\r\n  .close {\r\n    float: right;\r\n    width: 15%;\r\n    height: 0;\r\n    padding: 5px 5px calc(15% + 5px) 0;\r\n    margin: 0;\r\n    border: none;\r\n    position: relative;\r\n    background-color: #0000;\r\n    cursor: pointer;\r\n  }\r\n  .close::before {\r\n    content: \"\";\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    background-image: url('/assets/img/other/cross.png');\r\n    background-repeat: no-repeat;\r\n    background-size: 70%;\r\n    background-position: 50% 50%;\r\n    filter: invert(100%);\r\n    z-index: 0;\r\n  }\r\n  h3 {\r\n    text-align: center;\r\n  }\r\n  hr {\r\n    color: #0006;\r\n  }\r\n  .entity-infos {\r\n    display: flex;\r\n    padding: 10px;\r\n    .image {\r\n      flex-shrink: 0;\r\n      width: 30%;\r\n      height: 0;\r\n      padding: 5px;\r\n      padding-bottom: calc(5px + 30%);\r\n      margin-right: 10px;\r\n      overflow: hidden;\r\n      vertical-align: middle;\r\n      img {\r\n        width: 100%;\r\n      }\r\n    }\r\n    .image.team-red {\r\n      border: 2px solid #F00;\r\n    }\r\n    .image.team-blue {\r\n      border: 2px solid rgb(0, 132, 255);\r\n    }\r\n    .base-infos {\r\n      width: 80%;\r\n      display: block;\r\n      .health {\r\n        margin-top: 5px;\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: center;\r\n        align-items: center;\r\n        position: relative;\r\n        height: 50px;\r\n        width: 60px;\r\n        img.hp-full {\r\n          height: 50px;\r\n          width: 60px;\r\n          position: absolute;\r\n          top: 0;\r\n          left: 0;\r\n          z-index: 0;\r\n        }\r\n        img.hp-empty {\r\n          height: 50px;\r\n          width: 60px;\r\n          position: absolute;\r\n          top: 0;\r\n          left: 0;\r\n          object-fit: cover;\r\n          object-position: top;\r\n          z-index: 1;\r\n        }\r\n        span {\r\n          text-shadow: 1px 1px 0 black;\r\n          display: block;\r\n          z-index: 2;\r\n        }\r\n      }\r\n      .btn-move {\r\n        border: 2px solid #CCC;\r\n        background-color: rgb(69, 69, 69);\r\n        color: #CCC;\r\n        padding: 5px 10px;\r\n        margin: 5px 10px 0px 0px;\r\n        font-weight: bold;\r\n        cursor: pointer;\r\n        display: inline-block;\r\n        user-select: none;\r\n      }\r\n      .btn-move.active {\r\n        background-color: rgb(186, 69, 69);\r\n      }\r\n    }\r\n  }\r\n  .offensive-stats {\r\n    padding-left: 5px;\r\n    padding-right: 5px;\r\n    li {\r\n      height: 25px;\r\n      margin-bottom: 3px;\r\n      display: flex;\r\n      img {\r\n        margin-right: 5px;\r\n        width: 25px;\r\n      }\r\n      img[src=\"\"] {\r\n        visibility: hidden;\r\n      }\r\n      span {\r\n        line-height: 25px;\r\n        flex: 3;\r\n      }\r\n      input {\r\n        min-width: 0;\r\n        border: none;\r\n        flex: 3;\r\n        appearance: textfield;\r\n        background-color: #FFF6;\r\n        border-radius: 2px;\r\n        padding-left: 5px;\r\n        color: #EEE;\r\n      }\r\n      input:disabled {\r\n        background-color: #0000;\r\n      }\r\n    }\r\n  }\r\n}\r\n"],sourceRoot:""}]);const p=u},476:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,a,i){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(o[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);r&&o[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),a&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=a):u[4]="".concat(a)),t.push(u))}},t}},678:e=>{"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},559:e=>{"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),i="/*# ".concat(a," */"),o=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")}));return[t].concat(o).concat([i]).join("\n")}return[t].join("\n")}},898:(e,t)=>{t.read=function(e,t,n,r,a){var i,o,s=8*a-r-1,l=(1<<s)-1,c=l>>1,u=-7,f=n?a-1:0,p=n?-1:1,h=e[t+f];for(f+=p,i=h&(1<<-u)-1,h>>=-u,u+=s;u>0;i=256*i+e[t+f],f+=p,u-=8);for(o=i&(1<<-u)-1,i>>=-u,u+=r;u>0;o=256*o+e[t+f],f+=p,u-=8);if(0===i)i=1-c;else{if(i===l)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,r),i-=c}return(h?-1:1)*o*Math.pow(2,i-r)},t.write=function(e,t,n,r,a,i){var o,s,l,c=8*i-a-1,u=(1<<c)-1,f=u>>1,p=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,g=r?1:-1,d=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+f>=1?p/l:p*Math.pow(2,1-f))*l>=2&&(o++,l/=2),o+f>=u?(s=0,o=u):o+f>=1?(s=(t*l-1)*Math.pow(2,a),o+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,a),o=0));a>=8;e[n+h]=255&s,h+=g,s/=256,a-=8);for(o=o<<a|s,c+=a;c>0;e[n+h]=255&o,h+=g,o/=256,c-=8);e[n+h-g]|=128*d}},525:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,a){for(var i,o,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in i=Object(arguments[l]))n.call(i,c)&&(s[c]=i[c]);if(t){o=t(i);for(var u=0;u<o.length;u++)r.call(i,o[u])&&(s[o[u]]=i[o[u]])}}return s}},772:(e,t,n)=>{"use strict";var r=n(331);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,i,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return n.PropTypes=n,n}},615:(e,t,n)=>{e.exports=n(772)()},331:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},634:(e,t,n)=>{"use strict";var r=n(533);t.s=r.createRoot,r.hydrateRoot},197:(e,t,n)=>{"use strict";!function(){var t={HOLD_THRESHOLD:8,SCROLL_INTERVAL:1e3/60,SCROLL_AREA_MAX:50,SCROLL_SPEED:20},r=null,a=null,i=null;function o(e,n){var r=n.scrollLeft,i=n.scrollWidth,o=Math.min(e.width/3,t.SCROLL_AREA_MAX);return r>0&&a.clientX<=e.left+o?-Math.min(Math.abs(e.left+o-a.clientX),o)/o*t.SCROLL_SPEED:r<i-e.width&&a.clientX>=e.right-o?Math.min(Math.abs(e.right-o-a.clientX),o)/o*t.SCROLL_SPEED:0}function s(e,n){var r=n.scrollTop,i=n.scrollHeight,o=Math.min(e.height/3,t.SCROLL_AREA_MAX);return r>0&&a.clientY<=e.top+o?-Math.min(Math.abs(e.top+o-a.clientY),o)/o*t.SCROLL_SPEED:r<i-e.height&&a.clientY>=e.bottom-o?Math.min(Math.abs(e.bottom-o-a.clientY),o)/o*t.SCROLL_SPEED:0}function l(e){for(var t=e.parentNode;t&&t!==document;){var n=o(t.getBoundingClientRect(),t);if(n){if(n)return void(t.scrollLeft=t.scrollLeft+n)}else l(t);t=t.parentNode}}var c=new function(){var e=null,n=null,r=null,a=null,i=null,c=null,u=null,f=-1,p=-1,h={},g={};function d(){if(c&&c.props.autoScroll&&c.rootNode){var e=c.rootNode.getBoundingClientRect();if("horizontal"!==c.props.lock){var t=o(e,c.rootNode);c.props.autoScrollParents&&!t?l(c.rootNode):t&&(c.rootNode.scrollLeft=c.rootNode.scrollLeft+t)}if("vertical"!==c.props.lock){var n=s(e,c.rootNode);c.props.autoScrollParents&&!n?function(e){for(var t=e.parentNode;t&&t!==document;){var n=s(t.getBoundingClientRect(),t);if(n){if(n)return void(t.scrollTop=t.scrollTop+n)}else l(t);t=t.parentNode}}(c.rootNode):n&&(c.rootNode.scrollTop=c.rootNode.scrollTop+n)}}}function m(){return{draggedId:n,placedId:r,activeGroup:e,draggedStyle:u,draggedIndex:f,placedIndex:p,draggedElement:a}}function y(e){var t=m();if(e)for(var r=0;r<e.length;r+=1)t[e[r]]=null;h[n].setDragState(t)}function v(t){var n=m();if(t)for(var r=0;r<t.length;r+=1)n[t[r]]=null;for(var a in g[e])g[e][a].setDragState(n)}function b(e,t){if("string"!=typeof e)throw new Error("Expected reorderId to be a string. Instead got "+typeof e);if(void 0!==t&&"string"!=typeof t)throw new Error("Expected reorderGroup to be a string. Instead got "+typeof t)}this.getState=m,this.registerReorderComponent=function(e){var t=e.props.reorderId,n=e.props.reorderGroup;if(b(t,n),void 0!==n){if(n in g&&t in g[n])throw new Error("Duplicate reorderId: "+t+" in reorderGroup: "+n);g[n]=g[n]||{},g[n][t]=e}else{if(t in h)throw new Error("Duplicate reorderId: "+t);h[t]=e}},this.unregisterReorderComponent=function(e){var t=e.props.reorderId,n=e.props.reorderGroup;if(b(t,n),void 0!==n){if(!(n in g))throw new Error("Unknown reorderGroup: "+n);if(n in g&&!(t in g[n]))throw new Error("Unknown reorderId: "+t+" in reorderGroup: "+n);delete g[n][t]}else{if(!(t in h))throw new Error("Unknown reorderId: "+t);delete h[t]}},this.startDrag=function(o,s,l,h,g){c=g,clearInterval(i),i=setInterval(d,t.SCROLL_INTERVAL),b(o,s),f=l,p=l,u=null,a=h,n=o,r=o,e=null,void 0!==s?(e=s,v()):null!==n&&o===n&&y()},this.stopDrag=function(t,o){c=null,clearInterval(i),b(t,o),null!==e?o===e&&(f=-1,p=-1,u=null,a=null,v(["activeGroup"]),n=null,r=null,e=null):null!==n&&t===n&&(f=-1,p=-1,u=null,a=null,y(["activeGroup"]),n=null,r=null,e=null)},this.setPlacedIndex=function(t,a,i,o){c=o,b(t,a),void 0!==a?a===e&&(r=t,p=i,v()):null!==n&&t===n&&(p=i,y())},this.setDraggedStyle=function(t,r,a){b(t,r),void 0!==r?r===e&&(u=a,v()):null!==n&&t===n&&(u=a,y())}};var u,f=n(363),p=n(533),h=n(633),g=n(615);e.exports=(u=function(e,n,o,s){var l=o({displayName:"Reorder",getInitialState:function(){return c.getState()},isDragging:function(){return this.state.draggedIndex>=0},isPlacing:function(){return this.state.placedIndex>=0},isDraggingFrom:function(){return this.props.reorderId===this.state.draggedId},isPlacingTo:function(){return this.props.reorderId===this.state.placedId},isInvolvedInDragging:function(){return this.props.reorderId===this.state.draggedId||this.props.reorderGroup===this.state.activeGroup},preventContextMenu:function(e){r&&this.props.disableContextMenus&&e.preventDefault()},preventNativeScrolling:function(e){e.preventDefault()},persistEvent:function(e){"function"==typeof e.persist&&e.persist()},copyTouchKeys:function(e){e.touches&&e.touches[0]&&(this.persistEvent(e),e.clientX=e.touches[0].clientX,e.clientY=e.touches[0].clientY)},xCollision:function(e,t){return e.clientX>=t.left&&e.clientX<=t.right},yCollision:function(e,t){return e.clientY>=t.top&&e.clientY<=t.bottom},findCollisionIndex:function(e,t){for(var n=0;n<t.length;n+=1)if(!t[n].getAttribute("data-placeholder")&&!t[n].getAttribute("data-dragged")){var r=t[n].getBoundingClientRect();switch(this.props.lock){case"horizontal":if(this.yCollision(e,r))return n;break;case"vertical":if(this.xCollision(e,r))return n;break;default:if(this.yCollision(e,r)&&this.xCollision(e,r))return n}}return-1},collidesWithElement:function(e,t){var n=t.getBoundingClientRect();return this.yCollision(e,n)&&this.xCollision(e,n)},getHoldTime:function(e){return e.touches&&void 0!==this.props.touchHoldTime?parseInt(this.props.touchHoldTime,10)||0:void 0!==this.props.mouseHoldTime?parseInt(this.props.mouseHoldTime,10)||0:parseInt(this.props.holdTime,10)||0},startDrag:function(e,t,n){if(!this.moved){var r=t.getBoundingClientRect(),o={position:"fixed",top:r.top,left:r.left,width:r.width,height:r.height};c.startDrag(this.props.reorderId,this.props.reorderGroup,n,this.props.children[n],this),c.setDraggedStyle(this.props.reorderId,this.props.reorderGroup,o),a={clientX:e.clientX,clientY:e.clientY},i={clientX:e.clientX,clientY:e.clientY}}},onItemDown:function(e,t,n){if("function"==typeof e&&e(n),2!==n.button&&!this.props.disabled){this.copyTouchKeys(n),this.moved=!1,r={clientX:n.clientX,clientY:n.clientY};var a=this.getHoldTime(n),i=n.currentTarget;a?(this.persistEvent(n),this.holdTimeout=setTimeout(this.startDrag.bind(this,n,i,t),a)):this.startDrag(n,i,t)}},onWindowUp:function(e){if(clearTimeout(this.holdTimeout),this.isDragging()&&this.isDraggingFrom()){var t=this.state.draggedIndex,n=this.state.placedIndex;c.stopDrag(this.props.reorderId,this.props.reorderGroup),t>=0&&(t!==n||this.state.draggedId!==this.state.placedId)&&"function"==typeof this.props.onReorder&&this.props.onReorder(e,t,n-(this.state.draggedId===this.state.placedId&&t<n?1:0),this.state.draggedId,this.state.placedId)}r=null,a=null,i=null},onWindowMove:function(e){if(this.copyTouchKeys(e),r&&(Math.abs(e.clientX-r.clientX)>=t.HOLD_THRESHOLD||Math.abs(e.clientY-r.clientY)>=t.HOLD_THRESHOLD)&&(this.moved=!0),this.isDragging()&&this.isInvolvedInDragging()){this.preventNativeScrolling(e);var n=this.rootNode;if(this.collidesWithElement(e,n)){var o=n.childNodes,s=this.findCollisionIndex(e,o);s<=this.props.children.length&&s>=0?c.setPlacedIndex(this.props.reorderId,this.props.reorderGroup,s,this):void 0===this.props.reorderGroup||this.props.children&&this.props.children.length&&(!this.isDraggingFrom()||1!==this.props.children.length)||c.setPlacedIndex(this.props.reorderId,this.props.reorderGroup,0,this)}this.state.draggedStyle.transform=(u=(l=this.props).lock&&"horizontal"!==l.lock?0:a.clientY-i.clientY,"translate("+(l.lock&&"vertical"!==l.lock?0:a.clientX-i.clientX)+"px,"+u+"px)"),c.setDraggedStyle(this.props.reorderId,this.props.reorderGroup,this.state.draggedStyle),a={clientX:e.clientX,clientY:e.clientY}}var l,u},setDragState:function(e){var t=this.props.reorderGroup,n=e.activeGroup,r=this.state.activeGroup,a=!n&&r,i=t&&n&&e.activeGroup===this.props.reorderGroup,o=this.props.reorderId===e.draggedId,s=this.props.reorderId===e.placedId,l=this.props.reorderId===this.state.placedId;(!n&&!t&&(o||s)||t&&(!r||a)||a||i&&(o||s||l))&&this.setState(e)},componentDidMount:function(){c.registerReorderComponent(this),window.addEventListener("mouseup",this.onWindowUp,{passive:!1}),window.addEventListener("touchend",this.onWindowUp,{passive:!1}),window.addEventListener("mousemove",this.onWindowMove,{passive:!1}),window.addEventListener("touchmove",this.onWindowMove,{passive:!1}),window.addEventListener("contextmenu",this.preventContextMenu,{passive:!1}),this.storeRootNode()},componentWillUnmount:function(){c.unregisterReorderComponent(this),clearTimeout(this.holdTimeout),window.removeEventListener("mouseup",this.onWindowUp),window.removeEventListener("touchend",this.onWindowUp),window.removeEventListener("mousemove",this.onWindowMove),window.removeEventListener("touchmove",this.onWindowMove),window.removeEventListener("contextmenu",this.preventContextMenu)},storeRootNode:function(){var e=n.findDOMNode(this);this.rootNode=e,"function"==typeof this.props.getRef&&this.props.getRef(e)},render:function(){var t=this.props.children&&this.props.children.map(function(t,n){var r=this.isDragging()&&this.isDraggingFrom()&&n===this.state.draggedIndex,a=r?function(){var e=Array.prototype.slice.call(arguments);if(e.length){if(1===e.length)return e[0];for(var t=e.shift();e.length;){var n=e.shift();for(var r in n)t[r]=n[r]}return t}}({},t.props.style,this.state.draggedStyle):t.props.style,i=[t.props.className||"",r?this.props.draggedClassName:""].join(" ");return e.cloneElement(r?this.state.draggedElement:t,{style:a,className:i,onMouseDown:this.onItemDown.bind(this,t.props.onMouseDown,n),onTouchStart:this.onItemDown.bind(this,t.props.onTouchStart,n),"data-dragged":!!r||null})}.bind(this)),n=this.props.placeholder||this.state.draggedElement;if(this.isPlacing()&&this.isPlacingTo()&&n){var r=e.cloneElement(n,{key:"react-reorder-placeholder",className:[n.props.className||"",this.props.placeholderClassName].join(" "),"data-placeholder":!0});t.splice(this.state.placedIndex,0,r)}return e.createElement(this.props.component,{className:this.props.className,id:this.props.id,style:this.props.style,onClick:this.props.onClick},t)}});return l.propTypes={component:s.oneOfType([s.func,s.string]),getRef:s.func,reorderId:s.string,reorderGroup:s.string,placeholderClassName:s.string,draggedClassName:s.string,lock:s.string,holdTime:s.number,touchHoldTime:s.number,mouseHoldTime:s.number,onReorder:s.func,placeholder:s.element,autoScroll:s.bool,autoScrollParents:s.bool,disabled:s.bool,disableContextMenus:s.bool},l.defaultProps={component:"div",placeholderClassName:"placeholder",draggedClassName:"dragged",holdTime:0,autoScroll:!0,autoScrollParents:!0,disabled:!1,disableContextMenus:!0},l}(f,p,h,g),u.reorder=function(e,t,n){var r=[].concat(e),a=r.splice(t,1)[0];return r.splice(n,0,a),r},u.reorderImmutable=function(e,t,n){var r=e.get(t);return e.delete(t).splice(n,0,r)},u.reorderFromTo=function(e,t,n){var r=[].concat(e.from),a=[].concat(e.to),i=r.splice(t,1)[0];return a.splice(n,0,i),{from:r,to:a}},u.reorderFromToImmutable=function(e,t,n){var r=e.from.get(t);return{from:e.from.delete(t),to:e.to.splice(n,0,r)}},u)}()},927:(e,t,n)=>{var r;!function e(t,n,r){function a(o,s){if(!n[o]){if(!t[o]){var l="function"==typeof call_me_man&&call_me_man;if(!s&&l)return l(o,!0);if(i)return i(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[o]={exports:{}};t[o][0].call(u.exports,(function(e){return a(t[o][1][e]||e)}),u,u.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof call_me_man&&call_me_man,o=0;o<r.length;o++)a(r[o]);return a}({1:[function(e,t,r){(function(n){"use strict";var r=e("object-assign");function a(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,a=0,i=Math.min(n,r);a<i;++a)if(e[a]!==t[a]){n=e[a],r=t[a];break}return n<r?-1:r<n?1:0}function i(e){return n.Buffer&&"function"==typeof n.Buffer.isBuffer?n.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var o=e("util/"),s=Object.prototype.hasOwnProperty,l=Array.prototype.slice,c="foo"===function(){}.name;function u(e){return Object.prototype.toString.call(e)}function f(e){return!i(e)&&"function"==typeof n.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer)))}var p=t.exports=v,h=/\s*function\s+([^\(\s]*)\s*/;function g(e){if(o.isFunction(e)){if(c)return e.name;var t=e.toString().match(h);return t&&t[1]}}function d(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function m(e){if(c||!o.isFunction(e))return o.inspect(e);var t=g(e);return"[Function"+(t?": "+t:"")+"]"}function y(e,t,n,r,a){throw new p.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:a})}function v(e,t){e||y(e,!0,t,"==",p.ok)}function b(e,t,n,r){if(e===t)return!0;if(i(e)&&i(t))return 0===a(e,t);if(o.isDate(e)&&o.isDate(t))return e.getTime()===t.getTime();if(o.isRegExp(e)&&o.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(f(e)&&f(t)&&u(e)===u(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===a(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(i(e)!==i(t))return!1;var s=(r=r||{actual:[],expected:[]}).actual.indexOf(e);return-1!==s&&s===r.expected.indexOf(t)||(r.actual.push(e),r.expected.push(t),function(e,t,n,r){if(null==e||null==t)return!1;if(o.isPrimitive(e)||o.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var a=A(e),i=A(t);if(a&&!i||!a&&i)return!1;if(a)return b(e=l.call(e),t=l.call(t),n);var s,c,u=x(e),f=x(t);if(u.length!==f.length)return!1;for(u.sort(),f.sort(),c=u.length-1;c>=0;c--)if(u[c]!==f[c])return!1;for(c=u.length-1;c>=0;c--)if(!b(e[s=u[c]],t[s],n,r))return!1;return!0}(e,t,n,r))}return n?e===t:e==t}function A(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function w(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function C(e,t,n,r){var a;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),a=function(e){var t;try{e()}catch(e){t=e}return t}(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!a&&y(a,n,"Missing expected exception"+r);var i="string"==typeof r,s=!e&&a&&!n;if((!e&&o.isError(a)&&i&&w(a,n)||s)&&y(a,n,"Got unwanted exception"+r),e&&a&&n&&!w(a,n)||!e&&a)throw a}p.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return d(m(e.actual),128)+" "+e.operator+" "+d(m(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||y;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,a=g(t),i=r.indexOf("\n"+a);if(i>=0){var o=r.indexOf("\n",i+1);r=r.substring(o+1)}this.stack=r}}},o.inherits(p.AssertionError,Error),p.fail=y,p.ok=v,p.equal=function(e,t,n){e!=t&&y(e,t,n,"==",p.equal)},p.notEqual=function(e,t,n){e==t&&y(e,t,n,"!=",p.notEqual)},p.deepEqual=function(e,t,n){b(e,t,!1)||y(e,t,n,"deepEqual",p.deepEqual)},p.deepStrictEqual=function(e,t,n){b(e,t,!0)||y(e,t,n,"deepStrictEqual",p.deepStrictEqual)},p.notDeepEqual=function(e,t,n){b(e,t,!1)&&y(e,t,n,"notDeepEqual",p.notDeepEqual)},p.notDeepStrictEqual=function e(t,n,r){b(t,n,!0)&&y(t,n,r,"notDeepStrictEqual",e)},p.strictEqual=function(e,t,n){e!==t&&y(e,t,n,"===",p.strictEqual)},p.notStrictEqual=function(e,t,n){e===t&&y(e,t,n,"!==",p.notStrictEqual)},p.throws=function(e,t,n){C(!0,e,t,n)},p.doesNotThrow=function(e,t,n){C(!1,e,t,n)},p.ifError=function(e){if(e)throw e},p.strict=r((function e(t,n){t||y(t,!0,n,"==",e)}),p,{equal:p.strictEqual,deepEqual:p.deepStrictEqual,notEqual:p.notStrictEqual,notDeepEqual:p.notDeepStrictEqual}),p.strict.strict=p.strict;var x=Object.keys||function(e){var t=[];for(var n in e)s.call(e,n)&&t.push(n);return t}}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"object-assign":16,"util/":4}],2:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],3:[function(e,t,n){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],4:[function(e,t,r){(function(t,n){var a=/%[sdj%]/g;r.format=function(e){if(!y(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,i=r.length,o=String(e).replace(a,(function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),l=r[n];n<i;l=r[++n])d(l)||!A(l)?o+=" "+l:o+=" "+s(l);return o},r.deprecate=function(e,a){if(v(n.process))return function(){return r.deprecate(e,a).apply(this,arguments)};if(!0===t.noDeprecation)return e;var i=!1;return function(){if(!i){if(t.throwDeprecation)throw new Error(a);t.traceDeprecation?console.trace(a):console.error(a),i=!0}return e.apply(this,arguments)}};var i,o={};function s(e,t){var n={seen:[],stylize:c};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),g(t)?n.showHidden=t:t&&r._extend(n,t),v(n.showHidden)&&(n.showHidden=!1),v(n.depth)&&(n.depth=2),v(n.colors)&&(n.colors=!1),v(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=l),u(n,e,n.depth)}function l(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function c(e,t){return e}function u(e,t,n){if(e.customInspect&&t&&x(t.inspect)&&t.inspect!==r.inspect&&(!t.constructor||t.constructor.prototype!==t)){var a=t.inspect(n,e);return y(a)||(a=u(e,a,n)),a}var i=function(e,t){if(v(t))return e.stylize("undefined","undefined");if(y(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return m(t)?e.stylize(""+t,"number"):g(t)?e.stylize(""+t,"boolean"):d(t)?e.stylize("null","null"):void 0}(e,t);if(i)return i;var o=Object.keys(t),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(t)),C(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return f(t);if(0===o.length){if(x(t)){var l=t.name?": "+t.name:"";return e.stylize("[Function"+l+"]","special")}if(b(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(w(t))return e.stylize(Date.prototype.toString.call(t),"date");if(C(t))return f(t)}var c,A="",E=!1,k=["{","}"];return h(t)&&(E=!0,k=["[","]"]),x(t)&&(A=" [Function"+(t.name?": "+t.name:"")+"]"),b(t)&&(A=" "+RegExp.prototype.toString.call(t)),w(t)&&(A=" "+Date.prototype.toUTCString.call(t)),C(t)&&(A=" "+f(t)),0!==o.length||E&&0!=t.length?n<0?b(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),c=E?function(e,t,n,r,a){for(var i=[],o=0,s=t.length;o<s;++o)S(t,String(o))?i.push(p(e,t,n,r,String(o),!0)):i.push("");return a.forEach((function(a){a.match(/^\d+$/)||i.push(p(e,t,n,r,a,!0))})),i}(e,t,n,s,o):o.map((function(r){return p(e,t,n,s,r,E)})),e.seen.pop(),function(e,t,n){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(c,A,k)):k[0]+A+k[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,n,r,a,i){var o,s,l;if((l=Object.getOwnPropertyDescriptor(t,a)||{value:t[a]}).get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),S(r,a)||(o="["+a+"]"),s||(e.seen.indexOf(l.value)<0?(s=d(n)?u(e,l.value,null):u(e,l.value,n-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),v(o)){if(i&&a.match(/^\d+$/))return s;(o=JSON.stringify(""+a)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}function h(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function d(e){return null===e}function m(e){return"number"==typeof e}function y(e){return"string"==typeof e}function v(e){return void 0===e}function b(e){return A(e)&&"[object RegExp]"===E(e)}function A(e){return"object"==typeof e&&null!==e}function w(e){return A(e)&&"[object Date]"===E(e)}function C(e){return A(e)&&("[object Error]"===E(e)||e instanceof Error)}function x(e){return"function"==typeof e}function E(e){return Object.prototype.toString.call(e)}function k(e){return e<10?"0"+e.toString(10):e.toString(10)}r.debuglog=function(e){if(v(i)&&(i=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!o[e])if(new RegExp("\\b"+e+"\\b","i").test(i)){var n=t.pid;o[e]=function(){var t=r.format.apply(r,arguments);console.error("%s %d: %s",e,n,t)}}else o[e]=function(){};return o[e]},r.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},r.isArray=h,r.isBoolean=g,r.isNull=d,r.isNullOrUndefined=function(e){return null==e},r.isNumber=m,r.isString=y,r.isSymbol=function(e){return"symbol"==typeof e},r.isUndefined=v,r.isRegExp=b,r.isObject=A,r.isDate=w,r.isError=C,r.isFunction=x,r.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},r.isBuffer=e("./support/isBuffer");var _=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function S(e,t){return Object.prototype.hasOwnProperty.call(e,t)}r.log=function(){var e,t;console.log("%s - %s",(t=[k((e=new Date).getHours()),k(e.getMinutes()),k(e.getSeconds())].join(":"),[e.getDate(),_[e.getMonth()],t].join(" ")),r.format.apply(r,arguments))},r.inherits=e("inherits"),r._extend=function(e,t){if(!t||!A(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,e("_process"),void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":3,_process:29,inherits:2}],5:[function(e,t,n){"use strict";n.byteLength=function(e){var t=l(e),n=t[0],r=t[1];return 3*(n+r)/4-r},n.toByteArray=function(e){var t,n,r=l(e),o=r[0],s=r[1],c=new i(function(e,t,n){return 3*(t+n)/4-n}(0,o,s)),u=0,f=s>0?o-4:o;for(n=0;n<f;n+=4)t=a[e.charCodeAt(n)]<<18|a[e.charCodeAt(n+1)]<<12|a[e.charCodeAt(n+2)]<<6|a[e.charCodeAt(n+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;return 2===s&&(t=a[e.charCodeAt(n)]<<2|a[e.charCodeAt(n+1)]>>4,c[u++]=255&t),1===s&&(t=a[e.charCodeAt(n)]<<10|a[e.charCodeAt(n+1)]<<4|a[e.charCodeAt(n+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t),c},n.fromByteArray=function(e){for(var t,n=e.length,a=n%3,i=[],o=16383,s=0,l=n-a;s<l;s+=o)i.push(c(e,s,s+o>l?l:s+o));return 1===a?(t=e[n-1],i.push(r[t>>2]+r[t<<4&63]+"==")):2===a&&(t=(e[n-2]<<8)+e[n-1],i.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),i.join("")};for(var r=[],a=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)r[s]=o[s],a[o.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,n){for(var a,i,o=[],s=t;s<n;s+=3)a=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(r[(i=a)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return o.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},{}],6:[function(e,t,n){},{}],7:[function(e,t,n){(function(t,r){"use strict";var a=e("assert"),i=e("pako/lib/zlib/zstream"),o=e("pako/lib/zlib/deflate.js"),s=e("pako/lib/zlib/inflate.js"),l=e("pako/lib/zlib/constants");for(var c in l)n[c]=l[c];function u(e){if("number"!=typeof e||e<n.DEFLATE||e>n.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=e,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}n.NONE=0,n.DEFLATE=1,n.INFLATE=2,n.GZIP=3,n.GUNZIP=4,n.DEFLATERAW=5,n.INFLATERAW=6,n.UNZIP=7,u.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,a(this.init_done,"close before init"),a(this.mode<=n.UNZIP),this.mode===n.DEFLATE||this.mode===n.GZIP||this.mode===n.DEFLATERAW?o.deflateEnd(this.strm):this.mode!==n.INFLATE&&this.mode!==n.GUNZIP&&this.mode!==n.INFLATERAW&&this.mode!==n.UNZIP||s.inflateEnd(this.strm),this.mode=n.NONE,this.dictionary=null)},u.prototype.write=function(e,t,n,r,a,i,o){return this._write(!0,e,t,n,r,a,i,o)},u.prototype.writeSync=function(e,t,n,r,a,i,o){return this._write(!1,e,t,n,r,a,i,o)},u.prototype._write=function(e,i,o,s,l,c,u,f){if(a.equal(arguments.length,8),a(this.init_done,"write before init"),a(this.mode!==n.NONE,"already finalized"),a.equal(!1,this.write_in_progress,"write already in progress"),a.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,a.equal(!1,void 0===i,"must provide flush value"),this.write_in_progress=!0,i!==n.Z_NO_FLUSH&&i!==n.Z_PARTIAL_FLUSH&&i!==n.Z_SYNC_FLUSH&&i!==n.Z_FULL_FLUSH&&i!==n.Z_FINISH&&i!==n.Z_BLOCK)throw new Error("Invalid flush value");if(null==o&&(o=r.alloc(0),l=0,s=0),this.strm.avail_in=l,this.strm.input=o,this.strm.next_in=s,this.strm.avail_out=f,this.strm.output=c,this.strm.next_out=u,this.flush=i,!e)return this._process(),this._checkError()?this._afterSync():void 0;var p=this;return t.nextTick((function(){p._process(),p._after()})),this},u.prototype._afterSync=function(){var e=this.strm.avail_out,t=this.strm.avail_in;return this.write_in_progress=!1,[t,e]},u.prototype._process=function(){var e=null;switch(this.mode){case n.DEFLATE:case n.GZIP:case n.DEFLATERAW:this.err=o.deflate(this.strm,this.flush);break;case n.UNZIP:switch(this.strm.avail_in>0&&(e=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===e)break;if(31!==this.strm.input[e]){this.mode=n.INFLATE;break}if(this.gzip_id_bytes_read=1,e++,1===this.strm.avail_in)break;case 1:if(null===e)break;139===this.strm.input[e]?(this.gzip_id_bytes_read=2,this.mode=n.GUNZIP):this.mode=n.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case n.INFLATE:case n.GUNZIP:case n.INFLATERAW:for(this.err=s.inflate(this.strm,this.flush),this.err===n.Z_NEED_DICT&&this.dictionary&&(this.err=s.inflateSetDictionary(this.strm,this.dictionary),this.err===n.Z_OK?this.err=s.inflate(this.strm,this.flush):this.err===n.Z_DATA_ERROR&&(this.err=n.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===n.GUNZIP&&this.err===n.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=s.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},u.prototype._checkError=function(){switch(this.err){case n.Z_OK:case n.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===n.Z_FINISH)return this._error("unexpected end of file"),!1;break;case n.Z_STREAM_END:break;case n.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},u.prototype._after=function(){if(this._checkError()){var e=this.strm.avail_out,t=this.strm.avail_in;this.write_in_progress=!1,this.callback(t,e),this.pending_close&&this.close()}},u.prototype._error=function(e){this.strm.msg&&(e=this.strm.msg),this.onerror(e,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},u.prototype.init=function(e,t,r,i,o){a(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),a(e>=8&&e<=15,"invalid windowBits"),a(t>=-1&&t<=9,"invalid compression level"),a(r>=1&&r<=9,"invalid memlevel"),a(i===n.Z_FILTERED||i===n.Z_HUFFMAN_ONLY||i===n.Z_RLE||i===n.Z_FIXED||i===n.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(t,e,r,i,o),this._setDictionary()},u.prototype.params=function(){throw new Error("deflateParams Not supported")},u.prototype.reset=function(){this._reset(),this._setDictionary()},u.prototype._init=function(e,t,r,a,l){switch(this.level=e,this.windowBits=t,this.memLevel=r,this.strategy=a,this.flush=n.Z_NO_FLUSH,this.err=n.Z_OK,this.mode!==n.GZIP&&this.mode!==n.GUNZIP||(this.windowBits+=16),this.mode===n.UNZIP&&(this.windowBits+=32),this.mode!==n.DEFLATERAW&&this.mode!==n.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new i,this.mode){case n.DEFLATE:case n.GZIP:case n.DEFLATERAW:this.err=o.deflateInit2(this.strm,this.level,n.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case n.INFLATE:case n.GUNZIP:case n.INFLATERAW:case n.UNZIP:this.err=s.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==n.Z_OK&&this._error("Init error"),this.dictionary=l,this.write_in_progress=!1,this.init_done=!0},u.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=n.Z_OK,this.mode){case n.DEFLATE:case n.DEFLATERAW:this.err=o.deflateSetDictionary(this.strm,this.dictionary)}this.err!==n.Z_OK&&this._error("Failed to set dictionary")}},u.prototype._reset=function(){switch(this.err=n.Z_OK,this.mode){case n.DEFLATE:case n.DEFLATERAW:case n.GZIP:this.err=o.deflateReset(this.strm);break;case n.INFLATE:case n.INFLATERAW:case n.GUNZIP:this.err=s.inflateReset(this.strm)}this.err!==n.Z_OK&&this._error("Failed to reset stream")},n.Zlib=u}).call(this,e("_process"),e("buffer").Buffer)},{_process:29,assert:1,buffer:9,"pako/lib/zlib/constants":19,"pako/lib/zlib/deflate.js":21,"pako/lib/zlib/inflate.js":23,"pako/lib/zlib/zstream":27}],8:[function(e,t,n){(function(t){"use strict";var r=e("buffer").Buffer,a=e("stream").Transform,i=e("./binding"),o=e("util"),s=e("assert").ok,l=e("buffer").kMaxLength,c="Cannot create final Buffer. It would be larger than 0x"+l.toString(16)+" bytes";i.Z_MIN_WINDOWBITS=8,i.Z_MAX_WINDOWBITS=15,i.Z_DEFAULT_WINDOWBITS=15,i.Z_MIN_CHUNK=64,i.Z_MAX_CHUNK=1/0,i.Z_DEFAULT_CHUNK=16384,i.Z_MIN_MEMLEVEL=1,i.Z_MAX_MEMLEVEL=9,i.Z_DEFAULT_MEMLEVEL=8,i.Z_MIN_LEVEL=-1,i.Z_MAX_LEVEL=9,i.Z_DEFAULT_LEVEL=i.Z_DEFAULT_COMPRESSION;for(var u=Object.keys(i),f=0;f<u.length;f++){var p=u[f];p.match(/^Z/)&&Object.defineProperty(n,p,{enumerable:!0,value:i[p],writable:!1})}for(var h={Z_OK:i.Z_OK,Z_STREAM_END:i.Z_STREAM_END,Z_NEED_DICT:i.Z_NEED_DICT,Z_ERRNO:i.Z_ERRNO,Z_STREAM_ERROR:i.Z_STREAM_ERROR,Z_DATA_ERROR:i.Z_DATA_ERROR,Z_MEM_ERROR:i.Z_MEM_ERROR,Z_BUF_ERROR:i.Z_BUF_ERROR,Z_VERSION_ERROR:i.Z_VERSION_ERROR},g=Object.keys(h),d=0;d<g.length;d++){var m=g[d];h[h[m]]=m}function y(e,t,n){var a=[],i=0;function o(){for(var t;null!==(t=e.read());)a.push(t),i+=t.length;e.once("readable",o)}function s(){var t,o=null;i>=l?o=new RangeError(c):t=r.concat(a,i),a=[],e.close(),n(o,t)}e.on("error",(function(t){e.removeListener("end",s),e.removeListener("readable",o),n(t)})),e.on("end",s),e.end(t),o()}function v(e,t){if("string"==typeof t&&(t=r.from(t)),!r.isBuffer(t))throw new TypeError("Not a string or buffer");var n=e._finishFlushFlag;return e._processChunk(t,n)}function b(e){if(!(this instanceof b))return new b(e);S.call(this,e,i.DEFLATE)}function A(e){if(!(this instanceof A))return new A(e);S.call(this,e,i.INFLATE)}function w(e){if(!(this instanceof w))return new w(e);S.call(this,e,i.GZIP)}function C(e){if(!(this instanceof C))return new C(e);S.call(this,e,i.GUNZIP)}function x(e){if(!(this instanceof x))return new x(e);S.call(this,e,i.DEFLATERAW)}function E(e){if(!(this instanceof E))return new E(e);S.call(this,e,i.INFLATERAW)}function k(e){if(!(this instanceof k))return new k(e);S.call(this,e,i.UNZIP)}function _(e){return e===i.Z_NO_FLUSH||e===i.Z_PARTIAL_FLUSH||e===i.Z_SYNC_FLUSH||e===i.Z_FULL_FLUSH||e===i.Z_FINISH||e===i.Z_BLOCK}function S(e,t){var o=this;if(this._opts=e=e||{},this._chunkSize=e.chunkSize||n.Z_DEFAULT_CHUNK,a.call(this,e),e.flush&&!_(e.flush))throw new Error("Invalid flush flag: "+e.flush);if(e.finishFlush&&!_(e.finishFlush))throw new Error("Invalid flush flag: "+e.finishFlush);if(this._flushFlag=e.flush||i.Z_NO_FLUSH,this._finishFlushFlag=void 0!==e.finishFlush?e.finishFlush:i.Z_FINISH,e.chunkSize&&(e.chunkSize<n.Z_MIN_CHUNK||e.chunkSize>n.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<n.Z_MIN_WINDOWBITS||e.windowBits>n.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<n.Z_MIN_LEVEL||e.level>n.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<n.Z_MIN_MEMLEVEL||e.memLevel>n.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=n.Z_FILTERED&&e.strategy!=n.Z_HUFFMAN_ONLY&&e.strategy!=n.Z_RLE&&e.strategy!=n.Z_FIXED&&e.strategy!=n.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!r.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new i.Zlib(t);var s=this;this._hadError=!1,this._handle.onerror=function(e,t){T(s),s._hadError=!0;var r=new Error(e);r.errno=t,r.code=n.codes[t],s.emit("error",r)};var l=n.Z_DEFAULT_COMPRESSION;"number"==typeof e.level&&(l=e.level);var c=n.Z_DEFAULT_STRATEGY;"number"==typeof e.strategy&&(c=e.strategy),this._handle.init(e.windowBits||n.Z_DEFAULT_WINDOWBITS,l,e.memLevel||n.Z_DEFAULT_MEMLEVEL,c,e.dictionary),this._buffer=r.allocUnsafe(this._chunkSize),this._offset=0,this._level=l,this._strategy=c,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!o._handle},configurable:!0,enumerable:!0})}function T(e,n){n&&t.nextTick(n),e._handle&&(e._handle.close(),e._handle=null)}function P(e){e.emit("close")}Object.defineProperty(n,"codes",{enumerable:!0,value:Object.freeze(h),writable:!1}),n.Deflate=b,n.Inflate=A,n.Gzip=w,n.Gunzip=C,n.DeflateRaw=x,n.InflateRaw=E,n.Unzip=k,n.createDeflate=function(e){return new b(e)},n.createInflate=function(e){return new A(e)},n.createDeflateRaw=function(e){return new x(e)},n.createInflateRaw=function(e){return new E(e)},n.createGzip=function(e){return new w(e)},n.createGunzip=function(e){return new C(e)},n.createUnzip=function(e){return new k(e)},n.deflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),y(new b(t),e,n)},n.deflateSync=function(e,t){return v(new b(t),e)},n.gzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),y(new w(t),e,n)},n.gzipSync=function(e,t){return v(new w(t),e)},n.deflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),y(new x(t),e,n)},n.deflateRawSync=function(e,t){return v(new x(t),e)},n.unzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),y(new k(t),e,n)},n.unzipSync=function(e,t){return v(new k(t),e)},n.inflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),y(new A(t),e,n)},n.inflateSync=function(e,t){return v(new A(t),e)},n.gunzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),y(new C(t),e,n)},n.gunzipSync=function(e,t){return v(new C(t),e)},n.inflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),y(new E(t),e,n)},n.inflateRawSync=function(e,t){return v(new E(t),e)},o.inherits(S,a),S.prototype.params=function(e,r,a){if(e<n.Z_MIN_LEVEL||e>n.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+e);if(r!=n.Z_FILTERED&&r!=n.Z_HUFFMAN_ONLY&&r!=n.Z_RLE&&r!=n.Z_FIXED&&r!=n.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+r);if(this._level!==e||this._strategy!==r){var o=this;this.flush(i.Z_SYNC_FLUSH,(function(){s(o._handle,"zlib binding closed"),o._handle.params(e,r),o._hadError||(o._level=e,o._strategy=r,a&&a())}))}else t.nextTick(a)},S.prototype.reset=function(){return s(this._handle,"zlib binding closed"),this._handle.reset()},S.prototype._flush=function(e){this._transform(r.alloc(0),"",e)},S.prototype.flush=function(e,n){var a=this,o=this._writableState;("function"==typeof e||void 0===e&&!n)&&(n=e,e=i.Z_FULL_FLUSH),o.ended?n&&t.nextTick(n):o.ending?n&&this.once("end",n):o.needDrain?n&&this.once("drain",(function(){return a.flush(e,n)})):(this._flushFlag=e,this.write(r.alloc(0),"",n))},S.prototype.close=function(e){T(this,e),t.nextTick(P,this)},S.prototype._transform=function(e,t,n){var a,o=this._writableState,s=(o.ending||o.ended)&&(!e||o.length===e.length);return null===e||r.isBuffer(e)?this._handle?(s?a=this._finishFlushFlag:(a=this._flushFlag,e.length>=o.length&&(this._flushFlag=this._opts.flush||i.Z_NO_FLUSH)),void this._processChunk(e,a,n)):n(new Error("zlib binding closed")):n(new Error("invalid input"))},S.prototype._processChunk=function(e,t,n){var a=e&&e.length,i=this._chunkSize-this._offset,o=0,u=this,f="function"==typeof n;if(!f){var p,h=[],g=0;this.on("error",(function(e){p=e})),s(this._handle,"zlib binding closed");do{var d=this._handle.writeSync(t,e,o,a,this._buffer,this._offset,i)}while(!this._hadError&&v(d[0],d[1]));if(this._hadError)throw p;if(g>=l)throw T(this),new RangeError(c);var m=r.concat(h,g);return T(this),m}s(this._handle,"zlib binding closed");var y=this._handle.write(t,e,o,a,this._buffer,this._offset,i);function v(l,c){if(this&&(this.buffer=null,this.callback=null),!u._hadError){var p=i-c;if(s(p>=0,"have should not go down"),p>0){var d=u._buffer.slice(u._offset,u._offset+p);u._offset+=p,f?u.push(d):(h.push(d),g+=d.length)}if((0===c||u._offset>=u._chunkSize)&&(i=u._chunkSize,u._offset=0,u._buffer=r.allocUnsafe(u._chunkSize)),0===c){if(o+=a-l,a=l,!f)return!0;var m=u._handle.write(t,e,o,a,u._buffer,u._offset,u._chunkSize);return m.callback=v,void(m.buffer=e)}if(!f)return!1;n()}}y.buffer=e,y.callback=v},o.inherits(b,S),o.inherits(A,S),o.inherits(w,S),o.inherits(C,S),o.inherits(x,S),o.inherits(E,S),o.inherits(k,S)}).call(this,e("_process"))},{"./binding":7,_process:29,assert:1,buffer:9,stream:45,util:50}],9:[function(e,t,n){(function(t){"use strict";var r=e("base64-js"),a=e("ieee754");n.Buffer=t,n.SlowBuffer=function(e){return+e!=e&&(e=0),t.alloc(+e)},n.INSPECT_MAX_BYTES=50;var i=2147483647;function o(e){if(e>i)throw new RangeError('The value "'+e+'" is invalid for option "size"');var n=new Uint8Array(e);return n.__proto__=t.prototype,n}function t(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return c(e)}return s(e,t,n)}function s(e,n,r){if("string"==typeof e)return function(e,n){if("string"==typeof n&&""!==n||(n="utf8"),!t.isEncoding(n))throw new TypeError("Unknown encoding: "+n);var r=0|p(e,n),a=o(r),i=a.write(e,n);return i!==r&&(a=a.slice(0,i)),a}(e,n);if(ArrayBuffer.isView(e))return u(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(F(e,ArrayBuffer)||e&&F(e.buffer,ArrayBuffer))return function(e,n,r){if(n<0||e.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<n+(r||0))throw new RangeError('"length" is outside of buffer bounds');var a;return(a=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r)).__proto__=t.prototype,a}(e,n,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var a=e.valueOf&&e.valueOf();if(null!=a&&a!==e)return t.from(a,n,r);var i=function(e){if(t.isBuffer(e)){var n=0|f(e.length),r=o(n);return 0===r.length||e.copy(r,0,0,n),r}return void 0!==e.length?"number"!=typeof e.length||U(e.length)?o(0):u(e):"Buffer"===e.type&&Array.isArray(e.data)?u(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return t.from(e[Symbol.toPrimitive]("string"),n,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return l(e),o(e<0?0:0|f(e))}function u(e){for(var t=e.length<0?0:0|f(e.length),n=o(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function f(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function p(e,n){if(t.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||F(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,a=arguments.length>2&&!0===arguments[2];if(!a&&0===r)return 0;for(var i=!1;;)switch(n){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return N(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return D(e).length;default:if(i)return a?-1:N(e).length;n=(""+n).toLowerCase(),i=!0}}function h(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return T(this,t,n);case"utf8":case"utf-8":return E(this,t,n);case"ascii":return _(this,t,n);case"latin1":case"binary":return S(this,t,n);case"base64":return x(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function d(e,n,r,a,i){if(0===e.length)return-1;if("string"==typeof r?(a=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),U(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof n&&(n=t.from(n,a)),t.isBuffer(n))return 0===n.length?-1:m(e,n,r,a,i);if("number"==typeof n)return n&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,n,r):Uint8Array.prototype.lastIndexOf.call(e,n,r):m(e,[n],r,a,i);throw new TypeError("val must be string, number or Buffer")}function m(e,t,n,r,a){var i,o=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,l/=2,n/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(a){var u=-1;for(i=n;i<s;i++)if(c(e,i)===c(t,-1===u?0:i-u)){if(-1===u&&(u=i),i-u+1===l)return u*o}else-1!==u&&(i-=i-u),u=-1}else for(n+l>s&&(n=s-l),i=n;i>=0;i--){for(var f=!0,p=0;p<l;p++)if(c(e,i+p)!==c(t,p)){f=!1;break}if(f)return i}return-1}function y(e,t,n,r){n=Number(n)||0;var a=e.length-n;r?(r=Number(r))>a&&(r=a):r=a;var i=t.length;r>i/2&&(r=i/2);for(var o=0;o<r;++o){var s=parseInt(t.substr(2*o,2),16);if(U(s))return o;e[n+o]=s}return o}function v(e,t,n,r){return B(N(t,e.length-n),e,n,r)}function b(e,t,n,r){return B(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function A(e,t,n,r){return b(e,t,n,r)}function w(e,t,n,r){return B(D(t),e,n,r)}function C(e,t,n,r){return B(function(e,t){for(var n,r,a,i=[],o=0;o<e.length&&!((t-=2)<0);++o)r=(n=e.charCodeAt(o))>>8,a=n%256,i.push(a),i.push(r);return i}(t,e.length-n),e,n,r)}function x(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function E(e,t,n){n=Math.min(e.length,n);for(var r=[],a=t;a<n;){var i,o,s,l,c=e[a],u=null,f=c>239?4:c>223?3:c>191?2:1;if(a+f<=n)switch(f){case 1:c<128&&(u=c);break;case 2:128==(192&(i=e[a+1]))&&(l=(31&c)<<6|63&i)>127&&(u=l);break;case 3:i=e[a+1],o=e[a+2],128==(192&i)&&128==(192&o)&&(l=(15&c)<<12|(63&i)<<6|63&o)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:i=e[a+1],o=e[a+2],s=e[a+3],128==(192&i)&&128==(192&o)&&128==(192&s)&&(l=(15&c)<<18|(63&i)<<12|(63&o)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,f=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),a+=f}return function(e){var t=e.length;if(t<=k)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=k));return n}(r)}n.kMaxLength=i,t.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}(),t.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is call_me_mand by `buffer` v5.x. Use `buffer` v4.x if you call_me_man old browser support."),Object.defineProperty(t.prototype,"parent",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.buffer}}),Object.defineProperty(t.prototype,"offset",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&t[Symbol.species]===t&&Object.defineProperty(t,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),t.poolSize=8192,t.from=function(e,t,n){return s(e,t,n)},t.prototype.__proto__=Uint8Array.prototype,t.__proto__=Uint8Array,t.alloc=function(e,t,n){return function(e,t,n){return l(e),e<=0?o(e):void 0!==t?"string"==typeof n?o(e).fill(t,n):o(e).fill(t):o(e)}(e,t,n)},t.allocUnsafe=function(e){return c(e)},t.allocUnsafeSlow=function(e){return c(e)},t.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==t.prototype},t.compare=function(e,n){if(F(e,Uint8Array)&&(e=t.from(e,e.offset,e.byteLength)),F(n,Uint8Array)&&(n=t.from(n,n.offset,n.byteLength)),!t.isBuffer(e)||!t.isBuffer(n))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===n)return 0;for(var r=e.length,a=n.length,i=0,o=Math.min(r,a);i<o;++i)if(e[i]!==n[i]){r=e[i],a=n[i];break}return r<a?-1:a<r?1:0},t.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(e,n){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return t.alloc(0);var r;if(void 0===n)for(n=0,r=0;r<e.length;++r)n+=e[r].length;var a=t.allocUnsafe(n),i=0;for(r=0;r<e.length;++r){var o=e[r];if(F(o,Uint8Array)&&(o=t.from(o)),!t.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(a,i),i+=o.length}return a},t.byteLength=p,t.prototype._isBuffer=!0,t.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},t.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},t.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},t.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?E(this,0,e):h.apply(this,arguments)},t.prototype.toLocaleString=t.prototype.toString,t.prototype.equals=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===t.compare(this,e)},t.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},t.prototype.compare=function(e,n,r,a,i){if(F(e,Uint8Array)&&(e=t.from(e,e.offset,e.byteLength)),!t.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===n&&(n=0),void 0===r&&(r=e?e.length:0),void 0===a&&(a=0),void 0===i&&(i=this.length),n<0||r>e.length||a<0||i>this.length)throw new RangeError("out of range index");if(a>=i&&n>=r)return 0;if(a>=i)return-1;if(n>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(a>>>=0),s=(r>>>=0)-(n>>>=0),l=Math.min(o,s),c=this.slice(a,i),u=e.slice(n,r),f=0;f<l;++f)if(c[f]!==u[f]){o=c[f],s=u[f];break}return o<s?-1:s<o?1:0},t.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},t.prototype.indexOf=function(e,t,n){return d(this,e,t,n,!0)},t.prototype.lastIndexOf=function(e,t,n){return d(this,e,t,n,!1)},t.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var a=this.length-t;if((void 0===n||n>a)&&(n=a),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return v(this,e,t,n);case"ascii":return b(this,e,t,n);case"latin1":case"binary":return A(this,e,t,n);case"base64":return w(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var k=4096;function _(e,t,n){var r="";n=Math.min(e.length,n);for(var a=t;a<n;++a)r+=String.fromCharCode(127&e[a]);return r}function S(e,t,n){var r="";n=Math.min(e.length,n);for(var a=t;a<n;++a)r+=String.fromCharCode(e[a]);return r}function T(e,t,n){var r,a=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>a)&&(n=a);for(var i="",o=t;o<n;++o)i+=(r=e[o])<16?"0"+r.toString(16):r.toString(16);return i}function P(e,t,n){for(var r=e.slice(t,n),a="",i=0;i<r.length;i+=2)a+=String.fromCharCode(r[i]+256*r[i+1]);return a}function O(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function j(e,n,r,a,i,o){if(!t.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>i||n<o)throw new RangeError('"value" argument is out of bounds');if(r+a>e.length)throw new RangeError("Index out of range")}function M(e,t,n,r,a,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,i){return t=+t,n>>>=0,i||M(e,0,n,4),a.write(e,t,n,r,23,4),n+4}function R(e,t,n,r,i){return t=+t,n>>>=0,i||M(e,0,n,8),a.write(e,t,n,r,52,8),n+8}t.prototype.slice=function(e,n){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(n=void 0===n?r:~~n)<0?(n+=r)<0&&(n=0):n>r&&(n=r),n<e&&(n=e);var a=this.subarray(e,n);return a.__proto__=t.prototype,a},t.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);for(var r=this[e],a=1,i=0;++i<t&&(a*=256);)r+=this[e+i]*a;return r},t.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);for(var r=this[e+--t],a=1;t>0&&(a*=256);)r+=this[e+--t]*a;return r},t.prototype.readUInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),this[e]},t.prototype.readUInt16LE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]|this[e+1]<<8},t.prototype.readUInt16BE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]<<8|this[e+1]},t.prototype.readUInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},t.prototype.readUInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},t.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);for(var r=this[e],a=1,i=0;++i<t&&(a*=256);)r+=this[e+i]*a;return r>=(a*=128)&&(r-=Math.pow(2,8*t)),r},t.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);for(var r=t,a=1,i=this[e+--r];r>0&&(a*=256);)i+=this[e+--r]*a;return i>=(a*=128)&&(i-=Math.pow(2,8*t)),i},t.prototype.readInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},t.prototype.readInt16LE=function(e,t){e>>>=0,t||O(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt16BE=function(e,t){e>>>=0,t||O(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},t.prototype.readInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},t.prototype.readFloatLE=function(e,t){return e>>>=0,t||O(e,4,this.length),a.read(this,e,!0,23,4)},t.prototype.readFloatBE=function(e,t){return e>>>=0,t||O(e,4,this.length),a.read(this,e,!1,23,4)},t.prototype.readDoubleLE=function(e,t){return e>>>=0,t||O(e,8,this.length),a.read(this,e,!0,52,8)},t.prototype.readDoubleBE=function(e,t){return e>>>=0,t||O(e,8,this.length),a.read(this,e,!1,52,8)},t.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||j(this,e,t,n,Math.pow(2,8*n)-1,0);var a=1,i=0;for(this[t]=255&e;++i<n&&(a*=256);)this[t+i]=e/a&255;return t+n},t.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||j(this,e,t,n,Math.pow(2,8*n)-1,0);var a=n-1,i=1;for(this[t+a]=255&e;--a>=0&&(i*=256);)this[t+a]=e/i&255;return t+n},t.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,1,255,0),this[t]=255&e,t+1},t.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},t.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},t.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},t.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},t.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var a=Math.pow(2,8*n-1);j(this,e,t,n,a-1,-a)}var i=0,o=1,s=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},t.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var a=Math.pow(2,8*n-1);j(this,e,t,n,a-1,-a)}var i=n-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},t.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},t.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},t.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},t.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},t.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},t.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},t.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},t.prototype.writeDoubleLE=function(e,t,n){return R(this,e,t,!0,n)},t.prototype.writeDoubleBE=function(e,t,n){return R(this,e,t,!1,n)},t.prototype.copy=function(e,n,r,a){if(!t.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),a||0===a||(a=this.length),n>=e.length&&(n=e.length),n||(n=0),a>0&&a<r&&(a=r),a===r)return 0;if(0===e.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),e.length-n<a-r&&(a=e.length-n+r);var i=a-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(n,r,a);else if(this===e&&r<n&&n<a)for(var o=i-1;o>=0;--o)e[o+n]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,a),n);return i},t.prototype.fill=function(e,n,r,a){if("string"==typeof e){if("string"==typeof n?(a=n,n=0,r=this.length):"string"==typeof r&&(a=r,r=this.length),void 0!==a&&"string"!=typeof a)throw new TypeError("encoding must be a string");if("string"==typeof a&&!t.isEncoding(a))throw new TypeError("Unknown encoding: "+a);if(1===e.length){var i=e.charCodeAt(0);("utf8"===a&&i<128||"latin1"===a)&&(e=i)}}else"number"==typeof e&&(e&=255);if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;var o;if(n>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=n;o<r;++o)this[o]=e;else{var s=t.isBuffer(e)?e:t.from(e,a),l=s.length;if(0===l)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-n;++o)this[o+n]=s[o%l]}return this};var I=/[^+/0-9A-Za-z-_]/g;function N(e,t){var n;t=t||1/0;for(var r=e.length,a=null,i=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!a){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&i.push(239,191,189);continue}a=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),a=n;continue}n=65536+(a-55296<<10|n-56320)}else a&&(t-=3)>-1&&i.push(239,191,189);if(a=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function D(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(I,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function B(e,t,n,r){for(var a=0;a<r&&!(a+n>=t.length||a>=e.length);++a)t[a+n]=e[a];return a}function F(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function U(e){return e!=e}}).call(this,e("buffer").Buffer)},{"base64-js":5,buffer:9,ieee754:12}],10:[function(e,t,n){(function(e){function t(e){return Object.prototype.toString.call(e)}n.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===t(e)},n.isBoolean=function(e){return"boolean"==typeof e},n.isNull=function(e){return null===e},n.isNullOrUndefined=function(e){return null==e},n.isNumber=function(e){return"number"==typeof e},n.isString=function(e){return"string"==typeof e},n.isSymbol=function(e){return"symbol"==typeof e},n.isUndefined=function(e){return void 0===e},n.isRegExp=function(e){return"[object RegExp]"===t(e)},n.isObject=function(e){return"object"==typeof e&&null!==e},n.isDate=function(e){return"[object Date]"===t(e)},n.isError=function(e){return"[object Error]"===t(e)||e instanceof Error},n.isFunction=function(e){return"function"==typeof e},n.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},n.isBuffer=e.isBuffer}).call(this,{isBuffer:e("../../is-buffer/index.js")})},{"../../is-buffer/index.js":14}],11:[function(e,t,n){var r=Object.create||function(e){var t=function(){};return t.prototype=e,new t},a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return n},i=Function.prototype.bind||function(e){var t=this;return function(){return t.apply(e,arguments)}};function o(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=r(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}t.exports=o,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._maxListeners=void 0;var s,l=10;try{var c={};Object.defineProperty&&Object.defineProperty(c,"x",{value:0}),s=0===c.x}catch(e){s=!1}function u(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function f(e,t,n,a){var i,o,s;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((o=e._events)?(o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]):(o=e._events=r(null),e._eventsCount=0),s){if("function"==typeof s?s=o[t]=a?[n,s]:[s,n]:a?s.unshift(n):s.push(n),!s.warned&&(i=u(e))&&i>0&&s.length>i){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+' "'+String(t)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",l.name,l.message)}}else s=o[t]=n,++e._eventsCount;return e}function p(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e)}}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},a=i.call(p,r);return a.listener=n,r.wrapFn=a,a}function g(e,t,n){var r=e._events;if(!r)return[];var a=r[t];return a?"function"==typeof a?n?[a.listener||a]:[a]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(a):m(a,a.length):[]}function d(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function m(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}s?Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||e!=e)throw new TypeError('"defaultMaxListeners" must be a positive number');l=e}}):o.defaultMaxListeners=l,o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(e){var t,n,r,a,i,o,s="error"===e;if(o=this._events)s=s&&null==o.error;else if(!s)return!1;if(s){if(arguments.length>1&&(t=arguments[1]),t instanceof Error)throw t;var l=new Error('Unhandled "error" event. ('+t+")");throw l.context=t,l}if(!(n=o[e]))return!1;var c="function"==typeof n;switch(r=arguments.length){case 1:!function(e,t,n){if(t)e.call(n);else for(var r=e.length,a=m(e,r),i=0;i<r;++i)a[i].call(n)}(n,c,this);break;case 2:!function(e,t,n,r){if(t)e.call(n,r);else for(var a=e.length,i=m(e,a),o=0;o<a;++o)i[o].call(n,r)}(n,c,this,arguments[1]);break;case 3:!function(e,t,n,r,a){if(t)e.call(n,r,a);else for(var i=e.length,o=m(e,i),s=0;s<i;++s)o[s].call(n,r,a)}(n,c,this,arguments[1],arguments[2]);break;case 4:!function(e,t,n,r,a,i){if(t)e.call(n,r,a,i);else for(var o=e.length,s=m(e,o),l=0;l<o;++l)s[l].call(n,r,a,i)}(n,c,this,arguments[1],arguments[2],arguments[3]);break;default:for(a=new Array(r-1),i=1;i<r;i++)a[i-1]=arguments[i];!function(e,t,n,r){if(t)e.apply(n,r);else for(var a=e.length,i=m(e,a),o=0;o<a;++o)i[o].apply(n,r)}(n,c,this,a)}return!0},o.prototype.addListener=function(e,t){return f(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return f(this,e,t,!0)},o.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,h(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,h(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,a,i,o,s;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(a=this._events))return this;if(!(n=a[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=r(null):(delete a[e],a.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(var n=t,r=n+1,a=e.length;r<a;n+=1,r+=1)e[n]=e[r];e.pop()}(n,i),1===n.length&&(a[e]=n[0]),a.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.removeAllListeners=function(e){var t,n,i;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=r(null),this._eventsCount=0):n[e]&&(0==--this._eventsCount?this._events=r(null):delete n[e]),this;if(0===arguments.length){var o,s=a(n);for(i=0;i<s.length;++i)"removeListener"!==(o=s[i])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=r(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},o.prototype.listeners=function(e){return g(this,e,!0)},o.prototype.rawListeners=function(e){return g(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},o.prototype.listenerCount=d,o.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],12:[function(e,t,n){n.read=function(e,t,n,r,a){var i,o,s=8*a-r-1,l=(1<<s)-1,c=l>>1,u=-7,f=n?a-1:0,p=n?-1:1,h=e[t+f];for(f+=p,i=h&(1<<-u)-1,h>>=-u,u+=s;u>0;i=256*i+e[t+f],f+=p,u-=8);for(o=i&(1<<-u)-1,i>>=-u,u+=r;u>0;o=256*o+e[t+f],f+=p,u-=8);if(0===i)i=1-c;else{if(i===l)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,r),i-=c}return(h?-1:1)*o*Math.pow(2,i-r)},n.write=function(e,t,n,r,a,i){var o,s,l,c=8*i-a-1,u=(1<<c)-1,f=u>>1,p=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,g=r?1:-1,d=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+f>=1?p/l:p*Math.pow(2,1-f))*l>=2&&(o++,l/=2),o+f>=u?(s=0,o=u):o+f>=1?(s=(t*l-1)*Math.pow(2,a),o+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,a),o=0));a>=8;e[n+h]=255&s,h+=g,s/=256,a-=8);for(o=o<<a|s,c+=a;c>0;e[n+h]=255&o,h+=g,o/=256,c-=8);e[n+h-g]|=128*d}},{}],13:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},{}],14:[function(e,t,n){function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}t.exports=function(e){return null!=e&&(r(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))}(e)||!!e._isBuffer)}},{}],15:[function(e,t,n){var r={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},{}],16:[function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,o,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))a.call(n,c)&&(s[c]=n[c]);if(r){o=r(n);for(var u=0;u<o.length;u++)i.call(n,o[u])&&(s[o[u]]=n[o[u]])}}return s}},{}],17:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)a(n,r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,a){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),a);else for(var i=0;i<r;i++)e[a+i]=t[n+i]},flattenChunks:function(e){var t,n,r,a,i,o;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(o=new Uint8Array(r),a=0,t=0,n=e.length;t<n;t++)i=e[t],o.set(i,a),a+=i.length;return o}},o={arraySet:function(e,t,n,r,a){for(var i=0;i<r;i++)e[a+i]=t[n+i]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(r)},{}],18:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){for(var a=65535&e|0,i=e>>>16&65535|0,o=0;0!==n;){n-=o=n>2e3?2e3:n;do{i=i+(a=a+t[r++]|0)|0}while(--o);a%=65521,i%=65521}return a|i<<16|0}},{}],19:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],20:[function(e,t,n){"use strict";var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,a){var i=r,o=a+n;e^=-1;for(var s=a;s<o;s++)e=e>>>8^i[255&(e^t[s])];return-1^e}},{}],21:[function(e,t,n){"use strict";var r,a=e("../utils/common"),i=e("./trees"),o=e("./adler32"),s=e("./crc32"),l=e("./messages"),c=0,u=0,f=-2,p=2,h=8,g=286,d=30,m=19,y=2*g+1,v=15,b=3,A=258,w=A+b+1,C=42,x=103,E=113,k=666;function _(e,t){return e.msg=l[t],t}function S(e){return(e<<1)-(e>4?9:0)}function T(e){for(var t=e.length;--t>=0;)e[t]=0}function P(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(a.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function O(e,t){i._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,P(e.strm)}function j(e,t){e.pending_buf[e.pending++]=t}function M(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function L(e,t){var n,r,a=e.max_chain_length,i=e.strstart,o=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-w?e.strstart-(e.w_size-w):0,c=e.window,u=e.w_mask,f=e.prev,p=e.strstart+A,h=c[i+o-1],g=c[i+o];e.prev_length>=e.good_match&&(a>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(n=t)+o]===g&&c[n+o-1]===h&&c[n]===c[i]&&c[++n]===c[i+1]){i+=2,n++;do{}while(c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&i<p);if(r=A-(p-i),i=p-A,r>o){if(e.match_start=t,o=r,r>=s)break;h=c[i+o-1],g=c[i+o]}}}while((t=f[t&u])>l&&0!=--a);return o<=e.lookahead?o:e.lookahead}function R(e){var t,n,r,i,l,c,u,f,p,h,g=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=g+(g-w)){a.arraySet(e.window,e.window,g,g,0),e.match_start-=g,e.strstart-=g,e.block_start-=g,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=g?r-g:0}while(--n);t=n=g;do{r=e.prev[--t],e.prev[t]=r>=g?r-g:0}while(--n);i+=g}if(0===e.strm.avail_in)break;if(c=e.strm,u=e.window,f=e.strstart+e.lookahead,p=i,h=void 0,(h=c.avail_in)>p&&(h=p),n=0===h?0:(c.avail_in-=h,a.arraySet(u,c.input,c.next_in,h,f),1===c.state.wrap?c.adler=o(c.adler,u,h,f):2===c.state.wrap&&(c.adler=s(c.adler,u,h,f)),c.next_in+=h,c.total_in+=h,h),e.lookahead+=n,e.lookahead+e.insert>=b)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+b-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<b)););}while(e.lookahead<w&&0!==e.strm.avail_in)}function I(e,t){for(var n,r;;){if(e.lookahead<w){if(R(e),e.lookahead<w&&t===c)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=b&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+b-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-w&&(e.match_length=L(e,n)),e.match_length>=b)if(r=i._tr_tally(e,e.strstart-e.match_start,e.match_length-b),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=b){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+b-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(O(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<b-1?e.strstart:b-1,4===t?(O(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(O(e,!1),0===e.strm.avail_out)?1:2}function N(e,t){for(var n,r,a;;){if(e.lookahead<w){if(R(e),e.lookahead<w&&t===c)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=b&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+b-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=b-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-w&&(e.match_length=L(e,n),e.match_length<=5&&(1===e.strategy||e.match_length===b&&e.strstart-e.match_start>4096)&&(e.match_length=b-1)),e.prev_length>=b&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-b,r=i._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-b),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=a&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+b-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=b-1,e.strstart++,r&&(O(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=i._tr_tally(e,0,e.window[e.strstart-1]))&&O(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=i._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<b-1?e.strstart:b-1,4===t?(O(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(O(e,!1),0===e.strm.avail_out)?1:2}function D(e,t,n,r,a){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=a}function B(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=h,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*y),this.dyn_dtree=new a.Buf16(2*(2*d+1)),this.bl_tree=new a.Buf16(2*(2*m+1)),T(this.dyn_ltree),T(this.dyn_dtree),T(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(v+1),this.heap=new a.Buf16(2*g+1),T(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*g+1),T(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function F(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=p,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?C:E,e.adler=2===t.wrap?0:1,t.last_flush=c,i._tr_init(t),u):_(e,f)}function U(e){var t,n=F(e);return n===u&&((t=e.state).window_size=2*t.w_size,T(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=b-1,t.match_available=0,t.ins_h=0),n}function z(e,t,n,r,i,o){if(!e)return f;var s=1;if(-1===t&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>9||n!==h||r<8||r>15||t<0||t>9||o<0||o>4)return _(e,f);8===r&&(r=9);var l=new B;return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=i+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+b-1)/b),l.window=new a.Buf8(2*l.w_size),l.head=new a.Buf16(l.hash_size),l.prev=new a.Buf16(l.w_size),l.lit_bufsize=1<<i+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new a.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=o,l.method=n,U(e)}r=[new D(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(R(e),0===e.lookahead&&t===c)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,O(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-w&&(O(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(O(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(O(e,!1),e.strm.avail_out),1)})),new D(4,4,8,4,I),new D(4,5,16,8,I),new D(4,6,32,32,I),new D(4,4,16,16,N),new D(8,16,32,32,N),new D(8,16,128,128,N),new D(8,32,128,256,N),new D(32,128,258,1024,N),new D(32,258,258,4096,N)],n.deflateInit=function(e,t){return z(e,t,h,15,8,0)},n.deflateInit2=z,n.deflateReset=U,n.deflateResetKeep=F,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?f:(e.state.gzhead=t,u):f},n.deflate=function(e,t){var n,a,o,l;if(!e||!e.state||t>5||t<0)return e?_(e,f):f;if(a=e.state,!e.output||!e.input&&0!==e.avail_in||a.status===k&&4!==t)return _(e,0===e.avail_out?-5:f);if(a.strm=e,n=a.last_flush,a.last_flush=t,a.status===C)if(2===a.wrap)e.adler=0,j(a,31),j(a,139),j(a,8),a.gzhead?(j(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),j(a,255&a.gzhead.time),j(a,a.gzhead.time>>8&255),j(a,a.gzhead.time>>16&255),j(a,a.gzhead.time>>24&255),j(a,9===a.level?2:a.strategy>=2||a.level<2?4:0),j(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(j(a,255&a.gzhead.extra.length),j(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(e.adler=s(e.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=69):(j(a,0),j(a,0),j(a,0),j(a,0),j(a,0),j(a,9===a.level?2:a.strategy>=2||a.level<2?4:0),j(a,3),a.status=E);else{var p=h+(a.w_bits-8<<4)<<8;p|=(a.strategy>=2||a.level<2?0:a.level<6?1:6===a.level?2:3)<<6,0!==a.strstart&&(p|=32),p+=31-p%31,a.status=E,M(a,p),0!==a.strstart&&(M(a,e.adler>>>16),M(a,65535&e.adler)),e.adler=1}if(69===a.status)if(a.gzhead.extra){for(o=a.pending;a.gzindex<(65535&a.gzhead.extra.length)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>o&&(e.adler=s(e.adler,a.pending_buf,a.pending-o,o)),P(e),o=a.pending,a.pending!==a.pending_buf_size));)j(a,255&a.gzhead.extra[a.gzindex]),a.gzindex++;a.gzhead.hcrc&&a.pending>o&&(e.adler=s(e.adler,a.pending_buf,a.pending-o,o)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=73)}else a.status=73;if(73===a.status)if(a.gzhead.name){o=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>o&&(e.adler=s(e.adler,a.pending_buf,a.pending-o,o)),P(e),o=a.pending,a.pending===a.pending_buf_size)){l=1;break}l=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,j(a,l)}while(0!==l);a.gzhead.hcrc&&a.pending>o&&(e.adler=s(e.adler,a.pending_buf,a.pending-o,o)),0===l&&(a.gzindex=0,a.status=91)}else a.status=91;if(91===a.status)if(a.gzhead.comment){o=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>o&&(e.adler=s(e.adler,a.pending_buf,a.pending-o,o)),P(e),o=a.pending,a.pending===a.pending_buf_size)){l=1;break}l=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,j(a,l)}while(0!==l);a.gzhead.hcrc&&a.pending>o&&(e.adler=s(e.adler,a.pending_buf,a.pending-o,o)),0===l&&(a.status=x)}else a.status=x;if(a.status===x&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&P(e),a.pending+2<=a.pending_buf_size&&(j(a,255&e.adler),j(a,e.adler>>8&255),e.adler=0,a.status=E)):a.status=E),0!==a.pending){if(P(e),0===e.avail_out)return a.last_flush=-1,u}else if(0===e.avail_in&&S(t)<=S(n)&&4!==t)return _(e,-5);if(a.status===k&&0!==e.avail_in)return _(e,-5);if(0!==e.avail_in||0!==a.lookahead||t!==c&&a.status!==k){var g=2===a.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(R(e),0===e.lookahead)){if(t===c)return 1;break}if(e.match_length=0,n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(O(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(O(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(O(e,!1),0===e.strm.avail_out)?1:2}(a,t):3===a.strategy?function(e,t){for(var n,r,a,o,s=e.window;;){if(e.lookahead<=A){if(R(e),e.lookahead<=A&&t===c)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=b&&e.strstart>0&&(r=s[a=e.strstart-1])===s[++a]&&r===s[++a]&&r===s[++a]){o=e.strstart+A;do{}while(r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&a<o);e.match_length=A-(o-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=b?(n=i._tr_tally(e,1,e.match_length-b),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(O(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(O(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(O(e,!1),0===e.strm.avail_out)?1:2}(a,t):r[a.level].func(a,t);if(3!==g&&4!==g||(a.status=k),1===g||3===g)return 0===e.avail_out&&(a.last_flush=-1),u;if(2===g&&(1===t?i._tr_align(a):5!==t&&(i._tr_stored_block(a,0,0,!1),3===t&&(T(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),P(e),0===e.avail_out))return a.last_flush=-1,u}return 4!==t?u:a.wrap<=0?1:(2===a.wrap?(j(a,255&e.adler),j(a,e.adler>>8&255),j(a,e.adler>>16&255),j(a,e.adler>>24&255),j(a,255&e.total_in),j(a,e.total_in>>8&255),j(a,e.total_in>>16&255),j(a,e.total_in>>24&255)):(M(a,e.adler>>>16),M(a,65535&e.adler)),P(e),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?u:1)},n.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==C&&69!==t&&73!==t&&91!==t&&t!==x&&t!==E&&t!==k?_(e,f):(e.state=null,t===E?_(e,-3):u):f},n.deflateSetDictionary=function(e,t){var n,r,i,s,l,c,p,h,g=t.length;if(!e||!e.state)return f;if(2===(s=(n=e.state).wrap)||1===s&&n.status!==C||n.lookahead)return f;for(1===s&&(e.adler=o(e.adler,t,g,0)),n.wrap=0,g>=n.w_size&&(0===s&&(T(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new a.Buf8(n.w_size),a.arraySet(h,t,g-n.w_size,n.w_size,0),t=h,g=n.w_size),l=e.avail_in,c=e.next_in,p=e.input,e.avail_in=g,e.next_in=0,e.input=t,R(n);n.lookahead>=b;){r=n.strstart,i=n.lookahead-(b-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+b-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--i);n.strstart=r,n.lookahead=b-1,R(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=b-1,n.match_available=0,e.next_in=c,e.input=p,e.avail_in=l,n.wrap=s,u},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":17,"./adler32":18,"./crc32":20,"./messages":25,"./trees":26}],22:[function(e,t,n){"use strict";t.exports=function(e,t){var n,r,a,i,o,s,l,c,u,f,p,h,g,d,m,y,v,b,A,w,C,x,E,k,_;n=e.state,r=e.next_in,k=e.input,a=r+(e.avail_in-5),i=e.next_out,_=e.output,o=i-(t-e.avail_out),s=i+(e.avail_out-257),l=n.dmax,c=n.wsize,u=n.whave,f=n.wnext,p=n.window,h=n.hold,g=n.bits,d=n.lencode,m=n.distcode,y=(1<<n.lenbits)-1,v=(1<<n.distbits)-1;e:do{g<15&&(h+=k[r++]<<g,g+=8,h+=k[r++]<<g,g+=8),b=d[h&y];t:for(;;){if(h>>>=A=b>>>24,g-=A,0==(A=b>>>16&255))_[i++]=65535&b;else{if(!(16&A)){if(0==(64&A)){b=d[(65535&b)+(h&(1<<A)-1)];continue t}if(32&A){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}w=65535&b,(A&=15)&&(g<A&&(h+=k[r++]<<g,g+=8),w+=h&(1<<A)-1,h>>>=A,g-=A),g<15&&(h+=k[r++]<<g,g+=8,h+=k[r++]<<g,g+=8),b=m[h&v];n:for(;;){if(h>>>=A=b>>>24,g-=A,!(16&(A=b>>>16&255))){if(0==(64&A)){b=m[(65535&b)+(h&(1<<A)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(C=65535&b,g<(A&=15)&&(h+=k[r++]<<g,(g+=8)<A&&(h+=k[r++]<<g,g+=8)),(C+=h&(1<<A)-1)>l){e.msg="invalid distance too far back",n.mode=30;break e}if(h>>>=A,g-=A,C>(A=i-o)){if((A=C-A)>u&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(x=0,E=p,0===f){if(x+=c-A,A<w){w-=A;do{_[i++]=p[x++]}while(--A);x=i-C,E=_}}else if(f<A){if(x+=c+f-A,(A-=f)<w){w-=A;do{_[i++]=p[x++]}while(--A);if(x=0,f<w){w-=A=f;do{_[i++]=p[x++]}while(--A);x=i-C,E=_}}}else if(x+=f-A,A<w){w-=A;do{_[i++]=p[x++]}while(--A);x=i-C,E=_}for(;w>2;)_[i++]=E[x++],_[i++]=E[x++],_[i++]=E[x++],w-=3;w&&(_[i++]=E[x++],w>1&&(_[i++]=E[x++]))}else{x=i-C;do{_[i++]=_[x++],_[i++]=_[x++],_[i++]=_[x++],w-=3}while(w>2);w&&(_[i++]=_[x++],w>1&&(_[i++]=_[x++]))}break}}break}}while(r<a&&i<s);r-=w=g>>3,h&=(1<<(g-=w<<3))-1,e.next_in=r,e.next_out=i,e.avail_in=r<a?a-r+5:5-(r-a),e.avail_out=i<s?s-i+257:257-(i-s),n.hold=h,n.bits=g}},{}],23:[function(e,t,n){"use strict";var r=e("../utils/common"),a=e("./adler32"),i=e("./crc32"),o=e("./inffast"),s=e("./inftrees"),l=0,c=-2,u=1,f=12,p=30,h=852,g=592;function d(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function m(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function y(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=u,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(h),t.distcode=t.distdyn=new r.Buf32(g),t.sane=1,t.back=-1,l):c}function v(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,y(e)):c}function b(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?c:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,v(e))):c}function A(e,t){var n,r;return e?(r=new m,e.state=r,r.window=null,(n=b(e,t))!==l&&(e.state=null),n):c}var w,C,x=!0;function E(e){if(x){var t;for(w=new r.Buf32(512),C=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(1,e.lens,0,288,w,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(2,e.lens,0,32,C,0,e.work,{bits:5}),x=!1}e.lencode=w,e.lenbits=9,e.distcode=C,e.distbits=5}function k(e,t,n,a){var i,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new r.Buf8(o.wsize)),a>=o.wsize?(r.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((i=o.wsize-o.wnext)>a&&(i=a),r.arraySet(o.window,t,n-a,i,o.wnext),(a-=i)?(r.arraySet(o.window,t,n-a,a,0),o.wnext=a,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}n.inflateReset=v,n.inflateReset2=b,n.inflateResetKeep=y,n.inflateInit=function(e){return A(e,15)},n.inflateInit2=A,n.inflate=function(e,t){var n,h,g,m,y,v,b,A,w,C,x,_,S,T,P,O,j,M,L,R,I,N,D,B,F=0,U=new r.Buf8(4),z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return c;(n=e.state).mode===f&&(n.mode=13),y=e.next_out,g=e.output,b=e.avail_out,m=e.next_in,h=e.input,v=e.avail_in,A=n.hold,w=n.bits,C=v,x=b,N=l;e:for(;;)switch(n.mode){case u:if(0===n.wrap){n.mode=13;break}for(;w<16;){if(0===v)break e;v--,A+=h[m++]<<w,w+=8}if(2&n.wrap&&35615===A){n.check=0,U[0]=255&A,U[1]=A>>>8&255,n.check=i(n.check,U,2,0),A=0,w=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&A)<<8)+(A>>8))%31){e.msg="incorrect header check",n.mode=p;break}if(8!=(15&A)){e.msg="unknown compression method",n.mode=p;break}if(w-=4,I=8+(15&(A>>>=4)),0===n.wbits)n.wbits=I;else if(I>n.wbits){e.msg="invalid window size",n.mode=p;break}n.dmax=1<<I,e.adler=n.check=1,n.mode=512&A?10:f,A=0,w=0;break;case 2:for(;w<16;){if(0===v)break e;v--,A+=h[m++]<<w,w+=8}if(n.flags=A,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=p;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=p;break}n.head&&(n.head.text=A>>8&1),512&n.flags&&(U[0]=255&A,U[1]=A>>>8&255,n.check=i(n.check,U,2,0)),A=0,w=0,n.mode=3;case 3:for(;w<32;){if(0===v)break e;v--,A+=h[m++]<<w,w+=8}n.head&&(n.head.time=A),512&n.flags&&(U[0]=255&A,U[1]=A>>>8&255,U[2]=A>>>16&255,U[3]=A>>>24&255,n.check=i(n.check,U,4,0)),A=0,w=0,n.mode=4;case 4:for(;w<16;){if(0===v)break e;v--,A+=h[m++]<<w,w+=8}n.head&&(n.head.xflags=255&A,n.head.os=A>>8),512&n.flags&&(U[0]=255&A,U[1]=A>>>8&255,n.check=i(n.check,U,2,0)),A=0,w=0,n.mode=5;case 5:if(1024&n.flags){for(;w<16;){if(0===v)break e;v--,A+=h[m++]<<w,w+=8}n.length=A,n.head&&(n.head.extra_len=A),512&n.flags&&(U[0]=255&A,U[1]=A>>>8&255,n.check=i(n.check,U,2,0)),A=0,w=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((_=n.length)>v&&(_=v),_&&(n.head&&(I=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,h,m,_,I)),512&n.flags&&(n.check=i(n.check,h,_,m)),v-=_,m+=_,n.length-=_),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===v)break e;_=0;do{I=h[m+_++],n.head&&I&&n.length<65536&&(n.head.name+=String.fromCharCode(I))}while(I&&_<v);if(512&n.flags&&(n.check=i(n.check,h,_,m)),v-=_,m+=_,I)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===v)break e;_=0;do{I=h[m+_++],n.head&&I&&n.length<65536&&(n.head.comment+=String.fromCharCode(I))}while(I&&_<v);if(512&n.flags&&(n.check=i(n.check,h,_,m)),v-=_,m+=_,I)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;w<16;){if(0===v)break e;v--,A+=h[m++]<<w,w+=8}if(A!==(65535&n.check)){e.msg="header crc mismatch",n.mode=p;break}A=0,w=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=f;break;case 10:for(;w<32;){if(0===v)break e;v--,A+=h[m++]<<w,w+=8}e.adler=n.check=d(A),A=0,w=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=y,e.avail_out=b,e.next_in=m,e.avail_in=v,n.hold=A,n.bits=w,2;e.adler=n.check=1,n.mode=f;case f:if(5===t||6===t)break e;case 13:if(n.last){A>>>=7&w,w-=7&w,n.mode=27;break}for(;w<3;){if(0===v)break e;v--,A+=h[m++]<<w,w+=8}switch(n.last=1&A,w-=1,3&(A>>>=1)){case 0:n.mode=14;break;case 1:if(E(n),n.mode=20,6===t){A>>>=2,w-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=p}A>>>=2,w-=2;break;case 14:for(A>>>=7&w,w-=7&w;w<32;){if(0===v)break e;v--,A+=h[m++]<<w,w+=8}if((65535&A)!=(A>>>16^65535)){e.msg="invalid stored block lengths",n.mode=p;break}if(n.length=65535&A,A=0,w=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(_=n.length){if(_>v&&(_=v),_>b&&(_=b),0===_)break e;r.arraySet(g,h,m,_,y),v-=_,m+=_,b-=_,y+=_,n.length-=_;break}n.mode=f;break;case 17:for(;w<14;){if(0===v)break e;v--,A+=h[m++]<<w,w+=8}if(n.nlen=257+(31&A),A>>>=5,w-=5,n.ndist=1+(31&A),A>>>=5,w-=5,n.ncode=4+(15&A),A>>>=4,w-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=p;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;w<3;){if(0===v)break e;v--,A+=h[m++]<<w,w+=8}n.lens[z[n.have++]]=7&A,A>>>=3,w-=3}for(;n.have<19;)n.lens[z[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,D={bits:n.lenbits},N=s(0,n.lens,0,19,n.lencode,0,n.work,D),n.lenbits=D.bits,N){e.msg="invalid code lengths set",n.mode=p;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;O=(F=n.lencode[A&(1<<n.lenbits)-1])>>>16&255,j=65535&F,!((P=F>>>24)<=w);){if(0===v)break e;v--,A+=h[m++]<<w,w+=8}if(j<16)A>>>=P,w-=P,n.lens[n.have++]=j;else{if(16===j){for(B=P+2;w<B;){if(0===v)break e;v--,A+=h[m++]<<w,w+=8}if(A>>>=P,w-=P,0===n.have){e.msg="invalid bit length repeat",n.mode=p;break}I=n.lens[n.have-1],_=3+(3&A),A>>>=2,w-=2}else if(17===j){for(B=P+3;w<B;){if(0===v)break e;v--,A+=h[m++]<<w,w+=8}w-=P,I=0,_=3+(7&(A>>>=P)),A>>>=3,w-=3}else{for(B=P+7;w<B;){if(0===v)break e;v--,A+=h[m++]<<w,w+=8}w-=P,I=0,_=11+(127&(A>>>=P)),A>>>=7,w-=7}if(n.have+_>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=p;break}for(;_--;)n.lens[n.have++]=I}}if(n.mode===p)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=p;break}if(n.lenbits=9,D={bits:n.lenbits},N=s(1,n.lens,0,n.nlen,n.lencode,0,n.work,D),n.lenbits=D.bits,N){e.msg="invalid literal/lengths set",n.mode=p;break}if(n.distbits=6,n.distcode=n.distdyn,D={bits:n.distbits},N=s(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,D),n.distbits=D.bits,N){e.msg="invalid distances set",n.mode=p;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(v>=6&&b>=258){e.next_out=y,e.avail_out=b,e.next_in=m,e.avail_in=v,n.hold=A,n.bits=w,o(e,x),y=e.next_out,g=e.output,b=e.avail_out,m=e.next_in,h=e.input,v=e.avail_in,A=n.hold,w=n.bits,n.mode===f&&(n.back=-1);break}for(n.back=0;O=(F=n.lencode[A&(1<<n.lenbits)-1])>>>16&255,j=65535&F,!((P=F>>>24)<=w);){if(0===v)break e;v--,A+=h[m++]<<w,w+=8}if(O&&0==(240&O)){for(M=P,L=O,R=j;O=(F=n.lencode[R+((A&(1<<M+L)-1)>>M)])>>>16&255,j=65535&F,!(M+(P=F>>>24)<=w);){if(0===v)break e;v--,A+=h[m++]<<w,w+=8}A>>>=M,w-=M,n.back+=M}if(A>>>=P,w-=P,n.back+=P,n.length=j,0===O){n.mode=26;break}if(32&O){n.back=-1,n.mode=f;break}if(64&O){e.msg="invalid literal/length code",n.mode=p;break}n.extra=15&O,n.mode=22;case 22:if(n.extra){for(B=n.extra;w<B;){if(0===v)break e;v--,A+=h[m++]<<w,w+=8}n.length+=A&(1<<n.extra)-1,A>>>=n.extra,w-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;O=(F=n.distcode[A&(1<<n.distbits)-1])>>>16&255,j=65535&F,!((P=F>>>24)<=w);){if(0===v)break e;v--,A+=h[m++]<<w,w+=8}if(0==(240&O)){for(M=P,L=O,R=j;O=(F=n.distcode[R+((A&(1<<M+L)-1)>>M)])>>>16&255,j=65535&F,!(M+(P=F>>>24)<=w);){if(0===v)break e;v--,A+=h[m++]<<w,w+=8}A>>>=M,w-=M,n.back+=M}if(A>>>=P,w-=P,n.back+=P,64&O){e.msg="invalid distance code",n.mode=p;break}n.offset=j,n.extra=15&O,n.mode=24;case 24:if(n.extra){for(B=n.extra;w<B;){if(0===v)break e;v--,A+=h[m++]<<w,w+=8}n.offset+=A&(1<<n.extra)-1,A>>>=n.extra,w-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=p;break}n.mode=25;case 25:if(0===b)break e;if(_=x-b,n.offset>_){if((_=n.offset-_)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=p;break}_>n.wnext?(_-=n.wnext,S=n.wsize-_):S=n.wnext-_,_>n.length&&(_=n.length),T=n.window}else T=g,S=y-n.offset,_=n.length;_>b&&(_=b),b-=_,n.length-=_;do{g[y++]=T[S++]}while(--_);0===n.length&&(n.mode=21);break;case 26:if(0===b)break e;g[y++]=n.length,b--,n.mode=21;break;case 27:if(n.wrap){for(;w<32;){if(0===v)break e;v--,A|=h[m++]<<w,w+=8}if(x-=b,e.total_out+=x,n.total+=x,x&&(e.adler=n.check=n.flags?i(n.check,g,x,y-x):a(n.check,g,x,y-x)),x=b,(n.flags?A:d(A))!==n.check){e.msg="incorrect data check",n.mode=p;break}A=0,w=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;w<32;){if(0===v)break e;v--,A+=h[m++]<<w,w+=8}if(A!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=p;break}A=0,w=0}n.mode=29;case 29:N=1;break e;case p:N=-3;break e;case 31:return-4;default:return c}return e.next_out=y,e.avail_out=b,e.next_in=m,e.avail_in=v,n.hold=A,n.bits=w,(n.wsize||x!==e.avail_out&&n.mode<p&&(n.mode<27||4!==t))&&k(e,e.output,e.next_out,x-e.avail_out)?(n.mode=31,-4):(C-=e.avail_in,x-=e.avail_out,e.total_in+=C,e.total_out+=x,n.total+=x,n.wrap&&x&&(e.adler=n.check=n.flags?i(n.check,g,x,e.next_out-x):a(n.check,g,x,e.next_out-x)),e.data_type=n.bits+(n.last?64:0)+(n.mode===f?128:0)+(20===n.mode||15===n.mode?256:0),(0===C&&0===x||4===t)&&N===l&&(N=-5),N)},n.inflateEnd=function(e){if(!e||!e.state)return c;var t=e.state;return t.window&&(t.window=null),e.state=null,l},n.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?c:(n.head=t,t.done=!1,l):c},n.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?c:11===n.mode&&a(1,t,r,0)!==n.check?-3:k(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,l):c},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":17,"./adler32":18,"./crc32":20,"./inffast":22,"./inftrees":24}],24:[function(e,t,n){"use strict";var r=e("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,l,c,u,f,p){var h,g,d,m,y,v,b,A,w,C=p.bits,x=0,E=0,k=0,_=0,S=0,T=0,P=0,O=0,j=0,M=0,L=null,R=0,I=new r.Buf16(16),N=new r.Buf16(16),D=null,B=0;for(x=0;x<=15;x++)I[x]=0;for(E=0;E<l;E++)I[t[n+E]]++;for(S=C,_=15;_>=1&&0===I[_];_--);if(S>_&&(S=_),0===_)return c[u++]=20971520,c[u++]=20971520,p.bits=1,0;for(k=1;k<_&&0===I[k];k++);for(S<k&&(S=k),O=1,x=1;x<=15;x++)if(O<<=1,(O-=I[x])<0)return-1;if(O>0&&(0===e||1!==_))return-1;for(N[1]=0,x=1;x<15;x++)N[x+1]=N[x]+I[x];for(E=0;E<l;E++)0!==t[n+E]&&(f[N[t[n+E]]++]=E);if(0===e?(L=D=f,v=19):1===e?(L=a,R-=257,D=i,B-=257,v=256):(L=o,D=s,v=-1),M=0,E=0,x=k,y=u,T=S,P=0,d=-1,m=(j=1<<S)-1,1===e&&j>852||2===e&&j>592)return 1;for(;;){b=x-P,f[E]<v?(A=0,w=f[E]):f[E]>v?(A=D[B+f[E]],w=L[R+f[E]]):(A=96,w=0),h=1<<x-P,k=g=1<<T;do{c[y+(M>>P)+(g-=h)]=b<<24|A<<16|w|0}while(0!==g);for(h=1<<x-1;M&h;)h>>=1;if(0!==h?(M&=h-1,M+=h):M=0,E++,0==--I[x]){if(x===_)break;x=t[n+f[E]]}if(x>S&&(M&m)!==d){for(0===P&&(P=S),y+=k,O=1<<(T=x-P);T+P<_&&!((O-=I[T+P])<=0);)T++,O<<=1;if(j+=1<<T,1===e&&j>852||2===e&&j>592)return 1;c[d=M&m]=S<<24|T<<16|y-u|0}}return 0!==M&&(c[y+M]=x-P<<24|64<<16|0),p.bits=S,0}},{"../utils/common":17}],25:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],26:[function(e,t,n){"use strict";var r=e("../utils/common");function a(e){for(var t=e.length;--t>=0;)e[t]=0}var i=256,o=286,s=30,l=15,c=16,u=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],f=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],p=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],h=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],g=new Array(576);a(g);var d=new Array(60);a(d);var m=new Array(512);a(m);var y=new Array(256);a(y);var v=new Array(29);a(v);var b,A,w,C=new Array(s);function x(e,t,n,r,a){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=a,this.has_stree=e&&e.length}function E(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function k(e){return e<256?m[e]:m[256+(e>>>7)]}function _(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function S(e,t,n){e.bi_valid>c-n?(e.bi_buf|=t<<e.bi_valid&65535,_(e,e.bi_buf),e.bi_buf=t>>c-e.bi_valid,e.bi_valid+=n-c):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function T(e,t,n){S(e,n[2*t],n[2*t+1])}function P(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function O(e,t,n){var r,a,i=new Array(l+1),o=0;for(r=1;r<=l;r++)i[r]=o=o+n[r-1]<<1;for(a=0;a<=t;a++){var s=e[2*a+1];0!==s&&(e[2*a]=P(i[s]++,s))}}function j(e){var t;for(t=0;t<o;t++)e.dyn_ltree[2*t]=0;for(t=0;t<s;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function M(e){e.bi_valid>8?_(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function L(e,t,n,r){var a=2*t,i=2*n;return e[a]<e[i]||e[a]===e[i]&&r[t]<=r[n]}function R(e,t,n){for(var r=e.heap[n],a=n<<1;a<=e.heap_len&&(a<e.heap_len&&L(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!L(t,r,e.heap[a],e.depth));)e.heap[n]=e.heap[a],n=a,a<<=1;e.heap[n]=r}function I(e,t,n){var r,a,o,s,l=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],a=e.pending_buf[e.l_buf+l],l++,0===r?T(e,a,t):(T(e,(o=y[a])+i+1,t),0!==(s=u[o])&&S(e,a-=v[o],s),T(e,o=k(--r),n),0!==(s=f[o])&&S(e,r-=C[o],s))}while(l<e.last_lit);T(e,256,t)}function N(e,t){var n,r,a,i=t.dyn_tree,o=t.stat_desc.static_tree,s=t.stat_desc.has_stree,c=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<c;n++)0!==i[2*n]?(e.heap[++e.heap_len]=u=n,e.depth[n]=0):i[2*n+1]=0;for(;e.heap_len<2;)i[2*(a=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[a]=0,e.opt_len--,s&&(e.static_len-=o[2*a+1]);for(t.max_code=u,n=e.heap_len>>1;n>=1;n--)R(e,i,n);a=c;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],R(e,i,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,i[2*a]=i[2*n]+i[2*r],e.depth[a]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,i[2*n+1]=i[2*r+1]=a,e.heap[1]=a++,R(e,i,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,a,i,o,s,c=t.dyn_tree,u=t.max_code,f=t.stat_desc.static_tree,p=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,g=t.stat_desc.extra_base,d=t.stat_desc.max_length,m=0;for(i=0;i<=l;i++)e.bl_count[i]=0;for(c[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(i=c[2*c[2*(r=e.heap[n])+1]+1]+1)>d&&(i=d,m++),c[2*r+1]=i,r>u||(e.bl_count[i]++,o=0,r>=g&&(o=h[r-g]),s=c[2*r],e.opt_len+=s*(i+o),p&&(e.static_len+=s*(f[2*r+1]+o)));if(0!==m){do{for(i=d-1;0===e.bl_count[i];)i--;e.bl_count[i]--,e.bl_count[i+1]+=2,e.bl_count[d]--,m-=2}while(m>0);for(i=d;0!==i;i--)for(r=e.bl_count[i];0!==r;)(a=e.heap[--n])>u||(c[2*a+1]!==i&&(e.opt_len+=(i-c[2*a+1])*c[2*a],c[2*a+1]=i),r--)}}(e,t),O(i,u,e.bl_count)}function D(e,t,n){var r,a,i=-1,o=t[1],s=0,l=7,c=4;for(0===o&&(l=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)a=o,o=t[2*(r+1)+1],++s<l&&a===o||(s<c?e.bl_tree[2*a]+=s:0!==a?(a!==i&&e.bl_tree[2*a]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,i=a,0===o?(l=138,c=3):a===o?(l=6,c=3):(l=7,c=4))}function B(e,t,n){var r,a,i=-1,o=t[1],s=0,l=7,c=4;for(0===o&&(l=138,c=3),r=0;r<=n;r++)if(a=o,o=t[2*(r+1)+1],!(++s<l&&a===o)){if(s<c)do{T(e,a,e.bl_tree)}while(0!=--s);else 0!==a?(a!==i&&(T(e,a,e.bl_tree),s--),T(e,16,e.bl_tree),S(e,s-3,2)):s<=10?(T(e,17,e.bl_tree),S(e,s-3,3)):(T(e,18,e.bl_tree),S(e,s-11,7));s=0,i=a,0===o?(l=138,c=3):a===o?(l=6,c=3):(l=7,c=4)}}a(C);var F=!1;function U(e,t,n,a){S(e,0+(a?1:0),3),function(e,t,n,a){M(e),_(e,n),_(e,~n),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n)}n._tr_init=function(e){F||(function(){var e,t,n,r,a,i=new Array(l+1);for(n=0,r=0;r<28;r++)for(v[r]=n,e=0;e<1<<u[r];e++)y[n++]=r;for(y[n-1]=r,a=0,r=0;r<16;r++)for(C[r]=a,e=0;e<1<<f[r];e++)m[a++]=r;for(a>>=7;r<s;r++)for(C[r]=a<<7,e=0;e<1<<f[r]-7;e++)m[256+a++]=r;for(t=0;t<=l;t++)i[t]=0;for(e=0;e<=143;)g[2*e+1]=8,e++,i[8]++;for(;e<=255;)g[2*e+1]=9,e++,i[9]++;for(;e<=279;)g[2*e+1]=7,e++,i[7]++;for(;e<=287;)g[2*e+1]=8,e++,i[8]++;for(O(g,287,i),e=0;e<s;e++)d[2*e+1]=5,d[2*e]=P(e,5);b=new x(g,u,257,o,l),A=new x(d,f,0,s,l),w=new x(new Array(0),p,0,19,7)}(),F=!0),e.l_desc=new E(e.dyn_ltree,b),e.d_desc=new E(e.dyn_dtree,A),e.bl_desc=new E(e.bl_tree,w),e.bi_buf=0,e.bi_valid=0,j(e)},n._tr_stored_block=U,n._tr_flush_block=function(e,t,n,r){var a,o,s=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<i;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),N(e,e.l_desc),N(e,e.d_desc),s=function(e){var t;for(D(e,e.dyn_ltree,e.l_desc.max_code),D(e,e.dyn_dtree,e.d_desc.max_code),N(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*h[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),a=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=a&&(a=o)):a=o=n+5,n+4<=a&&-1!==t?U(e,t,n,r):4===e.strategy||o===a?(S(e,2+(r?1:0),3),I(e,g,d)):(S(e,4+(r?1:0),3),function(e,t,n,r){var a;for(S(e,t-257,5),S(e,n-1,5),S(e,r-4,4),a=0;a<r;a++)S(e,e.bl_tree[2*h[a]+1],3);B(e,e.dyn_ltree,t-1),B(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),I(e,e.dyn_ltree,e.dyn_dtree)),j(e),r&&M(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(y[n]+i+1)]++,e.dyn_dtree[2*k(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){S(e,2,3),T(e,256,g),function(e){16===e.bi_valid?(_(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":17}],27:[function(e,t,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],28:[function(e,t,n){(function(e){"use strict";void 0===e||!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,n,r,a){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var i,o,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick((function(){t.call(null,n)}));case 3:return e.nextTick((function(){t.call(null,n,r)}));case 4:return e.nextTick((function(){t.call(null,n,r,a)}));default:for(i=new Array(s-1),o=0;o<i.length;)i[o++]=arguments[o];return e.nextTick((function(){t.apply(null,i)}))}}}:t.exports=e}).call(this,e("_process"))},{_process:29}],29:[function(e,t,n){var r,a,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{a="function"==typeof clearTimeout?clearTimeout:s}catch(e){a=s}}();var c,u=[],f=!1,p=-1;function h(){f&&c&&(f=!1,c.length?u=c.concat(u):p=-1,u.length&&g())}function g(){if(!f){var e=l(h);f=!0;for(var t=u.length;t;){for(c=u,u=[];++p<t;)c&&c[p].run();p=-1,t=u.length}c=null,f=!1,function(e){if(a===clearTimeout)return clearTimeout(e);if((a===s||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(e);try{return a(e)}catch(t){try{return a.call(null,e)}catch(t){return a.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new d(e,t)),1!==u.length||f||l(g)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],30:[function(e,t,n){t.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":31}],31:[function(e,t,n){"use strict";var r=e("process-nextick-args"),a=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};t.exports=f;var i=Object.create(e("core-util-is"));i.inherits=e("inherits");var o=e("./_stream_readable"),s=e("./_stream_writable");i.inherits(f,o);for(var l=a(s.prototype),c=0;c<l.length;c++){var u=l[c];f.prototype[u]||(f.prototype[u]=s.prototype[u])}function f(e){if(!(this instanceof f))return new f(e);o.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",p)}function p(){this.allowHalfOpen||this._writableState.ended||r.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),f.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},{"./_stream_readable":33,"./_stream_writable":35,"core-util-is":10,inherits:13,"process-nextick-args":28}],32:[function(e,t,n){"use strict";t.exports=i;var r=e("./_stream_transform"),a=Object.create(e("core-util-is"));function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}a.inherits=e("inherits"),a.inherits(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},{"./_stream_transform":34,"core-util-is":10,inherits:13}],33:[function(e,t,r){(function(n,r){"use strict";var a=e("process-nextick-args");t.exports=b;var i,o=e("isarray");b.ReadableState=v,e("events").EventEmitter;var s=function(e,t){return e.listeners(t).length},l=e("./internal/streams/stream"),c=e("safe-buffer").Buffer,u=r.Uint8Array||function(){},f=Object.create(e("core-util-is"));f.inherits=e("inherits");var p=e("util"),h=void 0;h=p&&p.debuglog?p.debuglog("stream"):function(){};var g,d=e("./internal/streams/BufferList"),m=e("./internal/streams/destroy");f.inherits(b,l);var y=["error","close","destroy","pause","resume"];function v(t,n){t=t||{};var r=n instanceof(i=i||e("./_stream_duplex"));this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var a=t.highWaterMark,o=t.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=a||0===a?a:r&&(o||0===o)?o:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(g||(g=e("string_decoder/").StringDecoder),this.decoder=new g(t.encoding),this.encoding=t.encoding)}function b(t){if(i=i||e("./_stream_duplex"),!(this instanceof b))return new b(t);this._readableState=new v(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),l.call(this)}function A(e,t,n,r,a){var i,o=e._readableState;return null===t?(o.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,E(e)}}(e,o)):(a||(i=function(e,t){var n,r;return r=t,c.isBuffer(r)||r instanceof u||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(o,t)),i?e.emit("error",i):o.objectMode||t&&t.length>0?("string"==typeof t||o.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),r?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):w(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!n?(t=o.decoder.write(t),o.objectMode||0!==t.length?w(e,o,t,!1):_(e,o)):w(e,o,t,!1))):r||(o.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(o)}function w(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&E(e)),_(e,t)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),b.prototype.destroy=m.destroy,b.prototype._undestroy=m.undestroy,b.prototype._destroy=function(e,t){this.push(null),t(e)},b.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=c.from(e,t),t=""),n=!0),A(this,e,t,!1,n)},b.prototype.unshift=function(e){return A(this,e,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(t){return g||(g=e("string_decoder/").StringDecoder),this._readableState.decoder=new g(t),this._readableState.encoding=t,this};var C=8388608;function x(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=C?e=C:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function E(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?a.nextTick(k,e):k(e))}function k(e){h("emit readable"),e.emit("readable"),O(e)}function _(e,t){t.readingMore||(t.readingMore=!0,a.nextTick(S,e,t))}function S(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function T(e){h("readable nexttick read 0"),e.read(0)}function P(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),O(e),t.flowing&&!t.reading&&e.read(0)}function O(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function j(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,a=n.data;for(e-=a.length;n=n.next;){var i=n.data,o=e>i.length?i.length:e;if(o===i.length?a+=i:a+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=i.slice(o));break}++r}return t.length-=r,a}(e,t):function(e,t){var n=c.allocUnsafe(e),r=t.head,a=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(n,n.length-e,0,o),0==(e-=o)){o===i.length?(++a,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=i.slice(o));break}++a}return t.length-=a,n}(e,t),r}(e,t.buffer,t.decoder),n);var n}function M(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,a.nextTick(L,t,e))}function L(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function R(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}b.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?M(this):E(this),null;if(0===(e=x(e,t))&&t.ended)return 0===t.length&&M(this),null;var r,a=t.needReadable;return h("need readable",a),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",a=!0),t.ended||t.reading?h("reading or ended",a=!1):a&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=x(n,t))),null===(r=e>0?j(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&M(this)),null!==r&&this.emit("data",r),r},b.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,h("pipe count=%d opts=%j",i.pipesCount,t);var l=t&&!1===t.end||e===n.stdout||e===n.stderr?v:c;function c(){h("onend"),e.end()}i.endEmitted?a.nextTick(l):r.once("end",l),e.on("unpipe",(function t(n,a){h("onunpipe"),n===r&&a&&!1===a.hasUnpiped&&(a.hasUnpiped=!0,h("cleanup"),e.removeListener("close",m),e.removeListener("finish",y),e.removeListener("drain",u),e.removeListener("error",d),e.removeListener("unpipe",t),r.removeListener("end",c),r.removeListener("end",v),r.removeListener("data",g),f=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}));var u=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,O(e))}}(r);e.on("drain",u);var f=!1,p=!1;function g(t){h("ondata"),p=!1,!1!==e.write(t)||p||((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==R(i.pipes,e))&&!f&&(h("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,p=!0),r.pause())}function d(t){h("onerror",t),v(),e.removeListener("error",d),0===s(e,"error")&&e.emit("error",t)}function m(){e.removeListener("finish",y),v()}function y(){h("onfinish"),e.removeListener("close",m),v()}function v(){h("unpipe"),r.unpipe(e)}return r.on("data",g),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",d),e.once("close",m),e.once("finish",y),e.emit("pipe",r),i.flowing||(h("pipe resume"),r.resume()),e},b.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,a=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<a;i++)r[i].emit("unpipe",this,n);return this}var o=R(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},b.prototype.on=function(e,t){var n=l.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&E(this):a.nextTick(T,this))}return n},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,a.nextTick(P,e,t))}(this,e)),this},b.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var a in e.on("end",(function(){if(h("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(a){h("wrapped data"),n.decoder&&(a=n.decoder.write(a)),n.objectMode&&null==a||(n.objectMode||a&&a.length)&&(t.push(a)||(r=!0,e.pause()))})),e)void 0===this[a]&&"function"==typeof e[a]&&(this[a]=function(t){return function(){return e[t].apply(e,arguments)}}(a));for(var i=0;i<y.length;i++)e.on(y[i],this.emit.bind(this,y[i]));return this._read=function(t){h("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=j}).call(this,e("_process"),void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":31,"./internal/streams/BufferList":36,"./internal/streams/destroy":37,"./internal/streams/stream":38,_process:29,"core-util-is":10,events:11,inherits:13,isarray:15,"process-nextick-args":28,"safe-buffer":39,"string_decoder/":40,util:6}],34:[function(e,t,n){"use strict";t.exports=o;var r=e("./_stream_duplex"),a=Object.create(e("core-util-is"));function i(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);r.call(this,e),this._transformState={afterTransform:i.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush((function(t,n){l(e,t,n)})):l(this,null,null)}function l(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}a.inherits=e("inherits"),a.inherits(o,r),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var a=this._readableState;(r.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,(function(e){t(e),n.emit("close")}))}},{"./_stream_duplex":31,"core-util-is":10,inherits:13}],35:[function(e,t,r){(function(n,r,a){"use strict";var i=e("process-nextick-args");function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;for(e.entry=null;r;){var a=r.callback;t.pendingcb--,a(undefined),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}t.exports=v;var s,l=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?a:i.nextTick;v.WritableState=y;var c=Object.create(e("core-util-is"));c.inherits=e("inherits");var u,f={deprecate:e("util-deprecate")},p=e("./internal/streams/stream"),h=e("safe-buffer").Buffer,g=r.Uint8Array||function(){},d=e("./internal/streams/destroy");function m(){}function y(t,n){s=s||e("./_stream_duplex"),t=t||{};var r=n instanceof s;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var a=t.highWaterMark,c=t.writableHighWaterMark,u=this.objectMode?16:16384;this.highWaterMark=a||0===a?a:r&&(c||0===c)?c:u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===t.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,a=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,a){--t.pendingcb,n?(i.nextTick(a,r),i.nextTick(E,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(a(r),e._writableState.errorEmitted=!0,e.emit("error",r),E(e,t))}(e,n,r,t,a);else{var o=C(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||w(e,n),r?l(A,e,n,o,a):A(e,n,o,a)}}(n,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function v(t){if(s=s||e("./_stream_duplex"),!(u.call(v,this)||this instanceof s))return new v(t);this._writableState=new y(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),p.call(this)}function b(e,t,n,r,a,i,o){t.writelen=r,t.writecb=o,t.writing=!0,t.sync=!0,n?e._writev(a,t.onwrite):e._write(a,i,t.onwrite),t.sync=!1}function A(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),E(e,t)}function w(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,a=new Array(r),i=t.corkedRequestsFree;i.entry=n;for(var s=0,l=!0;n;)a[s]=n,n.isBuf||(l=!1),n=n.next,s+=1;a.allBuffers=l,b(e,t,!0,t.length,a,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,u=n.encoding,f=n.callback;if(b(e,t,!1,t.objectMode?1:c.length,c,u,f),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function C(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function x(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),E(e,t)}))}function E(e,t){var n=C(t);return n&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,i.nextTick(x,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}c.inherits(v,p),y.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(y.prototype,"buffer",{get:f.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(v,Symbol.hasInstance,{value:function(e){return!!u.call(this,e)||this===v&&e&&e._writableState instanceof y}})):u=function(e){return e instanceof this},v.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},v.prototype.write=function(e,t,n){var r,a=this._writableState,o=!1,s=!a.objectMode&&(r=e,h.isBuffer(r)||r instanceof g);return s&&!h.isBuffer(e)&&(e=function(e){return h.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=a.defaultEncoding),"function"!=typeof n&&(n=m),a.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),i.nextTick(t,n)}(this,n):(s||function(e,t,n,r){var a=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),i.nextTick(r,o),a=!1),a}(this,a,e,n))&&(a.pendingcb++,o=function(e,t,n,r,a,i){if(!n){var o=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=h.from(t,n)),t}(t,r,a);r!==o&&(n=!0,a="buffer",r=o)}var s=t.objectMode?1:r.length;t.length+=s;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:a,isBuf:n,callback:i,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else b(e,t,!1,s,r,a,i);return l}(this,a,s,e,t,n)),o},v.prototype.cork=function(){this._writableState.corked++},v.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||w(this,e))},v.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),v.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},v.prototype._writev=null,v.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,E(e,t),n&&(t.finished?i.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),v.prototype.destroy=d.destroy,v.prototype._undestroy=d.undestroy,v.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,e("_process"),void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("timers").setImmediate)},{"./_stream_duplex":31,"./internal/streams/destroy":37,"./internal/streams/stream":38,_process:29,"core-util-is":10,inherits:13,"process-nextick-args":28,"safe-buffer":39,timers:46,"util-deprecate":47}],36:[function(e,t,n){"use strict";var r=e("safe-buffer").Buffer,a=e("util");t.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,a=r.allocUnsafe(e>>>0),i=this.head,o=0;i;)t=a,n=o,i.data.copy(t,n),o+=i.data.length,i=i.next;return a},e}(),a&&a.inspect&&a.inspect.custom&&(t.exports.prototype[a.inspect.custom]=function(){var e=a.inspect({length:this.length});return this.constructor.name+" "+e})},{"safe-buffer":39,util:6}],37:[function(e,t,n){"use strict";var r=e("process-nextick-args");function a(e,t){e.emit("error",t)}t.exports={destroy:function(e,t){var n=this,i=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return i||o?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(a,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(r.nextTick(a,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":28}],38:[function(e,t,n){t.exports=e("events").EventEmitter},{events:11}],39:[function(e,t,n){var r=e("buffer"),a=r.Buffer;function i(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return a(e,t,n)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?t.exports=r:(i(r,n),n.Buffer=o),i(a,o),o.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return a(e,t,n)},o.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=a(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return a(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},{buffer:9}],40:[function(e,t,n){"use strict";var r=e("safe-buffer").Buffer,a=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===a||!a(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=u,this.end=f,t=3;break;default:return this.write=p,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function u(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function p(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}n.StringDecoder=i,i.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},i.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},i.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var a=o(t[r]);return a>=0?(a>0&&(e.lastNeed=a-1),a):--r<n||-2===a?0:(a=o(t[r]))>=0?(a>0&&(e.lastNeed=a-2),a):--r<n||-2===a?0:(a=o(t[r]))>=0?(a>0&&(2===a?a=0:e.lastNeed=a-3),a):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},i.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},{"safe-buffer":39}],41:[function(e,t,n){t.exports=e("./readable").PassThrough},{"./readable":42}],42:[function(e,t,n){(n=t.exports=e("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=e("./lib/_stream_writable.js"),n.Duplex=e("./lib/_stream_duplex.js"),n.Transform=e("./lib/_stream_transform.js"),n.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":31,"./lib/_stream_passthrough.js":32,"./lib/_stream_readable.js":33,"./lib/_stream_transform.js":34,"./lib/_stream_writable.js":35}],43:[function(e,t,n){t.exports=e("./readable").Transform},{"./readable":42}],44:[function(e,t,n){t.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":35}],45:[function(e,t,n){t.exports=a;var r=e("events").EventEmitter;function a(){r.call(this)}e("inherits")(a,r),a.Readable=e("readable-stream/readable.js"),a.Writable=e("readable-stream/writable.js"),a.Duplex=e("readable-stream/duplex.js"),a.Transform=e("readable-stream/transform.js"),a.PassThrough=e("readable-stream/passthrough.js"),a.Stream=a,a.prototype.pipe=function(e,t){var n=this;function a(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function i(){n.readable&&n.resume&&n.resume()}n.on("data",a),e.on("drain",i),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",l));var o=!1;function s(){o||(o=!0,e.end())}function l(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(u(),0===r.listenerCount(this,"error"))throw e}function u(){n.removeListener("data",a),e.removeListener("drain",i),n.removeListener("end",s),n.removeListener("close",l),n.removeListener("error",c),e.removeListener("error",c),n.removeListener("end",u),n.removeListener("close",u),e.removeListener("close",u)}return n.on("error",c),e.on("error",c),n.on("end",u),n.on("close",u),e.on("close",u),e.emit("pipe",n),e}},{events:11,inherits:13,"readable-stream/duplex.js":30,"readable-stream/passthrough.js":41,"readable-stream/readable.js":42,"readable-stream/transform.js":43,"readable-stream/writable.js":44}],46:[function(e,t,n){(function(t,r){var a=e("process/browser.js").nextTick,i=Function.prototype.apply,o=Array.prototype.slice,s={},l=0;function c(e,t){this._id=e,this._clearFn=t}n.setTimeout=function(){return new c(i.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new c(i.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n.setImmediate="function"==typeof t?t:function(e){var t=l++,r=!(arguments.length<2)&&o.call(arguments,1);return s[t]=!0,a((function(){s[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))})),t},n.clearImmediate="function"==typeof r?r:function(e){delete s[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":29,timers:46}],47:[function(e,t,r){(function(e){function n(t){try{if(!e.localStorage)return!1}catch(e){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],48:[function(e,t,n){arguments[4][2][0].apply(n,arguments)},{dup:2}],49:[function(e,t,n){arguments[4][3][0].apply(n,arguments)},{dup:3}],50:[function(e,t,n){arguments[4][4][0].apply(n,arguments)},{"./support/isBuffer":49,_process:29,dup:4,inherits:48}],51:[function(e,t,n){r=e("zlib")},{zlib:8}]},{},[51]),e.exports=r},892:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},o=[],s=0;s<e.length;s++){var l=e[s],c=r.base?l[0]+r.base:l[0],u=i[c]||0,f="".concat(c," ").concat(u);i[c]=u+1;var p=n(f),h={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)t[p].references++,t[p].updater(h);else{var g=a(h,r);r.byIndex=s,t.splice(s,0,{identifier:f,updater:g,references:1})}o.push(f)}return o}function a(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,a){var i=r(e=e||[],a=a||{});return function(e){e=e||[];for(var o=0;o<i.length;o++){var s=n(i[o]);t[s].references--}for(var l=r(e,a),c=0;c<i.length;c++){var u=n(i[c]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}i=l}}},311:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},60:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},192:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},760:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,a&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},865:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},304:e=>{e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},506:(e,t,n)=>{"use strict";e.exports=n.p+"9682077a4df01046ecf8.png"},576:(e,t,n)=>{"use strict";e.exports=n.p+"102ceacfc1192014ffa2.png"},363:e=>{"use strict";e.exports=React},533:e=>{"use strict";e.exports=ReactDOM}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={id:r,exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.p="/dofus-trap-network/",n.b=document.baseURI||self.location.href,n.nc=void 0,(()=>{"use strict";var e=n(363),t=n(892),r=n.n(t),a=n(760),i=n.n(a),o=n(311),s=n.n(o),l=n(192),c=n.n(l),u=n(60),f=n.n(u),p=n(865),h=n.n(p),g=n(542),d={};d.styleTagTransform=h(),d.setAttributes=c(),d.insert=s().bind(null,"head"),d.domAPI=i(),d.insertStyleElement=f(),r()(g.Z,d),g.Z&&g.Z.locals&&g.Z.locals,n(585),n(824);const m={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let y;const v=new Uint8Array(16);function b(){if(!y&&(y="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!y))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return y(v)}const A=[];for(let e=0;e<256;++e)A.push((e+256).toString(16).slice(1));const w=function(e,t,n){if(m.randomUUID&&!t&&!e)return m.randomUUID();const r=(e=e||{}).random||(e.rng||b)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return function(e,t=0){return(A[e[t+0]]+A[e[t+1]]+A[e[t+2]]+A[e[t+3]]+"-"+A[e[t+4]]+A[e[t+5]]+"-"+A[e[t+6]]+A[e[t+7]]+"-"+A[e[t+8]]+A[e[t+9]]+"-"+A[e[t+10]]+A[e[t+11]]+A[e[t+12]]+A[e[t+13]]+A[e[t+14]]+A[e[t+15]]).toLowerCase()}(r)};function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t,n){return t&&C(e.prototype,t),n&&C(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var E=x((function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.uuid=w(),this.type=t,this.pos=n,this.id=n.y*Ue.width+n.x}));const k=E;var _,S,T,P,O,j,M,L,R,I,N,D,B,F,U,z,W,G,Z;function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e[e.Ground=0]="Ground",e[e.Empty=1]="Empty",e[e.Wall=2]="Wall",e[e.Trap=3]="Trap"}(T||(T={})),function(e){e[e.Pull=0]="Pull",e[e.Push=1]="Push",e[e.WaterDamage=2]="WaterDamage",e[e.FireDamage=3]="FireDamage",e[e.EarthDamage=4]="EarthDamage",e[e.AirDamage=5]="AirDamage",e[e.NeutralDamage=6]="NeutralDamage",e[e.PushDamage=7]="PushDamage",e[e.IndirectPushDamage=8]="IndirectPushDamage",e[e.MPDamage=9]="MPDamage",e[e.DodgeDamage=10]="DodgeDamage",e[e.StealBestElement=11]="StealBestElement",e[e.PlaceTrap=12]="PlaceTrap",e[e.CreateEntity=13]="CreateEntity",e[e.StartPoint=14]="StartPoint",e[e.Remove=15]="Remove",e[e.Select=16]="Select",e[e.SpellAsTarget=17]="SpellAsTarget",e[e.SpellAsCaster=18]="SpellAsCaster",e[e.State=19]="State",e[e.RemoveState=20]="RemoveState",e[e.CancelSpell=21]="CancelSpell",e[e.BoostSpell=22]="BoostSpell",e[e.HealLastDamage=23]="HealLastDamage",e[e.PlaceEndTurnGlyph=24]="PlaceEndTurnGlyph",e[e.SymmetricalTeleport=25]="SymmetricalTeleport",e[e.Toggle=26]="Toggle"}(P||(P={})),function(e){e[e.Meta=0]="Meta",e[e.Movement=1]="Movement",e[e.Damage=2]="Damage",e[e.State=3]="State",e[e.Secondary=4]="Secondary",e[e.Spell=5]="Spell"}(O||(O={})),function(e){e[e.Cell=0]="Cell",e[e.Cross=1]="Cross",e[e.Circle=2]="Circle",e[e.Diagonal=3]="Diagonal",e[e.Square=4]="Square",e[e.Star=5]="Star"}(j||(j={})),function(e){e[e.Attacker=0]="Attacker",e[e.Defender=1]="Defender"}(M||(M={})),function(e){e[e.North=0]="North",e[e.East=1]="East",e[e.South=2]="South",e[e.West=3]="West",e[e.Northeast=4]="Northeast",e[e.Southeast=5]="Southeast",e[e.Southwest=6]="Southwest",e[e.Northwest=7]="Northwest",e[e.None=8]="None"}(L||(L={})),function(e){e[e.Player=0]="Player",e[e.Cawwot=1]="Cawwot",e[e.Poutch=2]="Poutch",e[e.Ally=3]="Ally"}(R||(R={})),function(e){e[e.Tricky=0]="Tricky",e[e.Insidious=1]="Insidious",e[e.Miry=2]="Miry",e[e.Mass=3]="Mass",e[e.Drift=4]="Drift",e[e.Malevolent=5]="Malevolent",e[e.Fragmentation=6]="Fragmentation",e[e.Paralysing=7]="Paralysing",e[e.Repelling=8]="Repelling",e[e.Sickrat=9]="Sickrat",e[e.Lethal=10]="Lethal",e[e.Calamity=11]="Calamity",e[e.MassGrave=12]="MassGrave",e[e.Test=13]="Test"}(I||(I={})),function(e){e[e.North=1]="North",e[e.East=2]="East",e[e.South=4]="South",e[e.West=8]="West"}(N||(N={})),function(e){e[e.WaterTrap=0]="WaterTrap",e[e.FireTrap=1]="FireTrap",e[e.EarthTrap=2]="EarthTrap",e[e.AirTrap=3]="AirTrap",e[e.MalusTrap=4]="MalusTrap",e[e.Entity=5]="Entity",e[e.Other=6]="Other",e[e.None=7]="None",e[e.Action=8]="Action"}(D||(D={})),function(e){e[e.TrickyTrap=0]="TrickyTrap",e[e.DriftTrap=1]="DriftTrap",e[e.FragmentationTrap=2]="FragmentationTrap",e[e.MassTrap=3]="MassTrap",e[e.LethalTrap=4]="LethalTrap",e[e.MalevolentTrap=5]="MalevolentTrap",e[e.RepellingTrap=6]="RepellingTrap",e[e.InsidiousTrap=7]="InsidiousTrap",e[e.MiryTrap=8]="MiryTrap",e[e.SickratTrap=9]="SickratTrap",e[e.Calamity=10]="Calamity",e[e.ParalysingTrap=11]="ParalysingTrap",e[e.MassGrave=12]="MassGrave",e[e.Ally=13]="Ally",e[e.Poutch=14]="Poutch",e[e.Cawwot=15]="Cawwot",e[e.Chakra=16]="Chakra",e[e.TestTrap=17]="TestTrap",e[e.StartPoint=18]="StartPoint",e[e.Remove=19]="Remove",e[e.Desynchronisation=20]="Desynchronisation",e[e.Select=21]="Select",e[e.Leukide=22]="Leukide"}(B||(B={})),function(e){e[e.Waiting=0]="Waiting",e[e.Current=1]="Current",e[e.Completed=2]="Completed"}(F||(F={})),function(e){e.StartPoint="Start Point",e.Remove="Remove"}(U||(U={})),function(e){e.Ally="a",e.Enemy="A",e.NotClass="b",e.Class="B",e.Caster="c",e.CasterEverywhere="C",e.SidekickAlly="d",e.SidekickEnemy="D",e.State="e",e.NotState="E",e.NotMonster="f",e.Monster="F",e.AllyNotCaster="g",e.PlayerAlly="h",e.PlayerEnemy="H",e.NotStaticSummonAlly="i",e.NotStaticSummonEnemy="I",e.SummonAlly="j",e.SummonEnemy="J",e.Carried="K",e.PlayerSidekickAlly="l",e.PlayerSidekickEnemy="L",e.MonsterAlly="m",e.MonsterEnemy="M",e.Triggerer="o",e.TriggererEverywhere="O",e.NotSummonGroup="p",e.SummonGroup="P",e.CanSummon="q",e.CannotSummon="Q",e.NotBehindPortal="r",e.BehindPortal="R",e.StaticSummonAlly="s",e.StaticSummonEnemy="S",e.Telefragged="T",e.PlayerSummon="u",e.JustAppeared="U",e.LifeAbove="v",e.NotLifeAbove="V",e.FailedTeleport="W",e.Sidekick="Z",e.NotSidekick="z"}(z||(z={})),function(e){e[e.onDamage=0]="onDamage",e[e.onTrapDamage=1]="onTrapDamage"}(W||(W={})),function(e){e[e.MassTrap=1]="MassTrap",e[e.Gravity=2]="Gravity",e[e.Chakra=4]="Chakra"}(G||(G={})),function(e){e[e.Neutral=0]="Neutral",e[e.Earth=1]="Earth",e[e.Fire=2]="Fire",e[e.Water=3]="Water",e[e.Air=4]="Air"}(Z||(Z={}));var Y,q=(H(_={},G.MassTrap,"Mass Trap"),H(_,G.Gravity,"Gravity"),_),V={12128795:"fire",5911580:"earth",1798857:"water",9895830:"air",3222918:"utility",16777215:"test",0:"desynchro"},K=(H(S={},P.Pull,O.Movement),H(S,P.Push,O.Movement),H(S,P.WaterDamage,O.Damage),H(S,P.FireDamage,O.Damage),H(S,P.EarthDamage,O.Damage),H(S,P.AirDamage,O.Damage),H(S,P.NeutralDamage,O.Damage),H(S,P.PushDamage,O.Damage),H(S,P.IndirectPushDamage,O.Damage),H(S,P.MPDamage,O.Secondary),H(S,P.DodgeDamage,O.Secondary),H(S,P.StealBestElement,O.Damage),H(S,P.PlaceTrap,O.Meta),H(S,P.CreateEntity,O.Meta),H(S,P.StartPoint,O.Meta),H(S,P.Remove,O.Meta),H(S,P.SpellAsTarget,O.Spell),H(S,P.SpellAsCaster,O.Spell),H(S,P.State,O.State),H(S,P.RemoveState,O.State),H(S,P.CancelSpell,O.Secondary),H(S,P.BoostSpell,O.Secondary),H(S,P.HealLastDamage,O.Secondary),H(S,P.PlaceEndTurnGlyph,O.Secondary),S);function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const X=($(Y={},R.Cawwot,{type:R.Cawwot,name:"Cawwot",image:"./assets/img/entities/Cawwot.png",offsetX:.03,offsetY:.15,defaultScale:1.48,movable:!1}),$(Y,R.Poutch,{type:R.Poutch,name:"Poutch",image:"./assets/img/entities/Poutch.png",offsetX:-.05,offsetY:.05,defaultScale:1.46,movable:!0}),$(Y,R.Player,{type:R.Player,name:"Player",image:"./assets/img/entities/Sram.png",offsetX:0,offsetY:.05,defaultScale:1.1,movable:!0}),$(Y,R.Ally,{type:R.Ally,name:"Ally",image:"./assets/img/entities/Ally.png",offsetX:0,offsetY:.05,defaultScale:1.1,movable:!0}),Y);var J;function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ee=(Q(J={},B.TrickyTrap,{name:"Tricky Trap",icon:"./assets/img/spells/TrickyTrap.svg",sfx:"./assets/img/traps/Tricky.svg",sfxSize:1,category:D.FireTrap,levels:[{apCost:3,maxStack:0,maxCastPerTurn:1,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:1,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.PlaceTrap,value:12128795,min:1001,max:0,triggers:null,area:{type:j.Cross,min:0,max:1}}]},{apCost:3,maxStack:0,maxCastPerTurn:1,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:1,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.PlaceTrap,value:12128795,min:1001,max:1,triggers:null,area:{type:j.Cross,min:0,max:1}}]},{apCost:3,maxStack:0,maxCastPerTurn:1,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:1,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.PlaceTrap,value:12128795,min:1001,max:2,triggers:null,area:{type:j.Cross,min:0,max:1}}]}]}),Q(J,B.DriftTrap,{name:"Drift Trap",icon:"./assets/img/spells/DriftTrap.svg",sfx:"./assets/img/traps/Drift.svg",sfxSize:1,category:D.FireTrap,levels:[{apCost:2,maxStack:0,maxCastPerTurn:1,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:140,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.PlaceTrap,value:12128795,min:1002,max:0,triggers:null,area:{type:j.Diagonal,min:0,max:1}}]}]}),Q(J,B.FragmentationTrap,{name:"Fragmentation Trap",icon:"./assets/img/spells/FragmentationTrap.svg",sfx:"./assets/img/traps/Fragmentation.svg",sfxSize:1,category:D.FireTrap,levels:[{apCost:4,maxStack:0,maxCastPerTurn:1,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:40,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.PlaceTrap,value:12128795,min:1003,max:0,triggers:null,area:{type:j.Cell,min:0,max:1}}]},{apCost:4,maxStack:0,maxCastPerTurn:1,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:107,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.PlaceTrap,value:12128795,min:1003,max:1,triggers:null,area:{type:j.Cell,min:0,max:1}}]},{apCost:4,maxStack:0,maxCastPerTurn:1,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:174,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.PlaceTrap,value:12128795,min:1003,max:2,triggers:null,area:{type:j.Cell,min:0,max:1}}]}]}),Q(J,B.MassTrap,{name:"Mass Trap",icon:"./assets/img/spells/MassTrap.svg",sfx:"./assets/img/traps/Mass.svg",sfxSize:1,category:D.EarthTrap,levels:[{apCost:4,maxStack:0,maxCastPerTurn:2,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:25,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.PlaceTrap,value:5911580,min:1004,max:0,triggers:null,area:{type:j.Cell,min:0,max:0}}]},{apCost:4,maxStack:0,maxCastPerTurn:2,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:92,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.PlaceTrap,value:5911580,min:1004,max:1,triggers:null,area:{type:j.Cell,min:0,max:0}}]},{apCost:4,maxStack:0,maxCastPerTurn:2,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:159,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.PlaceTrap,value:5911580,min:1004,max:2,triggers:null,area:{type:j.Cell,min:0,max:0}}]}]}),Q(J,B.LethalTrap,{name:"Lethal Trap",icon:"./assets/img/spells/LethalTrap.svg",sfx:"./assets/img/traps/Lethal.svg",sfxSize:1,category:D.EarthTrap,levels:[{apCost:3,maxStack:0,maxCastPerTurn:2,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:85,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.PlaceTrap,value:5911580,min:1005,max:0,triggers:null,area:{type:j.Cell,min:0,max:0}}]},{apCost:3,maxStack:0,maxCastPerTurn:2,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:152,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.PlaceTrap,value:5911580,min:1005,max:1,triggers:null,area:{type:j.Cell,min:0,max:0}}]}]}),Q(J,B.MalevolentTrap,{name:"Malevolent Trap",icon:"./assets/img/spells/MalevolentTrap.svg",sfx:"./assets/img/traps/Malevolent.svg",sfxSize:1,category:D.EarthTrap,levels:[{apCost:3,maxStack:0,maxCastPerTurn:2,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:35,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.PlaceTrap,value:5911580,min:1006,max:0,triggers:null,area:{type:j.Cell,min:0,max:0}}]},{apCost:3,maxStack:0,maxCastPerTurn:2,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:102,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.PlaceTrap,value:5911580,min:1006,max:1,triggers:null,area:{type:j.Cell,min:0,max:0}}]},{apCost:3,maxStack:0,maxCastPerTurn:2,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:169,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.PlaceTrap,value:5911580,min:1006,max:2,triggers:null,area:{type:j.Cell,min:0,max:0}}]}]}),Q(J,B.RepellingTrap,{name:"Repelling Trap",icon:"./assets/img/spells/RepellingTrap.svg",sfx:"./assets/img/traps/Repelling.svg",sfxSize:1,category:D.AirTrap,levels:[{apCost:3,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:1,initialCooldown:0,globalCooldown:0,minPlayerLevel:55,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.PlaceTrap,value:9895830,min:1007,max:0,triggers:null,area:{type:j.Cross,min:0,max:1}}]},{apCost:3,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:1,initialCooldown:0,globalCooldown:0,minPlayerLevel:122,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.PlaceTrap,value:9895830,min:1007,max:1,triggers:null,area:{type:j.Cross,min:0,max:1}}]},{apCost:3,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:1,initialCooldown:0,globalCooldown:0,minPlayerLevel:189,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.PlaceTrap,value:9895830,min:1007,max:2,triggers:null,area:{type:j.Cross,min:0,max:1}}]}]}),Q(J,B.InsidiousTrap,{name:"Insidious Trap",icon:"./assets/img/spells/InsidiousTrap.svg",sfx:"./assets/img/traps/Insidious.svg",sfxSize:1,category:D.AirTrap,levels:[{apCost:3,maxStack:0,maxCastPerTurn:2,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:6,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.PlaceTrap,value:9895830,min:1008,max:0,triggers:null,area:{type:j.Cell,min:0,max:0}}]},{apCost:3,maxStack:0,maxCastPerTurn:2,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:71,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.PlaceTrap,value:9895830,min:1008,max:1,triggers:null,area:{type:j.Cell,min:0,max:0}}]},{apCost:3,maxStack:0,maxCastPerTurn:2,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:138,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.PlaceTrap,value:9895830,min:1008,max:2,triggers:null,area:{type:j.Cell,min:0,max:0}}]}]}),Q(J,B.MiryTrap,{name:"Miry Trap",icon:"./assets/img/spells/MiryTrap.svg",sfx:"./assets/img/traps/Miry.svg",sfxSize:1,category:D.WaterTrap,levels:[{apCost:3,maxStack:0,maxCastPerTurn:1,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:20,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.PlaceTrap,value:1798857,min:1009,max:0,triggers:null,area:{type:j.Cell,min:0,max:0}}]},{apCost:3,maxStack:0,maxCastPerTurn:1,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:87,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.PlaceTrap,value:1798857,min:1009,max:1,triggers:null,area:{type:j.Cell,min:0,max:0}}]},{apCost:3,maxStack:0,maxCastPerTurn:1,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:154,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.PlaceTrap,value:1798857,min:1009,max:2,triggers:null,area:{type:j.Cell,min:0,max:0}}]}]}),Q(J,B.SickratTrap,{name:"Sickrat Trap",icon:"./assets/img/spells/SickratTrap.svg",sfx:"./assets/img/traps/Sickrat.svg",sfxSize:1,category:D.WaterTrap,levels:[{apCost:2,maxStack:0,maxCastPerTurn:1,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:75,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.PlaceTrap,value:1798857,min:1011,max:0,triggers:null,area:{type:j.Cell,min:0,max:0}}]},{apCost:2,maxStack:0,maxCastPerTurn:1,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:142,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.PlaceTrap,value:1798857,min:1011,max:1,triggers:null,area:{type:j.Cell,min:0,max:0}}]}]}),Q(J,B.Calamity,{name:"Calamity",icon:"./assets/img/spells/Calamity.svg",sfx:"./assets/img/traps/Calamity.svg",sfxSize:1,category:D.WaterTrap,levels:[{apCost:4,maxStack:0,maxCastPerTurn:1,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:180,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.PlaceTrap,value:1798857,min:1012,max:0,triggers:null,area:{type:j.Cell,min:0,max:0}}]}]}),Q(J,B.ParalysingTrap,{name:"Paralysing Trap",icon:"./assets/img/spells/ParalysingTrap.svg",sfx:"./assets/img/traps/Paralysing.svg",sfxSize:1,category:D.MalusTrap,levels:[{apCost:3,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:6,initialCooldown:0,globalCooldown:0,minPlayerLevel:45,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.PlaceTrap,value:3222918,min:1013,max:0,triggers:null,area:{type:j.Circle,min:0,max:2}}]},{apCost:3,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:5,initialCooldown:0,globalCooldown:0,minPlayerLevel:112,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.PlaceTrap,value:3222918,min:1013,max:1,triggers:null,area:{type:j.Circle,min:0,max:3}}]},{apCost:3,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:4,initialCooldown:0,globalCooldown:0,minPlayerLevel:179,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.PlaceTrap,value:3222918,min:1013,max:2,triggers:null,area:{type:j.Circle,min:0,max:3}}]}]}),Q(J,B.MassGrave,{name:"Mass Grave",icon:"./assets/img/spells/MassGrave.svg",sfx:"./assets/img/traps/MassGrave.svg",sfxSize:1,category:D.MalusTrap,levels:[{apCost:3,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:3,initialCooldown:0,globalCooldown:0,minPlayerLevel:155,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.PlaceTrap,value:3222918,min:1014,max:0,triggers:null,area:{type:j.Cell,min:0,max:0}}]}]}),Q(J,B.Chakra,{name:"Chakra Concentration",icon:"./assets/img/spells/ChakraConcentration.svg",sfx:null,sfxSize:1,category:D.Other,levels:[{apCost:2,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:4,initialCooldown:0,globalCooldown:0,minPlayerLevel:65,effects:[{targetMask:"".concat(z.Enemy),effectType:P.Toggle,value:0,min:1018,max:0,triggers:null,area:{type:j.Cell,min:0,max:0}}]},{apCost:2,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:4,initialCooldown:0,globalCooldown:0,minPlayerLevel:131,effects:[{targetMask:"".concat(z.Enemy),effectType:P.Toggle,value:0,min:1018,max:1,triggers:null,area:{type:j.Cell,min:0,max:0}}]},{apCost:2,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:3,initialCooldown:0,globalCooldown:0,minPlayerLevel:198,effects:[{targetMask:"".concat(z.Enemy),effectType:P.Toggle,value:0,min:1018,max:2,triggers:null,area:{type:j.Cell,min:0,max:0}}]}]}),Q(J,B.Desynchronisation,{name:"Desynchronisation",icon:"./assets/img/spells/Desynchronisation.svg",sfx:"./assets/img/traps/Desynchronisation.svg",sfxSize:3.5,category:D.Other,levels:[{apCost:2,maxStack:0,maxCastPerTurn:2,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:90,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.PlaceTrap,value:0,min:1017,max:0,triggers:null,area:{type:j.Cell,min:0,max:0}}]},{apCost:2,maxStack:0,maxCastPerTurn:2,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:157,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.PlaceTrap,value:0,min:1017,max:0,triggers:null,area:{type:j.Cell,min:0,max:0}}]}]}),Q(J,B.TestTrap,{name:"Test Trap",icon:"./assets/img/spells/TestTrap.svg",sfx:"./assets/img/traps/Test.svg",sfxSize:1,category:null,levels:[{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.PlaceTrap,value:16777215,min:1016,max:0,triggers:null,area:{type:j.Cross,min:0,max:1}}]}]}),Q(J,1001,{name:"Tricky Trap",icon:"./assets/img/spells/TrickyTrap.svg",sfx:"./assets/img/traps/Tricky.svg",sfxSize:1,category:D.None,levels:[{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.Enemy),effectType:P.FireDamage,value:0,min:18,max:20,triggers:null,area:{type:j.Cross,min:0,max:1}},{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.Pull,value:0,min:1,max:1,triggers:null,area:{type:j.Cross,min:0,max:1}}]},{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.Enemy),effectType:P.FireDamage,value:0,min:22,max:24,triggers:null,area:{type:j.Cross,min:0,max:1}},{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.Pull,value:0,min:1,max:1,triggers:null,area:{type:j.Cross,min:0,max:1}}]},{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.Enemy),effectType:P.FireDamage,value:0,min:26,max:28,triggers:null,area:{type:j.Cross,min:0,max:1}},{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.Pull,value:0,min:1,max:1,triggers:null,area:{type:j.Cross,min:0,max:1}}]}]}),Q(J,1002,{name:"Drift Trap",icon:"./assets/img/spells/DriftTrap.svg",sfx:"./assets/img/traps/Drift.svg",sfxSize:1,category:D.None,levels:[{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.Enemy),effectType:P.FireDamage,value:0,min:17,max:19,triggers:null,area:{type:j.Diagonal,min:0,max:1}},{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.Push,value:0,min:2,max:2,triggers:null,area:{type:j.Diagonal,min:0,max:1}}]}]}),Q(J,1003,{name:"Fragmentation Trap",icon:"./assets/img/spells/FragmentationTrap.svg",sfx:"./assets/img/traps/Fragmentation.svg",sfxSize:1,category:D.None,levels:[{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.Enemy),effectType:P.FireDamage,value:0,min:4,max:7,triggers:null,area:{type:j.Cell,min:0,max:0}},{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.FireDamage,value:0,min:8,max:10,triggers:null,area:{type:j.Circle,min:1,max:1}},{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.FireDamage,value:0,min:18,max:20,triggers:null,area:{type:j.Circle,min:2,max:2}},{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.FireDamage,value:0,min:28,max:30,triggers:null,area:{type:j.Circle,min:3,max:3}}]},{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.Enemy),effectType:P.FireDamage,value:0,min:7,max:10,triggers:null,area:{type:j.Cell,min:0,max:0}},{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.FireDamage,value:0,min:17,max:21,triggers:null,area:{type:j.Circle,min:1,max:1}},{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.FireDamage,value:0,min:28,max:31,triggers:null,area:{type:j.Circle,min:2,max:2}},{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.FireDamage,value:0,min:38,max:41,triggers:null,area:{type:j.Circle,min:3,max:3}}]},{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.Enemy),effectType:P.FireDamage,value:0,min:13,max:17,triggers:null,area:{type:j.Cell,min:0,max:0}},{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.FireDamage,value:0,min:27,max:31,triggers:null,area:{type:j.Circle,min:1,max:1}},{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.FireDamage,value:0,min:37,max:41,triggers:null,area:{type:j.Circle,min:2,max:2}},{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.FireDamage,value:0,min:47,max:51,triggers:null,area:{type:j.Circle,min:3,max:3}}]}]}),Q(J,1004,{name:"Mass Trap",icon:"./assets/img/spells/MassTrap.svg",sfx:"./assets/img/traps/Mass.svg",sfxSize:1,category:D.None,levels:[{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.Ally),effectType:P.State,value:0,min:G.MassTrap,max:0,triggers:null,area:{type:j.Cell,min:0,max:0}},{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.SpellAsCaster,value:0,min:1004,max:3,triggers:null,area:{type:j.Cell,min:0,max:0}},{targetMask:"".concat(z.Ally),effectType:P.RemoveState,value:0,min:G.MassTrap,max:0,triggers:null,area:{type:j.Cell,min:0,max:1}}]},{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.Ally),effectType:P.State,value:0,min:G.MassTrap,max:0,triggers:null,area:{type:j.Cell,min:0,max:0}},{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.SpellAsCaster,value:0,min:1004,max:4,triggers:null,area:{type:j.Cell,min:0,max:0}},{targetMask:"".concat(z.Ally),effectType:P.RemoveState,value:0,min:G.MassTrap,max:0,triggers:null,area:{type:j.Cell,min:0,max:1}}]},{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.Ally),effectType:P.State,value:0,min:G.MassTrap,max:0,triggers:null,area:{type:j.Cell,min:0,max:0}},{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.SpellAsCaster,value:0,min:1004,max:5,triggers:null,area:{type:j.Cell,min:0,max:0}},{targetMask:"".concat(z.Ally),effectType:P.RemoveState,value:0,min:G.MassTrap,max:0,triggers:null,area:{type:j.Cell,min:0,max:1}}]},{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy,",").concat(z.NotState).concat(G.MassTrap),effectType:P.EarthDamage,value:0,min:24,max:28,triggers:null,area:{type:j.Circle,min:0,max:3}}]},{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy,",").concat(z.NotState).concat(G.MassTrap),effectType:P.EarthDamage,value:0,min:29,max:33,triggers:null,area:{type:j.Circle,min:0,max:3}}]},{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy,",").concat(z.NotState).concat(G.MassTrap),effectType:P.EarthDamage,value:0,min:34,max:38,triggers:null,area:{type:j.Circle,min:0,max:3}}]}]}),Q(J,1005,{name:"Lethal Trap",icon:"./assets/img/spells/LethalTrap.svg",sfx:"./assets/img/traps/Lethal.svg",sfxSize:1,category:D.None,levels:[{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy,",").concat(z.LifeAbove,"25"),effectType:P.EarthDamage,value:0,min:31,max:35,triggers:null,area:{type:j.Cell,min:0,max:1}},{targetMask:"".concat(z.Ally,",").concat(z.Enemy,",").concat(z.NotLifeAbove,"25"),effectType:P.EarthDamage,value:0,min:39,max:44,triggers:null,area:{type:j.Cell,min:0,max:1}}]},{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy,",").concat(z.LifeAbove,"25"),effectType:P.EarthDamage,value:0,min:39,max:43,triggers:null,area:{type:j.Cell,min:0,max:1}},{targetMask:"".concat(z.Ally,",").concat(z.Enemy,",").concat(z.NotLifeAbove,"25"),effectType:P.EarthDamage,value:0,min:49,max:54,triggers:null,area:{type:j.Cell,min:0,max:1}}]}]}),Q(J,1006,{name:"Malevolent Trap",icon:"./assets/img/spells/MalevolentTrap.svg",sfx:"./assets/img/traps/Malevolent.svg",sfxSize:1,category:D.None,levels:[{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.CasterEverywhere),effectType:P.CancelSpell,value:0,min:1006,max:0,triggers:null,area:{type:j.Cell,min:0,max:0}},{targetMask:"".concat(z.Enemy),effectType:P.SpellAsCaster,value:0,min:1006,max:3,triggers:null,area:{type:j.Circle,min:1,max:2}},{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.EarthDamage,value:0,min:18,max:20,triggers:null,area:{type:j.Cell,min:0,max:0}},{targetMask:"".concat(z.CasterEverywhere),effectType:P.CancelSpell,value:0,min:1006,max:0,triggers:null,area:{type:j.Cell,min:0,max:0}}]},{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.CasterEverywhere),effectType:P.CancelSpell,value:0,min:1006,max:0,triggers:null,area:{type:j.Cell,min:0,max:0}},{targetMask:"".concat(z.Enemy),effectType:P.SpellAsCaster,value:0,min:1006,max:4,triggers:null,area:{type:j.Circle,min:1,max:2}},{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.EarthDamage,value:0,min:23,max:26,triggers:null,area:{type:j.Cell,min:0,max:0}},{targetMask:"".concat(z.CasterEverywhere),effectType:P.CancelSpell,value:0,min:1006,max:0,triggers:null,area:{type:j.Cell,min:0,max:0}}]},{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.CasterEverywhere),effectType:P.CancelSpell,value:0,min:1006,max:0,triggers:null,area:{type:j.Cell,min:0,max:0}},{targetMask:"".concat(z.Enemy),effectType:P.SpellAsCaster,value:0,min:1006,max:5,triggers:null,area:{type:j.Circle,min:1,max:2}},{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.EarthDamage,value:0,min:28,max:32,triggers:null,area:{type:j.Cell,min:0,max:0}},{targetMask:"".concat(z.CasterEverywhere),effectType:P.CancelSpell,value:0,min:1006,max:0,triggers:null,area:{type:j.Cell,min:0,max:0}}]},{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.CasterEverywhere),effectType:P.BoostSpell,value:0,min:1006,max:10,triggers:null,area:{type:j.Cell,min:0,max:0}}]},{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.CasterEverywhere),effectType:P.BoostSpell,value:0,min:1006,max:15,triggers:null,area:{type:j.Cell,min:0,max:0}}]},{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.CasterEverywhere),effectType:P.BoostSpell,value:0,min:1006,max:20,triggers:null,area:{type:j.Cell,min:0,max:0}}]}]}),Q(J,1007,{name:"Repelling Trap",icon:"./assets/img/spells/RepellingTrap.svg",sfx:"./assets/img/traps/Repelling.svg",sfxSize:1,category:D.None,levels:[{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.Push,value:0,min:2,max:2,triggers:null,area:{type:j.Cross,min:0,max:1}},{targetMask:"".concat(z.Enemy),effectType:P.AirDamage,value:0,min:8,max:8,triggers:null,area:{type:j.Cross,min:0,max:1}}]},{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.Push,value:0,min:2,max:2,triggers:null,area:{type:j.Cross,min:0,max:1}},{targetMask:"".concat(z.Enemy),effectType:P.AirDamage,value:0,min:10,max:10,triggers:null,area:{type:j.Cross,min:0,max:1}}]},{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.Push,value:0,min:2,max:2,triggers:null,area:{type:j.Cross,min:0,max:1}},{targetMask:"".concat(z.Enemy),effectType:P.AirDamage,value:0,min:12,max:12,triggers:null,area:{type:j.Cross,min:0,max:1}}]}]}),Q(J,1008,{name:"Insidious Trap",icon:"./assets/img/spells/InsidiousTrap.svg",sfx:"./assets/img/traps/Insidious.svg",sfxSize:1,category:D.None,levels:[{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.PlaceEndTurnGlyph,value:9895830,min:1008,max:3,triggers:null,area:{type:j.Circle,min:0,max:3}}]},{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.PlaceEndTurnGlyph,value:9895830,min:1008,max:4,triggers:null,area:{type:j.Circle,min:0,max:3}}]},{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.PlaceEndTurnGlyph,value:9895830,min:1008,max:5,triggers:null,area:{type:j.Circle,min:0,max:3}}]},{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.Enemy),effectType:P.AirDamage,value:0,min:34,max:38,triggers:null,area:{type:j.Circle,min:0,max:3}}]},{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.Enemy),effectType:P.AirDamage,value:0,min:41,max:45,triggers:null,area:{type:j.Circle,min:0,max:3}}]},{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.Enemy),effectType:P.AirDamage,value:0,min:48,max:52,triggers:null,area:{type:j.Circle,min:0,max:3}}]}]}),Q(J,1009,{name:"Miry Trap",icon:"./assets/img/spells/MiryTrap.svg",sfx:"./assets/img/traps/Miry.svg",sfxSize:1,category:D.None,levels:[{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.WaterDamage,value:0,min:21,max:25,triggers:null,area:{type:j.Cell,min:0,max:0}},{targetMask:"".concat(z.Enemy),effectType:P.SpellAsTarget,value:0,min:1010,max:0,triggers:null,area:{type:j.Cell,min:0,max:0}},{targetMask:"".concat(z.Ally),effectType:P.SpellAsTarget,value:0,min:1010,max:1,triggers:null,area:{type:j.Cell,min:0,max:0}}]},{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.WaterDamage,value:0,min:27,max:31,triggers:null,area:{type:j.Cell,min:0,max:0}},{targetMask:"".concat(z.Enemy),effectType:P.SpellAsTarget,value:0,min:1010,max:0,triggers:null,area:{type:j.Cell,min:0,max:0}},{targetMask:"".concat(z.Ally),effectType:P.SpellAsTarget,value:0,min:1010,max:1,triggers:null,area:{type:j.Cell,min:0,max:0}}]},{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.WaterDamage,value:0,min:33,max:37,triggers:null,area:{type:j.Cell,min:0,max:0}},{targetMask:"".concat(z.Enemy),effectType:P.SpellAsTarget,value:0,min:1010,max:0,triggers:null,area:{type:j.Cell,min:0,max:0}},{targetMask:"".concat(z.Ally),effectType:P.SpellAsTarget,value:0,min:1010,max:1,triggers:null,area:{type:j.Cell,min:0,max:0}}]}]}),Q(J,1010,{name:"Miry Trap",icon:"./assets/img/spells/MiryTrap.svg",sfx:"./assets/img/traps/Miry.svg",sfxSize:1,category:D.None,levels:[{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.Enemy),effectType:P.HealLastDamage,value:0,min:50,max:50,triggers:null,area:{type:j.Circle,min:1,max:2}}]},{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.Ally),effectType:P.HealLastDamage,value:0,min:50,max:50,triggers:null,area:{type:j.Circle,min:1,max:2}}]}]}),Q(J,1011,{name:"Sickrat Trap",icon:"./assets/img/spells/SickratTrap.svg",sfx:"./assets/img/traps/Sickrat.svg",sfxSize:1,category:D.None,levels:[{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.Pull,value:0,min:3,max:3,triggers:null,area:{type:j.Cross,min:1,max:3}},{targetMask:"".concat(z.Enemy),effectType:P.WaterDamage,value:0,min:13,max:15,triggers:null,area:{type:j.Cross,min:0,max:3}}]},{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.Pull,value:0,min:3,max:3,triggers:null,area:{type:j.Cross,min:1,max:3}},{targetMask:"".concat(z.Enemy),effectType:P.WaterDamage,value:0,min:17,max:19,triggers:null,area:{type:j.Cross,min:0,max:3}}]}]}),Q(J,1012,{name:"Calamity",icon:"./assets/img/spells/Calamity.svg",sfx:"./assets/img/traps/Calamity.svg",sfxSize:1,category:D.None,levels:[{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.Enemy),effectType:P.WaterDamage,value:0,min:40,max:44,triggers:null,area:{type:j.Square,min:0,max:1}},{targetMask:"".concat(z.Enemy),effectType:P.DodgeDamage,value:0,min:40,max:40,triggers:null,area:{type:j.Square,min:0,max:1}}]}]}),Q(J,1013,{name:"Paralysing Trap",icon:"./assets/img/spells/ParalysingTrap.svg",sfx:"./assets/img/traps/Paralysing.svg",sfxSize:1,category:D.None,levels:[{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.Enemy),effectType:P.MPDamage,value:0,min:4,max:4,triggers:null,area:{type:j.Circle,min:0,max:3}}]},{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.Enemy),effectType:P.MPDamage,value:0,min:4,max:4,triggers:null,area:{type:j.Circle,min:0,max:3}}]},{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.Enemy),effectType:P.MPDamage,value:0,min:4,max:4,triggers:null,area:{type:j.Circle,min:0,max:3}}]}]}),Q(J,1014,{name:"Mass Grave",icon:"./assets/img/spells/MassGrave.svg",sfx:"./assets/img/traps/MassGrave.svg",sfxSize:1,category:D.None,levels:[{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.State,value:0,min:G.Gravity,max:0,triggers:null,area:{type:j.Circle,min:0,max:2}}]}]}),Q(J,1015,{name:"Chakra Concentration",icon:"./assets/img/spells/ChakraConcentration.svg",sfx:null,sfxSize:1,category:D.None,levels:[{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.Enemy),effectType:P.StealBestElement,value:0,min:11,max:11,triggers:null,area:{type:j.Cell,min:0,max:0}}]},{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.Enemy),effectType:P.StealBestElement,value:0,min:13,max:13,triggers:null,area:{type:j.Cell,min:0,max:0}}]},{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.Enemy),effectType:P.StealBestElement,value:0,min:15,max:15,triggers:null,area:{type:j.Cell,min:0,max:0}}]}]}),Q(J,1016,{name:"Test Trap",icon:"./assets/img/spells/TestTrap.svg",sfx:"./assets/img/traps/Test.svg",sfxSize:1,category:D.None,levels:[{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.Push,value:0,min:2,max:2,triggers:null,area:{type:j.Cross,min:0,max:1}},{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.Pull,value:0,min:2,max:2,triggers:null,area:{type:j.Cross,min:0,max:1}}]}]}),Q(J,1017,{name:"Desynchronisation",icon:"./assets/img/spells/Desynchronisation.svg",sfx:"./assets/img/traps/Desynchronisation.svg",sfxSize:3.5,category:D.None,levels:[{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.SymmetricalTeleport,value:0,min:0,max:0,triggers:null,area:{type:j.Circle,min:1,max:2}}]}]}),Q(J,1018,{name:"Chakra Concentration",icon:"./assets/img/spells/ChakraConcentration.svg",sfx:null,sfxSize:1,category:D.None,levels:[{apCost:2,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:4,initialCooldown:0,globalCooldown:0,minPlayerLevel:65,effects:[{targetMask:"".concat(z.Enemy),effectType:P.State,value:0,min:G.Chakra,max:0,triggers:null,area:{type:j.Cell,min:0,max:0}},{targetMask:"".concat(z.Enemy),effectType:P.SpellAsCaster,value:0,min:1015,max:0,triggers:W.onTrapDamage,area:{type:j.Cell,min:0,max:0}}]},{apCost:2,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:4,initialCooldown:0,globalCooldown:0,minPlayerLevel:131,effects:[{targetMask:"".concat(z.Enemy),effectType:P.State,value:0,min:G.Chakra,max:0,triggers:null,area:{type:j.Cell,min:0,max:0}},{targetMask:"".concat(z.Enemy),effectType:P.SpellAsCaster,value:0,min:1015,max:1,triggers:W.onTrapDamage,area:{type:j.Cell,min:0,max:1}}]},{apCost:2,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:3,initialCooldown:0,globalCooldown:0,minPlayerLevel:198,effects:[{targetMask:"".concat(z.Enemy),effectType:P.State,value:0,min:G.Chakra,max:0,triggers:null,area:{type:j.Cell,min:0,max:0}},{targetMask:"".concat(z.Enemy),effectType:P.SpellAsCaster,value:0,min:1015,max:2,triggers:W.onTrapDamage,area:{type:j.Cell,min:0,max:1}}]}]}),Q(J,B.Poutch,{name:"Poutch Ingball",icon:"./assets/img/spells/Poutch.svg",sfx:"./assets/img/entities/Poutch.png",sfxSize:1,category:D.Entity,levels:[{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.CreateEntity,value:R.Poutch,min:M.Defender,max:0,triggers:null,area:{type:j.Cell,min:0,max:0}}]}]}),Q(J,B.Ally,{name:"Ally",icon:"./assets/img/spells/Double.svg",sfx:"./assets/img/entities/Ally.png",sfxSize:1,category:D.Entity,levels:[{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.CreateEntity,value:R.Ally,min:M.Attacker,max:0,triggers:null,area:{type:j.Cell,min:0,max:0}}]}]}),Q(J,B.Cawwot,{name:"Cawwot",icon:"./assets/img/spells/Cawwot.svg",sfx:"./assets/img/entities/Cawwot.png",sfxSize:1,category:D.Entity,levels:[{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.CreateEntity,value:R.Cawwot,min:M.Attacker,max:0,triggers:null,area:{type:j.Cell,min:0,max:0}}]}]}),Q(J,B.StartPoint,{name:"Start point",icon:"./assets/img/spells/StartPoint.svg",sfx:null,sfxSize:1,category:D.Action,levels:[{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.StartPoint,value:0,min:0,max:0,triggers:null,area:{type:j.Cell,min:0,max:0}}]}]}),Q(J,B.Remove,{name:"Remove",icon:"./assets/img/spells/Remove.svg",sfx:null,sfxSize:1,category:D.Action,levels:[{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.Remove,value:0,min:0,max:0,triggers:null,area:{type:j.Cell,min:0,max:0}}]}]}),Q(J,B.Select,{name:"Select",icon:"./assets/img/spells/Select.svg",sfx:null,sfxSize:1,category:void 0,levels:[{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.Ally,",").concat(z.Enemy),effectType:P.Select,value:0,min:0,max:0,triggers:null,area:{type:j.Cell,min:0,max:0}}]}]}),Q(J,B.Leukide,{name:"Leukide",icon:null,sfx:null,sfxSize:1,category:null,levels:[{apCost:0,maxStack:0,maxCastPerTurn:0,maxCastPerTarget:0,minCastInterval:0,initialCooldown:0,globalCooldown:0,minPlayerLevel:0,effects:[{targetMask:"".concat(z.Enemy),effectType:P.Pull,value:0,min:63,max:63,triggers:null,area:{type:j.Star,min:0,max:63}}]}]}),J);function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ne=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.uuid=w(),this.pos=t,this.initialPos=t,this.team=n,this.data=X[r],this.animPos=void 0,this.states=0,this.initialStates=this.states,this.triggers=[],this.health=1e4,this.currentHealth=1e4,this.level=200,this.offensiveStats={vitality:0,strength:0,chance:0,intelligence:0,agility:0,power:0,powerTrap:0,damage:0,damageEarth:0,damageWater:0,damageFire:0,damageAir:0,damageNeutral:0,damagePush:0,damageTrap:0,damageRanged:0,damageMelee:0,damageSpell:0,damageFinal:0},this.defensiveStats={neutral:0,earth:0,water:0,fire:0,air:0,resistanceEarth:0,resistanceWater:0,resistanceFire:0,resistanceAir:0,resistanceNeutral:0,resistancePush:0,resistanceRanged:0,resistanceMelee:0,resistanceSpell:0}}var t,n,r;return t=e,n=[{key:"isMovable",value:function(){return this.data.movable}},{key:"isTeleportable",value:function(){return!this.hasState(G.Gravity)}},{key:"reset",value:function(){var e;return this.pos=this.initialPos,this.states=this.initialStates,null===(e=this.component)||void 0===e||e.show(),this.currentHealth=this.health,!0}},{key:"removeState",value:function(e){this.states&=~e,Ue.isRunning||(this.initialStates&=~e)}},{key:"addState",value:function(e){this.states|=e,Ue.isRunning||(this.initialStates|=e)}},{key:"hasState",value:function(e){return!!(this.states&e)}},{key:"addTrigger",value:function(e){this.triggers.push(e)}},{key:"hasTrigger",value:function(e,t){return this.triggers.some((function(n){return n.spellId===e&&n.spellLevel===t}))}},{key:"trigger",value:function(e,t){for(var n=0;n<this.triggers.length;n++)this.triggers[n].triggers.includes(e)&&Ue.executeSpell(ee[this.triggers[n].spellId].levels[this.triggers[n].spellLevel],this.pos,this.triggers[n].caster,t)}},{key:"removeTrigger",value:function(e,t){this.triggers=this.triggers.filter((function(n){return n.spellId!==e||n.spellLevel!==t}))}},{key:"loseHealth",value:function(e){e<0||(this.currentHealth-=e,this.lastDamageTaken=e)}},{key:"gainHealth",value:function(e){e<0||(this.currentHealth+=e)}},{key:"setPosition",value:function(e){this.initialPos=e,this.pos=e}},{key:"serialize",value:function(){var e="<";e+=this.uuid+"|",e+=this.initialPos.x+"|"+this.initialPos.y+"|",e+=this.team+"|",e+=this.data.type+"|",e+=this.triggers.length+"|";for(var t=0;t<this.triggers.length;t++){e+=this.triggers[t].triggers.length+"|";for(var n=0;n<this.triggers[t].triggers.length;n++)e+=this.triggers[t].triggers[n]+"|";e+=this.triggers[t].spellId+"|",e+=this.triggers[t].spellLevel+"|",e+=this.triggers[t].caster.uuid+"|"}return(e+=this.initialStates+"|")+">"}}],r=[{key:"unserialize",value:function(t){for(var n=t.split("|"),r=0,a=n[r++],i={x:parseInt(n[r++]),y:parseInt(n[r++])},o=parseInt(n[r++]),s=parseInt(n[r++]),l=parseInt(n[r++]),c=[],u=new e(i,o,s),f=0;f<l;f++){for(var p=parseInt(n[r++]),h=[],g=0;g<p;g++)h.push(parseInt(n[r++]));c.push({triggers:h,spellId:parseInt(n[r++]),spellLevel:parseInt(n[r++]),caster:void 0,_casterUuid:n[r++]})}var d=parseInt(n[r++]);return u.uuid=a,u.triggers=c,u.initialStates=d,u.states=d,u}}],n&&te(t.prototype,n),r&&te(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();const re=ne;function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ie(e,t,n){return t&&ae(e.prototype,t),n&&ae(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var oe=ie((function e(t,n,r,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pos=t,this.color=n,this.borders=r,this.trap=a}));const se=oe;function le(e){return le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},le(e)}function ce(){ce=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,a){var i=t&&t.prototype instanceof p?t:p,o=Object.create(i.prototype),s=new k(a||[]);return r(o,"_invoke",{value:w(e,n,s)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function p(){}function h(){}function g(){}var d={};l(d,i,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(_([])));y&&y!==t&&n.call(y,i)&&(d=y);var v=g.prototype=p.prototype=Object.create(d);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function a(r,i,o,s){var l=u(e[r],e,i);if("throw"!==l.type){var c=l.arg,f=c.value;return f&&"object"==le(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,o,s)}),(function(e){a("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return a("throw",e,o,s)}))}s(l.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return{value:void 0,done:!0}}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var s=C(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function C(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=g,r(v,"constructor",{value:g,configurable:!0}),r(g,"constructor",{value:h,configurable:!0}),h.displayName=l(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(A.prototype),l(A.prototype,o,(function(){return this})),e.AsyncIterator=A,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new A(c(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(v),l(v,s,"Generator"),l(v,i,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;E(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var ue=ce().mark(de);function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){he(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ge(e,t,n){var r=ye(n,e);switch(t.type){case j.Cell:return n.x===e.x&&n.y===e.y;case j.Cross:return r.real<=t.max&&r.real>=t.min&&r.absolute.x===r.absolute.y;case j.Circle:return r.real<=t.max&&r.real>=t.min;case j.Diagonal:return 0===r.absolute.x&&r.absolute.y<=2*t.max&&r.absolute.y>=2*t.min||0===r.absolute.y&&r.absolute.x<=2*t.max&&r.absolute.x>=2*t.min;case j.Square:return r.absolute.x+r.absolute.y<=2*t.max&&r.absolute.x+r.absolute.y>=2*t.min;case j.Star:return ge(e,{type:j.Cross,min:t.min,max:t.max},n)||ge(e,{type:j.Diagonal,min:t.min,max:t.max},n);default:return!1}}function de(e){var t,n,r,a,i,o,s;return ce().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e,l.next=3,pe({},e);case 3:n=1;case 4:r=0,a=[L.North,L.East,L.South,L.West];case 6:if(!(r<a.length)){l.next=34;break}return i=a[r],o=me(e,i,n),t=o,l.next=12,pe({},o);case 12:s=0;case 13:if(!(s<n-1)){l.next=31;break}l.t0=i,l.next=l.t0===L.North?17:l.t0===L.East?19:l.t0===L.South?21:l.t0===L.West?23:25;break;case 17:return t.y+=2,l.abrupt("break",26);case 19:return t.x--,l.abrupt("break",26);case 21:return t.y-=2,l.abrupt("break",26);case 23:return t.x++,l.abrupt("break",26);case 25:return l.abrupt("break",26);case 26:return l.next=28,pe({},t);case 28:s++,l.next=13;break;case 31:r++,l.next=6;break;case 34:n++,l.next=4;break;case 37:case"end":return l.stop()}}),ue)}function me(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];switch(e=pe({},e),t){case L.North:e.x+=Math.floor((n+e.y%2)/2),e.y-=n;break;case L.East:e.x+=Math.floor((n+e.y%2)/2),e.y+=n;break;case L.South:e.x-=Math.floor((n+(1-e.y%2))/2),e.y+=n;break;case L.West:e.x-=Math.floor((n+(1-e.y%2))/2),e.y-=n;break;case L.Northeast:e.x+=r?Math.ceil(n/2):n;break;case L.Southeast:e.y+=r?2*Math.ceil(n/2):2*n;break;case L.Southwest:e.x-=r?Math.ceil(n/2):n;break;case L.Northwest:e.y-=r?2*Math.ceil(n/2):2*n}return e}function ye(e,t){var n={x:2*(e.x-t.x),y:e.y-t.y};return e.y%2!=t.y%2&&(t.y%2==1?n.x--:n.x++),{real:Math.max(Math.abs(n.x),Math.abs(n.y)),absolute:{x:Math.abs(n.x),y:Math.abs(n.y)},relative:{x:-n.x,y:-n.y}}}function ve(e,t,n){var r=ye(e,t),a=0;switch(0===n.max&&(a|=N.North|N.East|N.South|N.West),n.type){case j.Cell:case j.Diagonal:a|=N.North|N.East|N.South|N.West;break;case j.Cross:if(0===r.real)break;r.relative.x<0==r.relative.y<0?a|=N.North|N.South:a|=N.East|N.West,r.relative.x>0&&r.relative.y<0&&r.real===n.max&&(a|=N.North),r.relative.x>0&&r.relative.y>0&&r.real===n.max&&(a|=N.East),r.relative.x<0&&r.relative.y>0&&r.real===n.max&&(a|=N.South),r.relative.x<0&&r.relative.y<0&&r.real===n.max&&(a|=N.West);break;case j.Circle:if(r.real<n.max)break;r.relative.x===n.max&&(a|=N.North|N.East),r.relative.y===n.max&&(a|=N.South|N.East),r.relative.x===-n.max&&(a|=N.South|N.West),r.relative.y===-n.max&&(a|=N.North|N.West);break;case j.Square:if(r.absolute.x+r.absolute.y<2*n.max)break;r.relative.x>=0&&r.relative.y<=0&&(a|=N.North),r.relative.x>=0&&r.relative.y>=0&&(a|=N.East),r.relative.x<=0&&r.relative.y>=0&&(a|=N.South),r.relative.x<=0&&r.relative.y<=0&&(a|=N.West)}switch(n.type){case j.Cross:if(0===r.real)break;r.relative.x>0&&r.relative.y<0&&r.real===n.min&&(a|=N.South),r.relative.x>0&&r.relative.y>0&&r.real===n.min&&(a|=N.West),r.relative.x<0&&r.relative.y>0&&r.real===n.min&&(a|=N.North),r.relative.x<0&&r.relative.y<0&&r.real===n.min&&(a|=N.East);break;case j.Circle:if(r.real>n.min)break;if(r.absolute.x===r.absolute.y){r.relative.x<0&&r.relative.y>0&&(a|=N.North),r.relative.x<0&&r.relative.y<0&&(a|=N.East),r.relative.x>0&&r.relative.y<0&&(a|=N.South),r.relative.x>0&&r.relative.y>0&&(a|=N.West);break}r.relative.x===n.min&&(a|=N.South|N.West),r.relative.y===n.min&&(a|=N.North|N.West),r.relative.x===-n.min&&(a|=N.North|N.East),r.relative.y===-n.min&&(a|=N.South|N.East);break;case j.Square:if(r.absolute.x+r.absolute.y>2*n.min||0===r.absolute.x||0===r.absolute.y)break;r.relative.x>=0&&r.relative.y<=0&&(a|=N.South),r.relative.x>=0&&r.relative.y>=0&&(a|=N.West),r.relative.x<=0&&r.relative.y>=0&&(a|=N.North),r.relative.x<=0&&r.relative.y<=0&&(a|=N.East)}return a}function be(e,t){var n=ye(e,t);if(0===n.absolute.x)return n.relative.y>0?L.Southeast:n.relative.y<0?L.Northwest:L.None;if(0===n.absolute.y){if(n.relative.x>0)return L.Northeast;if(n.relative.x<0)return L.Southwest}return n.relative.x>0&&n.relative.y>0?L.East:n.relative.x>0&&n.relative.y<0?L.North:n.relative.x<0&&n.relative.y>0?L.South:n.relative.x<0&&n.relative.y<0?L.West:L.None}function Ae(e){return e.r<<16|e.g<<8|e.b}function we(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ce=function(){function e(t,n,r,a,i,o){var s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.uuid=w(),this.pos=t,this.area=i,this.casterUuid=n,this.spellId=r,this.spellLevel=a,this.color={r:(16711680&(s=o))>>16,g:(65280&s)>>8,b:255&s},this.component=void 0,this.active=!0}var t,n,r;return t=e,n=[{key:"getTrapCells",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.active&&!e)return[];for(var t=[],n=function(e,t){for(var n=[],r=de(e),a=[j.Diagonal,j.Square,j.Star].includes(t.type),i=t.max*(a?2:1)*(t.max*(a?2:1)+1)*2+1,o=0;o<i;o++){var s=r.next().value;ge(s,t,e)&&n.push(s)}return n}({x:this.pos.x,y:this.pos.y},this.area),r=0;r<n.length;r++)t.push(new se(n[r],this.color,ve(this.pos,n[r],this.area),this));return t}},{key:"isInTrap",value:function(e){return!!this.active&&ge(e,this.area,this.pos)}},{key:"enable",value:function(){var e;this.active=!0,null===(e=this.component)||void 0===e||e.show()}},{key:"disable",value:function(){var e;this.active=!1,null===(e=this.component)||void 0===e||e.hide()}},{key:"getSpellIcon",value:function(){return ee[this.spellId].icon}},{key:"serialize",value:function(){var e="<";return e+=this.pos.x+"|"+this.pos.y+"|",e+=this.spellId+"|"+this.spellLevel+"|",e+=this.area.min+"|"+this.area.max+"|"+this.area.type+"|",(e+=this.casterUuid+"|")+(Ae(this.color)+">")}}],r=[{key:"unserialize",value:function(t){var n=t.split("|"),r=0,a={x:parseInt(n[r++]),y:parseInt(n[r++])},i=parseInt(n[r++]),o=parseInt(n[r++]),s={min:parseInt(n[r++]),max:parseInt(n[r++]),type:parseInt(n[r++])};return new e(a,n[r++],i,o,s,parseInt(n[r++]))}}],n&&we(t.prototype,n),r&&we(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();const xe=Ce;function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ke(e){var t;return(t={},Ee(t,P.NeutralDamage,Z.Neutral),Ee(t,P.WaterDamage,Z.Water),Ee(t,P.FireDamage,Z.Fire),Ee(t,P.EarthDamage,Z.Earth),Ee(t,P.AirDamage,Z.Air),t)[e]}function _e(e,t,n,r,a,i,o){var s,l,c=(Ee(s={},Z.Neutral,t.offensiveStats.strength),Ee(s,Z.Water,t.offensiveStats.chance),Ee(s,Z.Fire,t.offensiveStats.intelligence),Ee(s,Z.Earth,t.offensiveStats.strength),Ee(s,Z.Air,t.offensiveStats.agility),s),u=(Ee(l={},Z.Neutral,t.offensiveStats.damageNeutral),Ee(l,Z.Water,t.offensiveStats.damageWater),Ee(l,Z.Fire,t.offensiveStats.damageFire),Ee(l,Z.Earth,t.offensiveStats.damageEarth),Ee(l,Z.Air,t.offensiveStats.damageAir),l),f=100+t.offensiveStats.power+(o?t.offensiveStats.powerTrap:0)+c[a],p=t.offensiveStats.damage+(o?t.offensiveStats.damageTrap:0)+u[a],h=1-Math.min(.5,.1*(ye(n,r).real-i));return Math.floor((Math.floor(Math.max(100,f)/100*e)+p)*h)}function Se(e,t,n,r,a,i){var o,s,l=(Ee(o={},Z.Neutral,n.defensiveStats.neutral),Ee(o,Z.Water,n.defensiveStats.water),Ee(o,Z.Fire,n.defensiveStats.fire),Ee(o,Z.Earth,n.defensiveStats.earth),Ee(o,Z.Air,n.defensiveStats.air),o),c=(Ee(s={},Z.Neutral,n.defensiveStats.resistanceNeutral),Ee(s,Z.Water,n.defensiveStats.resistanceWater),Ee(s,Z.Fire,n.defensiveStats.resistanceFire),Ee(s,Z.Earth,n.defensiveStats.resistanceEarth),Ee(s,Z.Air,n.defensiveStats.resistanceAir),s),u=l[i],f=c[i],p=ye(t.pos,n.pos).real>1,h=Math.floor((e-f)*(1-u/100)),g=(1+t.offensiveStats.damageFinal/100)*(1+t.offensiveStats.damageSpell/100)*(1+(p?t.offensiveStats.damageRanged:t.offensiveStats.damageMelee)/100)*(1-n.defensiveStats.resistanceSpell/100)*(1-(p?n.defensiveStats.resistanceRanged:n.defensiveStats.resistanceMelee)/100);return Math.floor(h*g)}function Te(e){var t=[{element:"strength",damage:"damageEarth",effect:Z.Earth},{element:"strength",damage:"damageNeutral",effect:Z.Neutral},{element:"intelligence",damage:"damageFire",effect:Z.Fire},{element:"chance",damage:"damageWater",effect:Z.Water},{element:"agility",damage:"damageAir",effect:Z.Air}];return t.sort((function(t,n){return e.offensiveStats[t.element]>e.offensiveStats[n.element]?-1:e.offensiveStats[t.element]<e.offensiveStats[n.element]?1:e.offensiveStats[t.damage]>e.offensiveStats[n.damage]?-1:e.offensiveStats[t.damage]<e.offensiveStats[n.damage]?1:0})),t[0].effect}function Pe(e){return Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pe(e)}function Oe(){Oe=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,a){var i=t&&t.prototype instanceof p?t:p,o=Object.create(i.prototype),s=new k(a||[]);return r(o,"_invoke",{value:w(e,n,s)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function p(){}function h(){}function g(){}var d={};l(d,i,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(_([])));y&&y!==t&&n.call(y,i)&&(d=y);var v=g.prototype=p.prototype=Object.create(d);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function a(r,i,o,s){var l=u(e[r],e,i);if("throw"!==l.type){var c=l.arg,f=c.value;return f&&"object"==Pe(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,o,s)}),(function(e){a("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return a("throw",e,o,s)}))}s(l.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return{value:void 0,done:!0}}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var s=C(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function C(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=g,r(v,"constructor",{value:g,configurable:!0}),r(g,"constructor",{value:h,configurable:!0}),h.displayName=l(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(A.prototype),l(A.prototype,o,(function(){return this})),e.AsyncIterator=A,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new A(c(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(v),l(v,s,"Generator"),l(v,i,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;E(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Le=function(){function e(t,n,r,a,i,o,s,l,c){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.uuid=w(),this.caster=t,this.target=n,this.originPos=r,this.targetPos=a,this.type=i,this.value=o,this.effect=s,this.originTrap=l,this.passedMask=!0,this.cancelled=!1,this.targetMask=function(e){if(!e)return[];for(var t=[],n=e.split(","),r=0;r<n.length;r++){var a,i=0,o=!1,s=0;"*"===n[r][i]&&(o=!0,i++),a=n[r].slice(i,i+1),n[r].length>i+1&&(s=parseInt(n[r].slice(i+1))),t.push({onCaster:o,mask:a,param:s})}return t}(c)}var t,n;return t=e,n=[{key:"groupMasks",value:function(e){for(var t=["b","e","E","f","K","o","O","p","P","q","Q","r","R","T","U","v","V","W","z"],n=["a","A","c","C","d","D","g","h","H","i","I","j","J","l","L","m","M","s","S"],r=["B","F","Z"],a=[[],[],[],[]],i=0;i<e.length;i++)t.includes(e[i].mask)?a.push([e[i]]):n.includes(e[i].mask)?a[0].push(e[i]):r.includes(e[i].mask)?a[1+r.indexOf(e[i].mask)].push(e[i]):console.error("Unknown mask: ".concat(e[i].mask));return a}},{key:"checkEntityMask",value:function(){if(!this.targetMask||!this.target)return!0;for(var e=this.groupMasks(this.targetMask),t=0;t<e.length;t++){for(var n=!1,r=0;r<e[t].length;r++)this.checkSingleMask(e[t][r])&&(n=!0);if(!n&&e[t].length>0)return this.passedMask=!1,!1}return this.passedMask=!0,!0}},{key:"checkSingleMask",value:function(e){switch(e.mask){case z.Ally:return this.caster.team===this.target.team;case z.Enemy:return this.caster.team!==this.target.team;case z.State:return this.target.hasState(e.param);case z.NotState:return!this.target.hasState(e.param);case z.LifeAbove:return Math.floor(this.target.currentHealth/this.target.health*100)>e.param;case z.NotLifeAbove:return Math.floor(this.target.currentHealth/this.target.health*100)<=e.param;case z.CasterEverywhere:default:return!0}}},{key:"apply",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Oe().mark((function n(){var r,a;return Oe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.cancelled){n.next=2;break}return n.abrupt("return");case 2:if(je(r={},P.Pull,e.pullAction.bind(e)),je(r,P.Push,e.pushAction.bind(e)),je(r,P.WaterDamage,e.waterDamageAction.bind(e)),je(r,P.FireDamage,e.fireDamageAction.bind(e)),je(r,P.EarthDamage,e.earthDamageAction.bind(e)),je(r,P.AirDamage,e.airDamageAction.bind(e)),je(r,P.PushDamage,e.pushDamageAction.bind(e)),je(r,P.IndirectPushDamage,e.indirectPushDamageAction.bind(e)),je(r,P.MPDamage,e.MPDamageAction.bind(e)),je(r,P.PlaceEndTurnGlyph,e.placeEndTurnGlyphAction.bind(e)),je(r,P.BoostSpell,e.boostSpellAction.bind(e)),je(r,P.HealLastDamage,e.healLastDamageAction.bind(e)),je(r,P.PlaceTrap,e.placeTrapAction.bind(e)),je(r,P.CreateEntity,e.createEntityAction.bind(e)),je(r,P.StartPoint,e.startPointAction.bind(e)),je(r,P.Remove,e.removeAction.bind(e)),je(r,P.Select,e.selectAction.bind(e)),je(r,P.NeutralDamage,e.neutralDamageAction.bind(e)),je(r,P.DodgeDamage,e.dodgeDamageAction.bind(e)),je(r,P.StealBestElement,e.stealBestElementAction.bind(e)),je(r,P.SpellAsTarget,e.spellAsTargetAction.bind(e)),je(r,P.SpellAsCaster,e.spellAsCasterAction.bind(e)),je(r,P.State,e.stateAction.bind(e)),je(r,P.RemoveState,e.removeStateAction.bind(e)),je(r,P.CancelSpell,e.cancelSpellAction.bind(e)),je(r,P.SymmetricalTeleport,e.symmetricalTeleportAction.bind(e)),je(r,P.Toggle,e.toggleAction.bind(e)),!(a=r)[e.type]){n.next=7;break}return n.delegateYield(a[e.type](t),"t0",5);case 5:n.next=8;break;case 7:console.error("Unknown EffectType: ".concat(e.type));case 8:case"end":return n.stop()}}),n)}))()}},{key:"pullAction",value:Oe().mark((function e(t){var n,r,a,i;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.target.isMovable()){e.next=2;break}return e.abrupt("return");case 2:this.value=this.value,n=be(this.targetPos,this.originPos),r=[L.Northeast,L.Southeast,L.Southwest,L.Northwest].includes(n),a=0;case 6:if(!(a<(r?Math.ceil(this.value/2):this.value))){e.next=21;break}if(i=me(this.target.pos,n,1),Ue.isMovementPossible(this.target.pos,i,n)){e.next=10;break}return e.abrupt("break",21);case 10:if(this.target.animPos=i,!t){e.next=14;break}return e.next=14,this.target;case 14:if(this.target.pos=this.target.animPos,this.target.animPos=void 0,!Ue.triggerTraps(i)){e.next=18;break}return e.abrupt("break",21);case 18:a++,e.next=6;break;case 21:case"end":return e.stop()}}),e,this)}))},{key:"pushAction",value:Oe().mark((function t(n){var r,a,i,o;return Oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.target.isMovable()){t.next=2;break}return t.abrupt("return");case 2:this.value=this.value,r=be(this.originPos,this.targetPos),a=[L.Northeast,L.Southeast,L.Southwest,L.Northwest].includes(r),i=0;case 6:if(!(i<(a?Math.ceil(this.value/2):this.value))){t.next=22;break}if(o=me(this.target.pos,r,1),Ue.isMovementPossible(this.target.pos,o,r)){t.next=11;break}return r!==L.None&&Ue.addToActionStack(new e(this.caster,this.target,this.target.pos,o,P.PushDamage,a?2*Math.ceil(this.value/2):this.value-i,this.effect,this.originTrap)),t.abrupt("break",22);case 11:if(this.target.animPos=o,!n){t.next=15;break}return t.next=15,this.target;case 15:if(this.target.pos=this.target.animPos,this.target.animPos=void 0,!Ue.triggerTraps(o)){t.next=19;break}return t.abrupt("break",22);case 19:i++,t.next=6;break;case 22:case"end":return t.stop()}}),t,this)}))},{key:"placeTrapAction",value:Oe().mark((function e(){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===Ue.getTrap(this.targetPos)){e.next=2;break}return e.abrupt("return");case 2:Ue.placeTrap(new xe(this.targetPos,this.caster.uuid,this.effect.min,this.effect.max,this.effect.area,this.effect.value));case 3:case"end":return e.stop()}}),e,this)}))},{key:"createEntityAction",value:Oe().mark((function e(){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===Ue.getEntity(this.targetPos)){e.next=2;break}return e.abrupt("return");case 2:Ue.placeEntity(new re(this.targetPos,this.effect.min,this.effect.value));case 3:case"end":return e.stop()}}),e,this)}))},{key:"startPointAction",value:Oe().mark((function e(){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ue.setStartPoint(this.targetPos);case 1:case"end":return e.stop()}}),e,this)}))},{key:"removeAction",value:Oe().mark((function e(){var t,n;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Ue.getEntity(this.targetPos),n=Ue.getTrap(this.targetPos),this.value&&t||!this.value&&!n&&t?(Ue.removeEntity(this.targetPos),t===Ue.mainCharacter&&Ue.mainCharacter.setPosition({x:0,y:0})):n&&Ue.removeTrap(this.targetPos);case 3:case"end":return e.stop()}}),e,this)}))},{key:"selectAction",value:Oe().mark((function e(){var t,n;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Ue.getEntity(this.targetPos),n=Ue.getTrap(this.targetPos),this.value&&t||!this.value&&!n&&t?Ue.selectEntity(this.targetPos):n&&Ue.selectTrap(this.targetPos);case 3:case"end":return e.stop()}}),e,this)}))},{key:"waterDamageAction",value:Oe().mark((function e(){var t,n;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=ke(this.effect.effectType),n=Se(_e(this.value,this.caster,this.originPos,this.targetPos,t,this.effect.area.min,!0),this.caster,this.target,this.originPos,this.targetPos,t),this.value=Math.max(0,n),this.target.loseHealth(this.value),this.target.trigger(W.onDamage,this.originTrap),this.target.trigger(W.onTrapDamage,this.originTrap);case 6:case"end":return e.stop()}}),e,this)}))},{key:"fireDamageAction",value:Oe().mark((function e(){var t,n;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=ke(this.effect.effectType),n=Se(_e(this.value,this.caster,this.originPos,this.targetPos,t,this.effect.area.min,!0),this.caster,this.target,this.originPos,this.targetPos,t),this.value=Math.max(0,n),this.target.loseHealth(this.value),this.target.trigger(W.onDamage,this.originTrap),this.target.trigger(W.onTrapDamage,this.originTrap);case 6:case"end":return e.stop()}}),e,this)}))},{key:"earthDamageAction",value:Oe().mark((function e(){var t,n;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=ke(this.effect.effectType),n=Se(_e(this.value,this.caster,this.originPos,this.targetPos,t,this.effect.area.min,!0),this.caster,this.target,this.originPos,this.targetPos,t),this.value=Math.max(0,n),this.target.loseHealth(this.value),this.target.trigger(W.onDamage,this.originTrap),this.target.trigger(W.onTrapDamage,this.originTrap);case 6:case"end":return e.stop()}}),e,this)}))},{key:"airDamageAction",value:Oe().mark((function e(){var t,n;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=ke(this.effect.effectType),n=Se(_e(this.value,this.caster,this.originPos,this.targetPos,t,this.effect.area.min,!0),this.caster,this.target,this.originPos,this.targetPos,t),this.value=Math.max(0,n),this.target.loseHealth(this.value),this.target.trigger(W.onTrapDamage,this.originTrap),this.target.trigger(W.onDamage,this.originTrap);case 6:case"end":return e.stop()}}),e,this)}))},{key:"pushDamageAction",value:Oe().mark((function t(){var n,r,a,i,o,s,l,c;return Oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=this.value,u=this.value,f=this.caster,p=this.target,r=Math.floor((32+Math.floor(f.level/2)+f.offensiveStats.damagePush-p.defensiveStats.resistancePush)*u/4),this.value=Math.max(0,r),this.target.loseHealth(this.value),a=be(this.originPos,this.targetPos),i=this.value,o=[],s=1;case 8:if(!(s<=n)){t.next=18;break}if(l=me(this.originPos,a,s,!1),c=Ue.getEntity(l)){t.next=13;break}return t.abrupt("break",18);case 13:i=Math.floor(i/2),o.unshift(new e(this.caster,c,this.target.pos,c.pos,P.IndirectPushDamage,i,this.effect,this.originTrap));case 15:s++,t.next=8;break;case 18:Ue.addToActionStack.apply(Ue,o);case 19:case"end":return t.stop()}var u,f,p}),t,this)}))},{key:"indirectPushDamageAction",value:Oe().mark((function e(){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.target.loseHealth(this.value);case 1:case"end":return e.stop()}}),e,this)}))},{key:"MPDamageAction",value:Oe().mark((function e(){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Non-implemented function: mPDamageAction()");case 1:case"end":return e.stop()}}),e)}))},{key:"placeEndTurnGlyphAction",value:Oe().mark((function e(){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Non-implemented function: placeEndTurnGlyphAction()");case 1:case"end":return e.stop()}}),e)}))},{key:"boostSpellAction",value:Oe().mark((function e(){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Non-implemented function: boostSpellAction()");case 1:case"end":return e.stop()}}),e)}))},{key:"healLastDamageAction",value:Oe().mark((function e(){var t;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.caster.lastDamageTaken,this.value=Math.floor(t*this.value/100),this.target.gainHealth(this.value);case 3:case"end":return e.stop()}}),e,this)}))},{key:"neutralDamageAction",value:Oe().mark((function e(){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Non-implemented function: neutralDamageAction()");case 1:case"end":return e.stop()}}),e)}))},{key:"dodgeDamageAction",value:Oe().mark((function e(){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Non-implemented function: dodgeDamageAction()");case 1:case"end":return e.stop()}}),e)}))},{key:"stealBestElementAction",value:Oe().mark((function e(){var t,n;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Te(this.caster),n=Se(_e(this.value,this.caster,this.originPos,this.targetPos,t,this.effect.area.min,!0),this.caster,this.target,this.originPos,this.targetPos,t),this.value=Math.max(0,n),this.target.loseHealth(this.value),this.caster.gainHealth(Math.floor(this.value/2));case 5:case"end":return e.stop()}}),e,this)}))},{key:"spellAsTargetAction",value:Oe().mark((function e(){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ue.executeSpell(ee[this.effect.min].levels[this.effect.max],this.target.pos,this.target,this.originTrap);case 1:case"end":return e.stop()}}),e,this)}))},{key:"spellAsCasterAction",value:Oe().mark((function e(){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ue.executeSpell(ee[this.effect.min].levels[this.effect.max],this.target.pos,this.caster,this.originTrap);case 1:case"end":return e.stop()}}),e,this)}))},{key:"stateAction",value:Oe().mark((function e(){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.target.addState(this.effect.min);case 1:case"end":return e.stop()}}),e,this)}))},{key:"removeStateAction",value:Oe().mark((function e(){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.target.removeState(this.effect.min);case 1:case"end":return e.stop()}}),e,this)}))},{key:"cancelSpellAction",value:Oe().mark((function e(){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Non-implemented function: cancelSpellAction()");case 1:case"end":return e.stop()}}),e)}))},{key:"symmetricalTeleportAction",value:Oe().mark((function e(){var t,n,r,a;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.target.isTeleportable()){e.next=2;break}return e.abrupt("return");case 2:if((t={x:this.target.pos.x,y:this.target.pos.y}).y-=2*(t.y-this.originPos.y),t.x-=2*(t.x-this.originPos.x)-(this.originPos.y%2-this.target.pos.y%2),n=Ue.getCell(t),r=Ue.getEntity(t),!n||n.type!==T.Ground||r&&!r.isTeleportable()){e.next=24;break}if(!r){e.next=21;break}r.pos=this.target.pos,this.target.pos=t,a=0;case 12:if(!(a<Ue.actionStack.length)){e.next=19;break}if(Ue.actionStack[a].originTrap!==this.originTrap||Ue.actionStack[a].target!==r){e.next=16;break}return Ue.actionStack[a].cancelled=!0,e.abrupt("break",19);case 16:a++,e.next=12;break;case 19:e.next=23;break;case 21:this.target.pos=t,Ue.triggerTraps(t);case 23:this.target.pos=t;case 24:case"end":return e.stop()}}),e,this)}))},{key:"toggleAction",value:Oe().mark((function e(){var t,n;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.target){e.next=2;break}return e.abrupt("return");case 2:for(t=ee[this.effect.min].levels[this.effect.max],n=0;n<t.effects.length;n++)t.effects[n].effectType===P.State?this.target.hasState(t.effects[n].min)?this.target.removeState(t.effects[n].min):this.checkEntityMask()&&this.target.addState(t.effects[n].min):null!==t.effects[n].triggers&&(this.target.hasTrigger(t.effects[n].min,t.effects[n].max)?this.target.removeTrigger(t.effects[n].min,t.effects[n].max):this.checkEntityMask()&&this.target.addTrigger({triggers:[t.effects[n].triggers],spellId:t.effects[n].min,spellLevel:t.effects[n].max,caster:Ue.mainCharacter}));case 4:case"end":return e.stop()}}),e,this)}))}],n&&Me(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();var Re=n(927),Ie=n.n(Re),Ne=n(816);function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Fe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.width=14,this.height=40,this.entities=[],this.traps=[],this.actionStack=[],this.completedActionStack=[],this.savedActionStack=[],this.currentAction=void 0,this.mapName=void 0,this.mapLoaded=!1,this.waitingAnim=!1,this.mapComponent=void 0,this.startPoint=void 0,this.remainingSteps=-1,this.isRunning=!1,this.preparingEffects=[P.PlaceTrap,P.CreateEntity,P.StartPoint,P.Remove,P.Select,P.Toggle],this.mainCharacter=new re({x:0,y:0},M.Attacker,R.Player),this.options={leukide:!1},this.loadMap(t)}var t,n;return t=e,n=[{key:"setStartPoint",value:function(e){this.startPoint=e}},{key:"run",value:function(){this.startPoint?(this.isRunning=!0,this.savedActionStack=[],this.triggerTraps(this.startPoint),this.remainingSteps=-1,this.triggerStack()):this.spellsComponent.setPlay(!1)}},{key:"runOne",value:function(){this.startPoint?(this.isRunning=!0,this.remainingSteps=1,0===this.actionStack.length&&(this.savedActionStack=[],this.triggerTraps(this.startPoint)),this.triggerStack()):this.spellsComponent.setPlay(!1)}},{key:"pause",value:function(){this.remainingSteps=0}},{key:"resetAll",value:function(){for(var e=0;e<this.entities.length;e++)this.entities[e].reset();this.mainCharacter.reset();for(var t=0;t<this.traps.length;t++)this.traps[t].enable();this.savedActionStack=this.completedActionStack,this.completedActionStack=[],this.actionStack=[],this.currentAction=void 0,this.waitingAnim=!1,this.isRunning=!1,this.refreshMap(),this.refreshStats()}},{key:"refreshMap",value:function(){var e;null===(e=this.mapComponent)||void 0===e||e.forceUpdate()}},{key:"refreshHistory",value:function(){var e;null===(e=this.historyComponent)||void 0===e||e.forceUpdate()}},{key:"refreshStats",value:function(){var e;null===(e=this.statsComponent)||void 0===e||e.forceUpdate()}},{key:"getAllTrapCells",value:function(){for(var e=[],t=0;t<this.traps.length;t++)for(var n=this.traps[t].getTrapCells(),r=0;r<n.length;r++){var a,i,o;(null===(a=this.map)||void 0===a||null===(i=a[n[r].pos.x])||void 0===i||null===(o=i[n[r].pos.y])||void 0===o?void 0:o.type)===T.Ground&&(n[r].borders|=this.getCellBorders(n[r].pos),e.push(n[r]))}return e}},{key:"placeEntity",value:function(e){e.team===M.Defender&&this.options.leukide&&e.addTrigger({triggers:[W.onDamage],spellId:B.Leukide,spellLevel:0,caster:e}),this.entities.push(e)}},{key:"placeTrap",value:function(e){this.traps.unshift(e)}},{key:"getCellBorders",value:function(e){for(var t,n=0,r=(De(t={},L.North,N.North),De(t,L.East,N.East),De(t,L.South,N.South),De(t,L.West,N.West),t),a=0,i=[L.North,L.East,L.South,L.West];a<i.length;a++){var o,s,l=i[a],c=me(e,l,1);void 0!==(null===(o=this.map)||void 0===o||null===(s=o[c.x])||void 0===s?void 0:s[c.y])&&this.map[c.x][c.y].type===T.Ground||(n|=r[l])}return n}},{key:"loadMap",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r="./assets/maps/".concat(e,".json");fetch(r).then((function(e){return e.json()})).then((function(r){n&&t.prepareNewMap(),t.mapName=e;var a=r.Data[0].Cells;t.map=new Array(a[0].length);for(var i=0;i<a[0].length;i++){t.map[i]=new Array(a.length);for(var o=0;o<a.length;o++)t.map[i][o]=new k(a[o][i],{x:i,y:o})}t.refreshMap(),t.refreshHistory(),t.refreshStats(),t.mapLoaded=!0}),(function(e){console.error(e)}))}},{key:"prepareNewMap",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.traps=[],this.entities=[],this.actionStack=[],this.currentAction=void 0,this.completedActionStack=[],this.savedActionStack=[],this.startPoint=void 0,this.waitingAnim=!1,this.remainingSteps=-1,this.mapLoaded=!1,this.isRunning=!1,e&&(this.refreshMap(),this.refreshHistory(),this.refreshStats())}},{key:"getCell",value:function(e){var t,n;return null===(t=this.map)||void 0===t||null===(n=t[e.x])||void 0===n?void 0:n[e.y]}},{key:"getEntity",value:function(e){for(var t=0;t<this.entities.length;t++)if(this.entities[t].pos.x===e.x&&this.entities[t].pos.y===e.y)return this.entities[t]}},{key:"getEntityById",value:function(e){if(this.mainCharacter.uuid===e)return this.mainCharacter;for(var t=0;t<this.entities.length;t++)if(this.entities[t].uuid===e)return this.entities[t]}},{key:"getTrap",value:function(e){for(var t=0;t<this.traps.length;t++)if(this.traps[t].pos.x===e.x&&this.traps[t].pos.y===e.y)return this.traps[t]}},{key:"removeEntity",value:function(e){for(var t=0;t<this.entities.length;t++)if(this.entities[t].pos.x===e.x&&this.entities[t].pos.y===e.y){this.entities.splice(t,1);break}}},{key:"removeTrap",value:function(e){for(var t=0;t<this.traps.length;t++)if(this.traps[t].pos.x===e.x&&this.traps[t].pos.y===e.y){this.traps.splice(t,1);break}}},{key:"getEntitiesInArea",value:function(e,t){for(var n=[],r=de(e),a=[j.Diagonal,j.Square,j.Star].includes(t.type),i=t.max*(a?2:1)*(t.max*(a?2:1)+1)*2+1,o=0;o<i;o++){var s=r.next().value;if(ge(s,t,e)){var l=this.getEntity(s);l&&n.push(l)}}return n}},{key:"triggerTraps",value:function(e){for(var t=[],n=0;n<this.traps.length;n++)this.traps[n].isInTrap(e)&&(this.executeSpell(ee[this.traps[n].spellId].levels[this.traps[n].spellLevel],this.traps[n].pos,this.getEntityById(this.traps[n].casterUuid),this.traps[n]),t.push(n));for(var r=t.length-1;r>=0;r--)this.traps[t[r]].disable();return t.length>0}},{key:"executeSpell",value:function(e,t,n,r){for(var a,i,o=[],s=e.effects,l=0;l<s.length;l++){var c=this.getEntitiesInArea(t,s[l].area);s[l].effectType===P.Push&&(c=c.reverse());for(var u=(a=s[l].min,i=s[l].max,a+Math.floor(Math.random()*(i-a))),f=0;f<c.length;f++){var p=new Le(n,c[f],t,c[f].pos,s[l].effectType,u,s[l],r,s[l].targetMask);p.checkEntityMask()&&o.unshift(p)}}this.addToActionStack.apply(this,o)}},{key:"addToActionStack",value:function(){var e;(e=this.actionStack).push.apply(e,arguments)}},{key:"triggerStack",value:function(){for(;this.waitingAnim||0!=this.remainingSteps--&&(this.currentAction=this.actionStack.pop());){this.refreshHistory(),this.refreshStats(),this.waitingAnim||(this.actionGenerator=this.currentAction.apply());var e=this.actionGenerator.next();if(!e.done&&e.value)return this.waitingAnim=!0,void e.value.component.move(e.value.pos,e.value.animPos);this.completedActionStack.push(this.currentAction),this.currentAction=void 0,this.waitingAnim=!1}this.spellsComponent.setPlay(!1),this.refreshMap()}},{key:"isMovementPossible",value:function(e,t,n){var r;if([L.Northeast,L.Southeast,L.Southwest,L.Northwest].includes(n)){var a,i=(De(a={},L.Northeast,[L.North,L.East]),De(a,L.Northwest,[L.North,L.West]),De(a,L.Southwest,[L.South,L.West]),De(a,L.Southeast,[L.South,L.East]),a);if(!this.isMovementPossible(e,me(e,i[n][0],1),i[n][0])||!this.isMovementPossible(e,me(e,i[n][1],1),i[n][1]))return!1}return(null===(r=this.getCell(t))||void 0===r?void 0:r.type)===T.Ground&&void 0===this.getEntity(t)}},{key:"getActionStack",value:function(){return this.savedActionStack.length>0?{waiting:[],completed:this.savedActionStack,current:void 0}:{waiting:this.actionStack,completed:this.completedActionStack,current:this.currentAction}}},{key:"getActionsFromTrap",value:function(e){for(var t,n=[],r=0;r<this.savedActionStack.length;r++)this.savedActionStack[r].originTrap.uuid===e.uuid&&n.push(this.savedActionStack[r]);for(var a=0;a<this.actionStack.length;a++)this.actionStack[a].originTrap.uuid===e.uuid&&n.push(this.actionStack[a]);for(var i=0;i<this.completedActionStack.length;i++)this.completedActionStack[i].originTrap.uuid===e.uuid&&n.push(this.completedActionStack[i]);return(null===(t=this.currentAction)||void 0===t?void 0:t.originTrap.uuid)===e.uuid&&n.push(this.currentAction),n}},{key:"onEntityTransitionEnd",value:function(){this.triggerStack()}},{key:"selectSpell",value:function(e){this.selectedSpell=e,this.mapComponent.setMouseIcon(null==e?void 0:e.icon)}},{key:"onCellClick",value:function(e,t){var n;if(this.map[e.x][e.y].type===T.Ground){if(this.isRunning){if(void 0!==this.selectedSpell)return;this.pause()}if(!this.isRunning&&this.movingEntity){if(this.getEntity(e))return;return this.movingEntity.setPosition(e),this.entities.includes(this.movingEntity)||this.entities.push(this.movingEntity),this.statsComponent.closeConfig(),this.movingEntity=null,void this.refreshMap()}var r=null!==(n=this.selectedSpell)&&void 0!==n?n:ee[B.Select],a=r.levels[r.levels.length-1].effects;this.applyPreparingEffects(a,e,t),this.refreshMap(),this.refreshStats()}}},{key:"applyPreparingEffects",value:function(e,t,n){for(var r=0;r<e.length;r++)this.preparingEffects.includes(e[r].effectType)&&(new Le(this.mainCharacter,this.getEntity(t),this.mainCharacter.pos,t,e[r].effectType,+n,e[r],null,e[r].targetMask).apply(!1).next().done||console.error("Preparing effect is yielding but should not."))}},{key:"toggleLeukide",value:function(){this.options.leukide=!this.options.leukide;for(var e=0;e<this.entities.length;e++)this.entities[e].team===M.Defender&&(this.options.leukide?this.entities[e].addTrigger({triggers:[W.onDamage],spellId:B.Leukide,spellLevel:0,caster:this.entities[e]}):this.entities[e].removeTrigger(B.Leukide,0));return this.options.leukide}},{key:"reorderTraps",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e>=this.traps.length||t>=this.traps.length||e<0||t<0||(this.traps.splice(t,0,this.traps.splice(e,1)[0]),n&&(this.refreshMap(),this.refreshStats()))}},{key:"selectEntity",value:function(e){var t=this.getEntity(e);t&&this.statsComponent.openConfig(t)}},{key:"selectTrap",value:function(e){var t=this.getTrap(e);t&&this.statsComponent.openConfig(t)}},{key:"setMovingEntity",value:function(e){this.isRunning||(this.movingEntity=e)}},{key:"serialize",value:function(){var e,t,n,r,a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i="";i+=this.mapName+"|",i+=this.mainCharacter.serialize()+"|",i+=this.entities.length+"|";for(var o=0;o<this.entities.length;o++)i+=this.entities[o].serialize()+"|";i+=this.traps.length+"|";for(var s=0;s<this.traps.length;s++)i+=this.traps[s].serialize()+"|";return i+=(null!==(e=null===(t=this.startPoint)||void 0===t?void 0:t.x)&&void 0!==e?e:"-")+"|"+(null!==(n=null===(r=this.startPoint)||void 0===r?void 0:r.y)&&void 0!==n?n:"-")+"|",i+=+this.options.leukide,a?"1|"+Ie().deflateSync(i).toString("base64"):"0|"+i}},{key:"unserialize",value:function(e){var t=this;try{for(var n=e.split("|"),r="1"===n[0]?Ie().inflateSync(Ne.lW.from(n[1],"base64")).toString("ascii"):e.slice(2),a=[],i="",o=0;o<r.length;o++)if("<"===r[o]){var s=r.indexOf(">",o);-1===s?o=r.length:(a.push(r.slice(o+1,s)),o=s,i+=a.length-1)}else i+=r[o];for(var l=i.split("|"),c=0,u=l[c++],f=re.unserialize(a[parseInt(l[c++])]),p=parseInt(l[c++]),h=[],g=0;g<p;g++)h.push(re.unserialize(a[parseInt(l[c++])]));for(var d=parseInt(l[c++]),m=[],y=0;y<d;y++)m.push(xe.unserialize(a[parseInt(l[c++])]));var v={x:parseInt(l[c++]),y:parseInt(l[c++])};isNaN(v.x)&&(v=void 0);var b="1"===l[c++];this.prepareNewMap(),this.mainCharacter=f,this.entities=h,h.forEach((function(e){e.triggers.forEach((function(n){void 0===n.caster&&(void 0!==n._casterUuid?n.caster=t.getEntityById(n._casterUuid):n.caster=e)}))})),this.traps=m,this.startPoint=v,this.options.leukide=b,this.loadMap(u,!1)}catch(e){return!1}return!0}}],n&&Be(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const Ue=new Fe("0");var ze=n(456),We={};function Ge(e){return Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ge(e)}function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function He(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach((function(t){Ye(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ve(e,t){return Ve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ve(e,t)}function Ke(e){return Ke=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ke(e)}We.styleTagTransform=h(),We.setAttributes=c(),We.insert=s().bind(null,"head"),We.domAPI=i(),We.insertStyleElement=f(),r()(ze.Z,We),ze.Z&&ze.Z.locals&&ze.Z.locals;var $e=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ve(e,t)}(s,t);var n,r,a,i,o=(a=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ke(a);if(i){var n=Ke(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Ge(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this,e)).state={highlighted:!1},t}return n=s,(r=[{key:"onClick",value:function(e){Ue.onCellClick({x:this.props.x,y:this.props.y},e)}},{key:"onMouseEnter",value:function(e){this.setState((function(e){return He(He({},e),{},{highlighted:!0})})),this.props.onMouseEnter({x:this.props.x,y:this.props.y},e)}},{key:"onMouseLeave",value:function(e){this.setState((function(e){return He(He({},e),{},{highlighted:!1})})),this.props.onMouseLeave({x:this.props.x,y:this.props.y},e)}},{key:"render",value:function(){var t,n,r=this,a=null===(t=Ue.getCell(this.props))||void 0===t?void 0:t.type,i=this.props.y%2==0,o={x:this.props.x*this.props.width+(i?0:this.props.width/2),y:this.props.y*(this.props.height/2)},s=(Ye(n={},T.Ground,"ground"),Ye(n,T.Empty,"empty"),Ye(n,T.Wall,"wall"),n),l=[];return a===T.Wall?l.push(e.createElement("polygon",{key:"polygon-1",points:"\n          ".concat(o.x+this.props.width/2,",").concat(o.y-this.props.height/2,"\n          ").concat(o.x+this.props.width,",").concat(o.y,"\n          ").concat(o.x+this.props.width/2,",").concat(o.y+this.props.height/2,"\n          ").concat(o.x,",").concat(o.y,"\n        ")}),e.createElement("polygon",{key:"polygon-2",points:"\n          ".concat(o.x,",").concat(o.y,"\n          ").concat(o.x,",").concat(o.y+this.props.height/2,"\n          ").concat(o.x+this.props.width/2,",").concat(o.y+this.props.height,"\n          ").concat(o.x+this.props.width/2,",").concat(o.y+this.props.height/2,"\n        ")}),e.createElement("polygon",{key:"polygon-3",points:"\n          ".concat(o.x+this.props.width/2,",").concat(o.y+this.props.height/2,"\n          ").concat(o.x+this.props.width/2,",").concat(o.y+this.props.height,"\n          ").concat(o.x+this.props.width,",").concat(o.y+this.props.height/2,"\n          ").concat(o.x+this.props.width,",").concat(o.y,"\n        ")})):l.push(e.createElement("polygon",{key:"polygon-4",points:"\n        ".concat(o.x+this.props.width/2,",").concat(o.y,"\n        ").concat(o.x+this.props.width,",").concat(o.y+this.props.height/2,"\n        ").concat(o.x+this.props.width/2,",").concat(o.y+this.props.height,"\n        ").concat(o.x,",").concat(o.y+this.props.height/2,"\n      ")})),l.push(e.createElement("polygon",{className:"base top",key:"base-top",points:"\n      ".concat(o.x+this.props.width/2,",").concat(o.y,"\n      ").concat(o.x+this.props.width,",").concat(o.y+this.props.height/2,"\n      ").concat(o.x,",").concat(o.y+this.props.height/2,"\n    "),onMouseEnter:function(){r.onMouseEnter(!0)},onMouseLeave:function(){r.onMouseLeave(!0)},onMouseUp:function(){r.onClick(!0)}}),e.createElement("polygon",{className:"base bottom",key:"base-bottom",points:"\n      ".concat(o.x+this.props.width,",").concat(o.y+this.props.height/2,"\n      ").concat(o.x+this.props.width/2,",").concat(o.y+this.props.height,"\n      ").concat(o.x,",").concat(o.y+this.props.height/2,"\n    "),onMouseEnter:function(){r.onMouseEnter(!1)},onMouseLeave:function(){r.onMouseLeave(!1)},onMouseUp:function(){r.onClick(!1)}})),e.createElement("g",{className:"cell ".concat(i?"even":"odd"," ").concat(this.state.highlighted?"hover":""," ").concat(s[a])},l)}}])&&qe(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(e.Component);const Xe=$e;function Je(e){return Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Je(e)}function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach((function(t){tt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rt(e,t){return rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rt(e,t)}function at(e){return at=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},at(e)}var it=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rt(e,t)}(s,t);var n,r,a,i,o=(a=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=at(a);if(i){var n=at(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Je(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this,e)).state={animX:void 0,animY:void 0,animate:!1,display:!0,highlight:!1},t.transitionCounter=0,t}return n=s,r=[{key:"show",value:function(){this.setState((function(e){return et(et({},e),{},{display:!0})}))}},{key:"hide",value:function(){this.setState((function(e){return et(et({},e),{},{display:!1})}))}},{key:"move",value:function(e,t){this.transitionCounter=2,ge(e,{type:j.Diagonal,min:0,max:40},t)&&(this.transitionCounter=1),this.setState({animX:t.x,animY:t.y,animate:!0})}},{key:"onTransitionEnd",value:function(){this.transitionCounter<=1?(this.setState({animX:void 0,animY:void 0,animate:!1}),Ue.onEntityTransitionEnd()):this.transitionCounter--}},{key:"setHighlight",value:function(e){this.setState((function(t){return et(et({},t),{},{highlight:e})}))}},{key:"render",value:function(){var t,n,r,a,i=this;if(this.state.display){var o=100/(Ue.width+.5),s=o/2,l=200/(2*Ue.width+(Ue.width>1?1:0))*this.props.entity.data.defaultScale,c=l,u=(null!==(t=this.state.animX)&&void 0!==t?t:this.props.entity.pos.x)*o+((null!==(n=this.state.animY)&&void 0!==n?n:this.props.entity.pos.y)%2==0?0:o/2),f=(null!==(r=this.state.animY)&&void 0!==r?r:this.props.entity.pos.y)*s/2,p=(tt(a={},G.Chakra,"./assets/img/states/Chakra.svg"),tt(a,G.Gravity,"./assets/img/states/Gravity.svg"),a),h=[],g=this.props.entity.states.toString(2).split("1").length-1,d=0;for(var m in p)this.props.entity.hasState(parseInt(m))&&(h.push(e.createElement("image",{className:"entity-state",href:p[m],x:u-o/5+o/2+(2*d-(g-1))*o/8,y:f-o/5,width:o/2.5,height:o/2.5})),d++);return e.createElement("g",{className:"entity ".concat(this.state.animate?"animating":""," ").concat(this.props.entity.team===M.Attacker?"attacker":"defender"," ").concat(this.state.highlight?"highlighted":"")},e.createElement("ellipse",{className:"entity-circle",cx:u+o/2,cy:f+s/2,rx:.3*o,ry:.3*s,onTransitionEnd:function(){i.onTransitionEnd()}}),e.createElement("image",{className:"entity-image",href:this.props.entity.data.image,x:u-l/2+o/2+this.props.entity.data.offsetX*o,y:f-c+.75*s+this.props.entity.data.offsetY*s,width:l,height:c}),h)}}}],r&&nt(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(e.Component);const ot=it;function st(e){return st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},st(e)}function lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ct(e,t){return ct=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ct(e,t)}function ut(e){return ut=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ut(e)}var ft=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ct(e,t)}(s,t);var n,r,a,i,o=(a=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ut(a);if(i){var n=ut(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===st(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),o.apply(this,arguments)}return n=s,r=[{key:"render",value:function(){for(var t=this,n=[],r=100/(Ue.width+.5),a=r/2,i=function(i){var o=t.props.entities[i];o instanceof k?n.push(e.createElement(Xe,{x:o.pos.x,y:o.pos.y,id:o.pos.y*Ue.width+o.pos.x,width:r,height:a,key:o.uuid,onMouseEnter:function(){},onMouseLeave:function(){}})):n.push(e.createElement(ot,{entity:o,ref:function(e){o.component=e},key:o.uuid}))},o=0;o<this.props.entities.length;o++)i(o);if(this.props.startPoint){var s={x:this.props.startPoint.x*r+(this.props.startPoint.y%2==0?0:r/2),y:this.props.startPoint.y*a/2};n.push(e.createElement("image",{className:"entity-image",key:"startpoint",href:"./assets/img/entities/Target.svg",x:s.x+.15*r,y:s.y+.15*a,width:.7*r,height:.7*a}))}return n}}],r&&lt(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(e.Component);const pt=ft;function ht(e){return ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ht(e)}function gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dt(e,t){return dt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},dt(e,t)}function mt(e){return mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mt(e)}var yt=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dt(e,t)}(s,t);var n,r,a,i,o=(a=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=mt(a);if(i){var n=mt(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===ht(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,e)}return n=s,(r=[{key:"render",value:function(){var t={x:this.props.x*this.props.width+(this.props.y%2==0?0:this.props.width/2),y:this.props.y*(this.props.height/2)},n=[];n.push(e.createElement("polygon",{key:"polygon",points:"\n      ".concat(t.x+this.props.width/2,",").concat(t.y,"\n      ").concat(t.x+this.props.width,",").concat(t.y+this.props.height/2,"\n      ").concat(t.x+this.props.width/2,",").concat(t.y+this.props.height,"\n      ").concat(t.x,",").concat(t.y+this.props.height/2)}));var r="";return this.props.borders&N.North&&(r+=" M ".concat(t.x+this.props.width/2,",").concat(t.y," L ").concat(t.x+this.props.width,",").concat(t.y+this.props.height/2," ")),this.props.borders&N.East&&(r+=" M ".concat(t.x+this.props.width,",").concat(t.y+this.props.height/2," L ").concat(t.x+this.props.width/2,",").concat(t.y+this.props.height," ")),this.props.borders&N.South&&(r+=" M ".concat(t.x+this.props.width/2,",").concat(t.y+this.props.height," L ").concat(t.x,",").concat(t.y+this.props.height/2," ")),this.props.borders&N.West&&(r+=" M ".concat(t.x,",").concat(t.y+this.props.height/2," L ").concat(t.x+this.props.width/2,",").concat(t.y," ")),n.push(e.createElement("path",{key:"path",d:r})),e.createElement("g",{className:"trap-cell ".concat(this.props.center?"trap-center":""," trap-").concat(this.props.type)},n)}}])&&gt(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(e.Component);const vt=yt;function bt(e){return bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bt(e)}function At(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?At(Object(n),!0).forEach((function(t){Ct(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):At(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Et(e,t){return Et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Et(e,t)}function kt(e){return kt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},kt(e)}var _t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Et(e,t)}(s,t);var n,r,a,i,o=(a=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=kt(a);if(i){var n=kt(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===bt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this,e)).state={display:!0},t}return n=s,(r=[{key:"show",value:function(){this.setState((function(e){return wt(wt({},e),{},{display:!0})})),this.props.trap.imgComponent.style.display=""}},{key:"hide",value:function(){this.setState((function(e){return wt(wt({},e),{},{display:!1})})),this.props.trap.imgComponent.style.display="none"}},{key:"setHighlight",value:function(e){Ue.getActionsFromTrap(this.props.trap).forEach((function(t){var n;null===(n=t.component)||void 0===n||n.setHighlight(e)})),this.props.setHighlight(this.props.trap.uuid,e)}},{key:"render",value:function(){for(var t=this,n=[],r=100/(Ue.width+.5),a=r/2,i=this.props.trap.getTrapCells(this.props.highlight),o=0;o<i.length;o++){var s,l=i[o].pos.x===this.props.trap.pos.x&&i[o].pos.y===this.props.trap.pos.y;(this.state.display||l)&&(null===(s=Ue.getCell(i[o].pos))||void 0===s?void 0:s.type)===T.Ground&&(i[o].borders|=Ue.getCellBorders(i[o].pos),n.push(e.createElement(vt,{x:i[o].pos.x,y:i[o].pos.y,id:i[o].pos.y*Ue.width+i[o].pos.x,center:l,setHighlight:function(e){t.setHighlight(e)},width:r,height:a,type:V[Ae(i[o].color)],borders:i[o].borders,key:o})))}return e.createElement("g",{className:"trap trap-".concat(V[Ae(this.props.trap.color)])},n)}}])&&xt(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(e.Component);const St=_t;function Tt(e){return Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tt(e)}function Pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(n),!0).forEach((function(t){jt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lt(e,t){return Lt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Lt(e,t)}function Rt(e){return Rt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Rt(e)}var It=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lt(e,t)}(s,t);var n,r,a,i,o=(a=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Rt(a);if(i){var n=Rt(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Tt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this,e)).state={highlighted:[]},t}return n=s,r=[{key:"setHighlight",value:function(e,t){this.setState((function(n){var r=n.highlighted;if(t)r.push(e);else for(var a=0;-1!==(a=r.indexOf(e));)r.splice(a,1);return Ot(Ot({},n),{},{highlighted:r})}))}},{key:"render",value:function(){for(var t=this,n=[],r=[],a=[],i=[],o=100/(Ue.width+.5),s=o/2,l=function(l){var c=t.props.traps[l],u=.7*ee[c.spellId].sfxSize,f=c.pos.x*o+(c.pos.y%2==0?0:o/2),p=c.pos.y*(s/2);n.push(e.createElement(St,{trap:c,ref:function(e){c.component=e},setHighlight:function(e,n){t.setHighlight(e,n)},highlight:!1,key:"trap-"+c.uuid})),t.state.highlighted.includes(t.props.traps[l].uuid)?(a.push(e.createElement(St,{trap:c,ref:function(e){c.component=e},setHighlight:function(e,n){t.setHighlight(e,n)},highlight:!0,key:"trap-hl-"+c.uuid})),i.push(e.createElement("image",{className:"trap-image ".concat(V[Ae(c.color)]),href:ee[c.spellId].sfx,x:f+o*((1-1.2*u)/2),y:p+s*((1-1.2*u)/2),width:o*u*1.2,height:s*u*1.2,key:c.uuid,ref:function(e){c.imgComponent=e}}))):r.push(e.createElement("image",{className:"trap-image ".concat(V[Ae(c.color)]),href:ee[c.spellId].sfx,x:f+o*((1-u)/2),y:p+s*((1-u)/2),width:o*u,height:s*u,key:c.uuid,ref:function(e){c.imgComponent=e},style:{display:t.props.traps[l].active?"":"none"}}))},c=this.props.traps.length-1;c>=0;c--)l(c);return[e.createElement("g",{key:"g-1",className:"tiles"},this.props.rows),e.createElement("g",{key:"g-2",className:"traps"},n,e.createElement("g",{className:"trap-images"},r),e.createElement("g",{className:"trap-highlighted"},a,e.createElement("g",{className:"trap-highlighted-images"},i)))]}}],r&&Mt(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(e.Component);const Nt=It;function Dt(e){return Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dt(e)}function Bt(e){return function(e){if(Array.isArray(e))return Ft(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ft(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ft(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ut(Object(n),!0).forEach((function(t){Wt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zt(e,t){return Zt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Zt(e,t)}function Ht(e){return Ht=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ht(e)}var Yt=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zt(e,t)}(s,t);var n,r,a,i,o=(a=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ht(a);if(i){var n=Ht(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Dt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this,e)).state={mouseIcon:void 0},t}return n=s,r=[{key:"onMouseEnterCell",value:function(e,t){var n,r=Ue.getEntity(e),a=Ue.getTrap(e);if(t&&r||!t&&!a&&r)null===(n=r.component)||void 0===n||n.setHighlight(!0);else if(a){var i;null===(i=a.component)||void 0===i||i.setHighlight(!0)}}},{key:"onMouseLeaveCell",value:function(e){var t,n=Ue.getEntity(e);n&&(null===(t=n.component)||void 0===t||t.setHighlight(!1));var r,a=Ue.getTrap(e);a&&(null===(r=a.component)||void 0===r||r.setHighlight(!1))}},{key:"setMouseIcon",value:function(e){this.setState((function(t){return zt(zt({},t),{},{mouseIcon:e})}))}},{key:"render",value:function(){for(var t=this,n=[],r=[],a=[],i=100/(this.props.cellNum+.5),o=i/2,s=0;s<this.props.rowNum;s++){for(var l=[],c=0;c<this.props.cellNum;c++){var u=Ue.getCell({x:c,y:s});(null==u?void 0:u.type)===T.Wall?a.push(u):l.push(e.createElement(Xe,{key:"cell-".concat(s*this.props.cellNum+c),y:s,x:c,id:s*this.props.cellNum+c,width:i,height:o,onMouseEnter:function(e,n){t.onMouseEnterCell(e,n)},onMouseLeave:function(e){t.onMouseLeaveCell(e)}}))}n.push(e.createElement("g",{className:"row ".concat(s%2==0?"even":"odd"),key:"row-".concat(s)},l))}r.push.apply(r,Bt(Ue.traps));var f=Array();f.push.apply(f,a),f.push.apply(f,Bt(Ue.entities)),f.sort((function(e,t){return e.pos.y-t.pos.y}));var p=2*this.props.cellNum+(this.props.rowNum>1?1:0),h=(this.props.rowNum+1)/2/p*100;return e.createElement("div",{className:"relative-height-source map"},e.createElement("div",{className:"mouse-icon"},this.state.mouseIcon?e.createElement("img",{src:this.state.mouseIcon}):void 0),e.createElement("svg",{className:"tiles",viewBox:"0 0 100 ".concat(h)},e.createElement(Nt,{rows:n,traps:r})),e.createElement("svg",{className:"entities",viewBox:"0 0 100 ".concat(h)},e.createElement(pt,{entities:f,startPoint:Ue.startPoint})))}}],r&&Gt(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(e.Component);const qt=Yt;var Vt=n(731),Kt={};function $t(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Xt(e){return Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xt(e)}function Jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Kt.styleTagTransform=h(),Kt.setAttributes=c(),Kt.insert=s().bind(null,"head"),Kt.domAPI=i(),Kt.insertStyleElement=f(),r()(Vt.Z,Kt),Vt.Z&&Vt.Z.locals&&Vt.Z.locals;var Qt=n(304),en=n.n(Qt),tn=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function nn(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},n=e.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(t.name=n[1],(en()[n[1]]||"/"===e.charAt(e.length-2))&&(t.voidElement=!0),t.name.startsWith("!--"))){var r=e.indexOf("--\x3e");return{type:"comment",comment:-1!==r?e.slice(4,r):""}}for(var a=new RegExp(tn),i=null;null!==(i=a.exec(e));)if(i[0].trim())if(i[1]){var o=i[1].trim(),s=[o,""];o.indexOf("=")>-1&&(s=o.split("=")),t.attrs[s[0]]=s[1],a.lastIndex--}else i[2]&&(t.attrs[i[2]]=i[3].trim().substring(1,i[3].length-1));return t}var rn=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,an=/^\s*$/,on=Object.create(null);function sn(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(e){var t=[];for(var n in e)t.push(n+'="'+e[n]+'"');return t.length?" "+t.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(sn,"")+"</"+t.name+">";case"comment":return e+"\x3c!--"+t.comment+"--\x3e"}}var ln={parse:function(e,t){t||(t={}),t.components||(t.components=on);var n,r=[],a=[],i=-1,o=!1;if(0!==e.indexOf("<")){var s=e.indexOf("<");r.push({type:"text",content:-1===s?e:e.substring(0,s)})}return e.replace(rn,(function(s,l){if(o){if(s!=="</"+n.name+">")return;o=!1}var c,u="/"!==s.charAt(1),f=s.startsWith("\x3c!--"),p=l+s.length,h=e.charAt(p);if(f){var g=nn(s);return i<0?(r.push(g),r):((c=a[i]).children.push(g),r)}if(u&&(i++,"tag"===(n=nn(s)).type&&t.components[n.name]&&(n.type="component",o=!0),n.voidElement||o||!h||"<"===h||n.children.push({type:"text",content:e.slice(p,e.indexOf("<",p))}),0===i&&r.push(n),(c=a[i-1])&&c.children.push(n),a[i]=n),(!u||n.voidElement)&&(i>-1&&(n.voidElement||n.name===s.slice(2,-1))&&(i--,n=-1===i?r:a[i]),!o&&"<"!==h&&h)){c=-1===i?r:a[i].children;var d=e.indexOf("<",p),m=e.slice(p,-1===d?void 0:d);an.test(m)&&(m=" "),(d>-1&&i+c.length>=0||" "!==m)&&c.push({type:"text",content:m})}})),r},stringify:function(e){return e.reduce((function(e,t){return e+sn("",t)}),"")}};const cn=ln;function un(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pn(e,t,n){return t&&fn(e.prototype,t),n&&fn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var hn=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,gn={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},dn=function(e){return gn[e]};function mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mn(Object(n),!0).forEach((function(t){Jt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vn,bn={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:function(e){return e.replace(hn,dn)}},An=(0,e.createContext)();pn((function e(){un(this,e),this.usedNamespaces={}}),[{key:"addUsedNamespaces",value:function(e){var t=this;e.forEach((function(e){t.usedNamespaces[e]||(t.usedNamespaces[e]=!0)}))}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]);var wn={type:"3rdParty",init:function(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};bn=yn(yn({},bn),e)}(e.options.react),function(e){vn=e}(e)}};function Cn(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"string"==typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}var xn={};var En=["format"],kn=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function _n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_n(Object(n),!0).forEach((function(t){Jt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_n(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tn(e,t){if(!e)return!1;var n=e.props?e.props.children:e.children;return t?n.length>0:!!n}function Pn(e){return e?e.props?e.props.children:e.children:[]}function On(e){return Array.isArray(e)?e:[e]}function jn(t,n){if(!t)return"";var r="",a=On(t),i=n.transSupportBasicHtmlNodes&&n.transKeepBasicHtmlNodesFor?n.transKeepBasicHtmlNodesFor:[];return a.forEach((function(t,a){if("string"==typeof t)r+="".concat(t);else if((0,e.isValidElement)(t)){var o=Object.keys(t.props).length,s=i.indexOf(t.type)>-1,l=t.props.children;if(!l&&s&&0===o)r+="<".concat(t.type,"/>");else if(l||s&&0===o)if(t.props.i18nIsDynamicList)r+="<".concat(a,"></").concat(a,">");else if(s&&1===o&&"string"==typeof l)r+="<".concat(t.type,">").concat(l,"</").concat(t.type,">");else{var c=jn(l,n);r+="<".concat(a,">").concat(c,"</").concat(a,">")}else r+="<".concat(a,"></").concat(a,">")}else if(null===t)Cn("Trans: the passed in value is invalid - seems you passed in a null child.");else if("object"===Xt(t)){var u=t.format,f=$t(t,En),p=Object.keys(f);if(1===p.length){var h=u?"".concat(p[0],", ").concat(u):p[0];r+="{{".concat(h,"}}")}else Cn("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",t)}else Cn("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",t)})),r}function Mn(t){var n=t.children,r=t.count,a=t.parent,i=t.i18nKey,o=t.context,s=t.tOptions,l=void 0===s?{}:s,c=t.values,u=t.defaults,f=t.components,p=t.ns,h=t.i18n,g=t.t,d=t.shouldUnescape,m=$t(t,kn),y=(0,e.useContext)(An)||{},v=y.i18n,b=y.defaultNS,A=h||v||vn;if(!A)return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"==typeof t[0]&&xn[t[0]]||("string"==typeof t[0]&&(xn[t[0]]=new Date),Cn.apply(void 0,t))}("You will need to pass in an i18next instance by using i18nextReactModule"),n;var w=g||A.t.bind(A)||function(e){return e};o&&(l.context=o);var C=Sn(Sn({},bn),A.options&&A.options.react),x=p||w.ns||b||A.options&&A.options.defaultNS;x="string"==typeof x?[x]:x||["translation"];var E=u||jn(n,C)||C.transEmptyNodeValue||i,k=C.hashTransKey,_=i||(k?k(E):E),S=c?l.interpolation:{interpolation:Sn(Sn({},l.interpolation),{},{prefix:"#$?",suffix:"?$#"})},T=Sn(Sn(Sn(Sn({},l),{},{count:r},c),S),{},{defaultValue:E,ns:x}),P=function(t,n,r,a,i,o){if(""===n)return[];var s=a.transKeepBasicHtmlNodesFor||[],l=n&&new RegExp(s.join("|")).test(n);if(!t&&!l)return[n];var c={};!function t(n){On(n).forEach((function(n){"string"!=typeof n&&(Tn(n)?t(Pn(n)):"object"!==Xt(n)||(0,e.isValidElement)(n)||Object.assign(c,n))}))}(t);var u=cn.parse("<0>".concat(n,"</0>")),f=Sn(Sn({},c),i);function p(t,n,r){var a=Pn(t),i=g(a,n.children,r);return function(t){return"[object Array]"===Object.prototype.toString.call(t)&&t.every((function(t){return(0,e.isValidElement)(t)}))}(a)&&0===i.length?a:i}function h(t,n,r,a,i){t.dummy&&(t.children=n),r.push((0,e.cloneElement)(t,Sn(Sn({},t.props),{},{key:a}),i?void 0:n))}function g(n,i,c){var u=On(n);return On(i).reduce((function(n,i,d){var m,y,v,b=i.children&&i.children[0]&&i.children[0].content&&r.services.interpolator.interpolate(i.children[0].content,f,r.language);if("tag"===i.type){var A=u[parseInt(i.name,10)];!A&&1===c.length&&c[0][i.name]&&(A=c[0][i.name]),A||(A={});var w=0!==Object.keys(i.attrs).length?(m={props:i.attrs},(v=Sn({},y=A)).props=Object.assign(m.props,y.props),v):A,C=(0,e.isValidElement)(w),x=C&&Tn(i,!0)&&!i.voidElement,E=l&&"object"===Xt(w)&&w.dummy&&!C,k="object"===Xt(t)&&null!==t&&Object.hasOwnProperty.call(t,i.name);if("string"==typeof w){var _=r.services.interpolator.interpolate(w,f,r.language);n.push(_)}else if(Tn(w)||x)h(w,p(w,i,c),n,d);else if(E){var S=g(u,i.children,c);n.push((0,e.cloneElement)(w,Sn(Sn({},w.props),{},{key:d}),S))}else if(Number.isNaN(parseFloat(i.name)))if(k)h(w,p(w,i,c),n,d,i.voidElement);else if(a.transSupportBasicHtmlNodes&&s.indexOf(i.name)>-1)if(i.voidElement)n.push((0,e.createElement)(i.name,{key:"".concat(i.name,"-").concat(d)}));else{var T=g(u,i.children,c);n.push((0,e.createElement)(i.name,{key:"".concat(i.name,"-").concat(d)},T))}else if(i.voidElement)n.push("<".concat(i.name," />"));else{var P=g(u,i.children,c);n.push("<".concat(i.name,">").concat(P,"</").concat(i.name,">"))}else if("object"!==Xt(w)||C)1===i.children.length&&b?n.push((0,e.cloneElement)(w,Sn(Sn({},w.props),{},{key:d}),b)):n.push((0,e.cloneElement)(w,Sn(Sn({},w.props),{},{key:d})));else{var O=i.children[0]?b:null;O&&n.push(O)}}else if("text"===i.type){var j=a.transWrapTextNodes,M=o?a.unescape(r.services.interpolator.interpolate(i.content,f,r.language)):r.services.interpolator.interpolate(i.content,f,r.language);j?n.push((0,e.createElement)(j,{key:"".concat(i.name,"-").concat(d)},M)):n.push(M)}return n}),[])}return Pn(g([{dummy:!0,children:t||[]}],u,On(t||[]))[0])}(f||n,_?w(_,T):E,A,C,T,d),O=void 0!==a?a:C.defaultTransParent;return O?(0,e.createElement)(O,m,P):P}var Ln=n(197),Rn=n.n(Ln);const In={0:{name_fr:"Map vide",filename:"0.json"},5242886:{name_fr:"Grotte Hesque",filename:"5242886.json"},21497858:{name_fr:"Canope du Kimbo",filename:"21497858.json"},22284290:{name_fr:"Cale de l'Arche d'Otomai",filename:"22284290.json"},22809602:{name_fr:"Goulet du Rasboul",filename:"22809602.json"},26740736:{name_fr:"L'Antre du Kralamoure",filename:"26740736.json"},34472450:{name_fr:"Salle du Minotot",filename:"34472450.json"},34473474:{name_fr:"Salle du Minotoror",filename:"34473474.json"},55053312:{name_fr:"Serre du Royalmouth",filename:"55053312.json"},56102912:{name_fr:"Excavation du Mansot Royal",filename:"56102912.json"},56365056:{name_fr:"pave du Grolandais violent",filename:"56365056.json"},57155841:{name_fr:"Hypoge de l'Obsidiantre",filename:"57155841.json"},57938689:{name_fr:"Donjon de la mine de Saka",filename:"57938689.json"},59515904:{name_fr:"Tanire Givrefoux (Tengu + Fuji)",filename:"59515904.json"},59516162:{name_fr:"Tanire Givrefoux (Tengu)",filename:"59516162.json"},61868036:{name_fr:"Cavernes du Kolosso",filename:"61868036.json"},62135816:{name_fr:"Antichambre des Gloursons",filename:"62135816.json"},62919680:{name_fr:"Antre du Korriandre",filename:"62919680.json"},64753664:{name_fr:"Nid du Kwakwa",filename:"64753664.json"},66326528:{name_fr:"Maison du Papa Nowel",filename:"66326528.json"},66589184:{name_fr:"Donjon de Nowel",filename:"66589184.json"},66850816:{name_fr:"Caverne de Nowel",filename:"66850816.json"},72361984:{name_fr:"Antre du Dragon Cochon",filename:"72361984.json"},87033346:{name_fr:"Donjon des Squelettes",filename:"87033346.json"},87296515:{name_fr:"Donjon des Forgerons",filename:"87296515.json"},89392130:{name_fr:"Laboratoire du Tynril",filename:"89392130.json"},94115840:{name_fr:"Donjon des Scarafeuilles",filename:"94115840.json"},96209922:{name_fr:"Donjon des Tofus",filename:"96209922.json"},96209926:{name_fr:"Tofulailler Royal",filename:"96209926.json"},96998917:{name_fr:"Donjon des Larves",filename:"96998917.json"},98566661:{name_fr:"La Gelaxime Dimension (Bleue)",filename:"98566661.json"},98566663:{name_fr:"La Gelaxime Dimension (Citron)",filename:"98566663.json"},98567685:{name_fr:"La Gelaxime Dimension (Menthe)",filename:"98567685.json"},98567687:{name_fr:"La Gelaxime Dimension",filename:"98567687.json"},98568709:{name_fr:"La Gelaxime Dimension (Fraise)",filename:"98568709.json"},101193728:{name_fr:"Potager d'Halouine",filename:"101193728.json"},102760963:{name_fr:"Repaire de Sphincter Cell",filename:"102760963.json"},104333827:{name_fr:"Grotte du Bworker",filename:"104333827.json"},104596995:{name_fr:"Donjon des Bworks",filename:"104596995.json"},106434560:{name_fr:"Fonderie des Waddicts",filename:"106434560.json"},106960896:{name_fr:"Pitons Rocheux des Craqueleurs",filename:"106960896.json"},107227136:{name_fr:"Caverne du Koulosse",filename:"107227136.json"},107485184:{name_fr:"Repaire de Skeunk",filename:"107485184.json"},109576707:{name_fr:"Laboratoire de Nileza",filename:"109576707.json"},109840899:{name_fr:"Forgefroide de Missiz Frizz",filename:"109840899.json"},110101506:{name_fr:"Transporteur de Sylargh",filename:"110101506.json"},110363650:{name_fr:"Salons privs de Klime",filename:"110363650.json"},112203265:{name_fr:"Donjon du Comte (Klime)",filename:"112203265.json"},112203269:{name_fr:"Donjon du Comte (Missiz Frizz)",filename:"112203269.json"},112203271:{name_fr:"Donjon du Comte (Nileza)",filename:"112203271.json"},112203521:{name_fr:"Donjon du Comte (Sylargh)",filename:"112203521.json"},112203523:{name_fr:"Donjon du Comte",filename:"112203523.json"},116392450:{name_fr:"Chteau du Wa Wabbit",filename:"116392450.json"},116654595:{name_fr:"Terrier du Wa Wabbit",filename:"116654595.json"},118231040:{name_fr:"Thtre de Dramak",filename:"118231040.json"},119277059:{name_fr:"Aquadme de Merkator",filename:"119277059.json"},121374211:{name_fr:"Cour du Bouftou Royal",filename:"121374211.json"},123212800:{name_fr:"Pyramide d'Ombre",filename:"123212800.json"},125831683:{name_fr:"Grotte de Kanigroula",filename:"125831683.json"},129500160:{name_fr:"Palais du roi Nidas",filename:"129500160.json"},130286592:{name_fr:"Fabrique de Mallfisk",filename:"130286592.json"},130548736:{name_fr:"Galerie du Phossile",filename:"130548736.json"},132911104:{name_fr:"Volire de la Haute Truche",filename:"132911104.json"},136578048:{name_fr:"Ring du Capitaine Ekarlatte",filename:"136578048.json"},136840192:{name_fr:"Cave du Toxoliath",filename:"136840192.json"},137101312:{name_fr:"Trne de la Cour Sombre",filename:"137101312.json"},140776448:{name_fr:"Ventre de la baleine",filename:"140776448.json"},143138823:{name_fr:"Mgalithe de Fraktale",filename:"143138823.json"},143393281:{name_fr:"il de Vortex",filename:"143393281.json"},143917569:{name_fr:"Horologium de XLII",filename:"143917569.json"},146670592:{name_fr:"Cache de Kankreblath",filename:"146670592.json"},149165056:{name_fr:"Antre de la Reine Nye",filename:"149165056.json"},149427200:{name_fr:"Clairire du Chne Mou",filename:"149427200.json"},149688320:{name_fr:"Domaine Ancestral",filename:"149688320.json"},152834048:{name_fr:"Crypte de Kardorim",filename:"152834048.json"},155718656:{name_fr:"Tanire du Meulou",filename:"155718656.json"},157028352:{name_fr:"Bateau du Chouque",filename:"157028352.json"},157290496:{name_fr:"Arbre de Moon",filename:"157290496.json"},157552640:{name_fr:"Village Kanniboul",filename:"157552640.json"},159125512:{name_fr:"Bibliothque du Maitre Corbac",filename:"159125512.json"},160564224:{name_fr:"Dfi du Chalil",filename:"160564224.json"},161743872:{name_fr:"Miausole du Pounicheur",filename:"161743872.json"},162004992:{name_fr:"Plateau de Ush",filename:"162004992.json"},163582464:{name_fr:"Maison Fantme",filename:"163582464.json"},166985730:{name_fr:"Clos des Blops (Indigo)",filename:"166985730.json"},166986754:{name_fr:"Clos des Blops (Griotte)",filename:"166986754.json"},166987778:{name_fr:"Clos des Blops (Reinette)",filename:"166987778.json"},166988802:{name_fr:"Clos des Blops (Coco)",filename:"166988802.json"},166990850:{name_fr:"Antre du Blop Multicolore Royal",filename:"166990850.json"},169349120:{name_fr:"Temple de Koutoulou",filename:"169349120.json"},169611264:{name_fr:"Palais de Dantina",filename:"169611264.json"},169873408:{name_fr:"Vaisseau du Capitaine Meno",filename:"169873408.json"},174070272:{name_fr:"Caverne d'El Piko",filename:"174070272.json"},174330368:{name_fr:"Cimetire des Mastodontes",filename:"174330368.json"},175902208:{name_fr:"Boyau du Pre Ver",filename:"175902208.json"},176164864:{name_fr:"Chambre de Tal Kasha",filename:"176164864.json"},176951296:{name_fr:"Laboratoire de Brumen Tinctorias",filename:"176951296.json"},179572736:{name_fr:"Camp du Comte Razof",filename:"179572736.json"},181669888:{name_fr:"Chapiteau des Magik Riktus",filename:"181669888.json"},182192129:{name_fr:"Temple du Grand Ougah",filename:"182192129.json"},182456320:{name_fr:"Temple Maudit d'Araknas",filename:"182456320.json"},182718464:{name_fr:"Manoir des Katrepat",filename:"182718464.json"},184686337:{name_fr:"Belvdre d'Ilyzaelle",filename:"184686337.json"},187437056:{name_fr:"Tour de Bethel",filename:"187437056.json"},187957512:{name_fr:"Tour de Solar",filename:"187957512.json"},190318592:{name_fr:"Grange du Tournesol Affam",filename:"190318592.json"},193729536:{name_fr:"Chteau Ensabl",filename:"193729536.json"},195039232:{name_fr:"Brasserie du roi Dazak",filename:"195039232.json"},197398528:{name_fr:"La Croquanterie",filename:"197398528.json"},197660672:{name_fr:"Temple du dieu Kao",filename:"197660672.json"},198709248:{name_fr:"Sanctuaire de Torklonia",filename:"198709248.json"},198972416:{name_fr:"Antre de Crocabulia",filename:"198972416.json"},199495680:{name_fr:"Repaire du Kharnozor",filename:"199495680.json"},199757824:{name_fr:"preuve de Draegnerys",filename:"199757824.json"},202379264:{name_fr:"Trne de sang",filename:"202379264.json"},202641408:{name_fr:"Arbre de mort",filename:"202641408.json"},203165696:{name_fr:"Fers de la Tyrannie",filename:"203165696.json"},203427840:{name_fr:"Sentence de la Balance",filename:"203427840.json"},204476416:{name_fr:"Tempte de l'Eliocalypse",filename:"204476416.json"},207884288:{name_fr:"Dojo du Vent",filename:"207884288.json"},208146432:{name_fr:"Valle de la Dame des eaux",filename:"208146432.json"},208408576:{name_fr:"Fabrique de foux d'artifice",filename:"208408576.json"},208670720:{name_fr:"Bambusaie de Damadrya",filename:"208670720.json"},208932864:{name_fr:"Atelier du Tanukou San",filename:"208932864.json"},209981440:{name_fr:"Tombe du Shogun Tofugawa",filename:"209981440.json"},210243584:{name_fr:"Demeure des Esprits",filename:"210243584.json"},211551232:{name_fr:"Mmoire d'Orukam",filename:"211551232.json"},211813376:{name_fr:"Souvenir d'Imagiro",filename:"211813376.json"},215486464:{name_fr:"Rituel de Kabahal",filename:"215486464.json"},218632192:{name_fr:"Garde-manger du Rat Blanc",filename:"218632192.json"},218894336:{name_fr:"Sousouricire du Rat Noir",filename:"218894336.json"},220467200:{name_fr:"Bataille de l'Aurore Pourpre",filename:"220467200.json"},220729857:{name_fr:"Tertre du long sommeil",filename:"220729857.json"},221778432:{name_fr:"Akadmie des Gobs",filename:"221778432.json"},223875072:{name_fr:"Chambre des malfices",filename:"223875072.json"},224137216:{name_fr:"Refuge sylvestre",filename:"224137216.json"},225185792:{name_fr:"Bastion des Marteaux-Aigris",filename:"225185792.json"}};function Nn(e){return Nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nn(e)}function Dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dn(Object(n),!0).forEach((function(t){Fn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Un(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zn(e,t){return zn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},zn(e,t)}function Wn(e){return Wn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wn(e)}var Gn=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zn(e,t)}(s,t);var n,r,a,i,o=(a=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Wn(a);if(i){var n=Wn(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Nn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this,e)).props.configObj instanceof re&&(t.state={entity:{off:t.props.configObj.offensiveStats,def:t.props.configObj.defensiveStats,moving:!1}}),t}return n=s,(r=[{key:"onChange",value:function(e,t){if(!Ue.isRunning){var n=0===t.length?0:parseInt(t);isNaN(n)||this.setState((function(t){var r=t;switch(e){case"str":r.entity.off.strength=n;break;case"cha":r.entity.off.chance=n;break;case"int":r.entity.off.intelligence=n;break;case"agi":r.entity.off.agility=n;break;case"power":r.entity.off.power=n;break;case"trap":r.entity.off.powerTrap=n;break;case"damage":r.entity.off.damage=n;break;case"daNeutral":r.entity.off.damageNeutral=n;break;case"daEarth":r.entity.off.damageEarth=n;break;case"daWater":r.entity.off.damageWater=n;break;case"daFire":r.entity.off.damageFire=n;break;case"daAir":r.entity.off.damageAir=n;break;case"daTrap":r.entity.off.damageTrap=n;break;case"daPush":r.entity.off.damagePush=n;break;case"ranged":r.entity.off.damageRanged=n;break;case"melee":r.entity.off.damageMelee=n;break;case"spell":r.entity.off.damageSpell=n;break;case"final":r.entity.off.damageFinal=n;break;case"neutral":r.entity.def.neutral=n;break;case"earth":r.entity.def.earth=n;break;case"water":r.entity.def.water=n;break;case"fire":r.entity.def.fire=n;break;case"air":r.entity.def.air=n;break;case"resNeutral":r.entity.def.resistanceNeutral=n;break;case"resEarth":r.entity.def.resistanceEarth=n;break;case"resWater":r.entity.def.resistanceWater=n;break;case"resFire":r.entity.def.resistanceFire=n;break;case"resAir":r.entity.def.resistanceAir=n;break;case"resPush":r.entity.def.resistancePush=n;break;case"rangedRes":r.entity.def.resistanceRanged=n;break;case"meleeRes":r.entity.def.resistanceMelee=n;break;case"spellRes":r.entity.def.resistanceSpell=n}return r}))}}},{key:"onMoveBtnClick",value:function(){if(!Ue.isRunning){var e=!this.state.entity.moving;this.setState((function(t){return Bn(Bn({},t),{},{entity:Bn(Bn({},t.entity),{},{moving:e})})})),e&&this.props.configObj instanceof re?Ue.setMovingEntity(this.props.configObj):Ue.setMovingEntity(null)}}},{key:"render",value:function(){var t=this;if(this.props.configObj instanceof re){var n=Math.max(0,Math.min(1,this.props.configObj.currentHealth/(this.props.configObj.health<=0?1:this.props.configObj.health)));return e.createElement("div",null,e.createElement("div",{className:"entity-infos"},e.createElement("div",{className:"image team-".concat(this.props.configObj.team===M.Attacker?"red":"blue")},e.createElement("img",{src:this.props.configObj.data.image,alt:""})),e.createElement("div",{className:"base-infos"},e.createElement("span",null,e.createElement(Mn,null,this.props.configObj.data.name)),e.createElement("div",{className:"health"},e.createElement("img",{className:"hp-full",src:"./assets/img/other/icon_hp_full.png",alt:"Life"}),e.createElement("img",{style:{height:50*(1-n)},className:"hp-empty",src:"./assets/img/other/icon_hp_empty.png",alt:"Life"}),e.createElement("span",{className:"hp-current"},Math.floor(this.props.configObj.currentHealth)),e.createElement("span",{className:"hp-max"},this.props.configObj.health)),e.createElement("div",{className:"btn-move ".concat(this.state.entity.moving?"active":""),onClick:function(){t.onMoveBtnClick()}},e.createElement(Mn,null,"Move")))),e.createElement("h3",null,e.createElement(Mn,null,"Offensive characteristics")),e.createElement("ul",{className:"offensive-stats"},e.createElement("li",null,e.createElement("img",{src:"./assets/img/characteristics/tx_strength.png",alt:""}),e.createElement("span",null,e.createElement(Mn,null,"Strength")),e.createElement("input",{onChange:function(e){t.onChange("str",e.target.value)},type:"number",value:this.state.entity.off.strength})),e.createElement("li",null,e.createElement("img",{src:"./assets/img/characteristics/tx_intelligence.png",alt:""}),e.createElement("span",null,e.createElement(Mn,null,"Intelligence")),e.createElement("input",{onChange:function(e){t.onChange("int",e.target.value)},type:"number",value:this.state.entity.off.intelligence})),e.createElement("li",null,e.createElement("img",{src:"./assets/img/characteristics/tx_chance.png",alt:""}),e.createElement("span",null,e.createElement(Mn,null,"Chance")),e.createElement("input",{onChange:function(e){t.onChange("cha",e.target.value)},type:"number",value:this.state.entity.off.chance})),e.createElement("li",null,e.createElement("img",{src:"./assets/img/characteristics/tx_agility.png",alt:""}),e.createElement("span",null,e.createElement(Mn,null,"Agility")),e.createElement("input",{onChange:function(e){t.onChange("agi",e.target.value)},type:"number",value:this.state.entity.off.agility})),e.createElement("li",null,e.createElement("img",{src:"./assets/img/characteristics/tx_damagesPercent.png",alt:""}),e.createElement("span",null,e.createElement(Mn,null,"Power")),e.createElement("input",{onChange:function(e){t.onChange("power",e.target.value)},type:"number",value:this.state.entity.off.power})),e.createElement("li",null,e.createElement("img",{src:"./assets/img/characteristics/tx_trapPercent.png",alt:""}),e.createElement("span",null,e.createElement(Mn,null,"Trap Power")),e.createElement("input",{onChange:function(e){t.onChange("trap",e.target.value)},type:"number",value:this.state.entity.off.powerTrap})),e.createElement("hr",null),e.createElement("li",null,e.createElement("img",{src:"./assets/img/characteristics/tx_damage.png",alt:""}),e.createElement("span",null,e.createElement(Mn,null,"Damage")),e.createElement("input",{onChange:function(e){t.onChange("damage",e.target.value)},type:"number",value:this.state.entity.off.damage})),e.createElement("li",null,e.createElement("img",{src:"",alt:""}),e.createElement("span",null,e.createElement(Mn,null,"Neutral da.")),e.createElement("input",{onChange:function(e){t.onChange("daNeutral",e.target.value)},type:"number",value:this.state.entity.off.damageNeutral})),e.createElement("li",null,e.createElement("img",{src:"",alt:""}),e.createElement("span",null,e.createElement(Mn,null,"Earth da.")),e.createElement("input",{onChange:function(e){t.onChange("daEarth",e.target.value)},type:"number",value:this.state.entity.off.damageEarth})),e.createElement("li",null,e.createElement("img",{src:"",alt:""}),e.createElement("span",null,e.createElement(Mn,null,"Fire da.")),e.createElement("input",{onChange:function(e){t.onChange("daFire",e.target.value)},type:"number",value:this.state.entity.off.damageFire})),e.createElement("li",null,e.createElement("img",{src:"",alt:""}),e.createElement("span",null,e.createElement(Mn,null,"Water da.")),e.createElement("input",{onChange:function(e){t.onChange("daWater",e.target.value)},type:"number",value:this.state.entity.off.damageWater})),e.createElement("li",null,e.createElement("img",{src:"",alt:""}),e.createElement("span",null,e.createElement(Mn,null,"Air da.")),e.createElement("input",{onChange:function(e){t.onChange("daAir",e.target.value)},type:"number",value:this.state.entity.off.damageAir})),e.createElement("li",null,e.createElement("img",{src:"./assets/img/characteristics/tx_trap.png",alt:""}),e.createElement("span",null,e.createElement(Mn,null,"Trap da.")),e.createElement("input",{onChange:function(e){t.onChange("daTrap",e.target.value)},type:"number",value:this.state.entity.off.damageTrap})),e.createElement("li",null,e.createElement("img",{src:"./assets/img/characteristics/tx_push.png",alt:""}),e.createElement("span",null,e.createElement(Mn,null,"Push da.")),e.createElement("input",{onChange:function(e){t.onChange("daPush",e.target.value)},type:"number",value:this.state.entity.off.damagePush})),e.createElement("hr",null),e.createElement("li",null,e.createElement("img",{src:"",alt:""}),e.createElement("span",null,e.createElement(Mn,null,"Ranged %")),e.createElement("input",{onChange:function(e){t.onChange("ranged",e.target.value)},type:"number",value:this.state.entity.off.damageRanged})),e.createElement("li",null,e.createElement("img",{src:"",alt:""}),e.createElement("span",null,e.createElement(Mn,null,"Melee %")),e.createElement("input",{onChange:function(e){t.onChange("melee",e.target.value)},type:"number",value:this.state.entity.off.damageMelee})),e.createElement("li",null,e.createElement("img",{src:"",alt:""}),e.createElement("span",null,e.createElement(Mn,null,"Spell %")),e.createElement("input",{onChange:function(e){t.onChange("spell",e.target.value)},type:"number",value:this.state.entity.off.damageSpell})),e.createElement("li",null,e.createElement("img",{src:"",alt:""}),e.createElement("span",null,e.createElement(Mn,null,"Final %")),e.createElement("input",{onChange:function(e){t.onChange("final",e.target.value)},type:"number",value:this.state.entity.off.damageFinal}))),e.createElement("h3",null,e.createElement(Mn,null,"Defensive characteristics")),e.createElement("ul",{className:"offensive-stats"},e.createElement("li",null,e.createElement("img",{src:"./assets/img/characteristics/tx_neutral.png",alt:""}),e.createElement("span",null,e.createElement(Mn,null,"Neutral %")),e.createElement("input",{onChange:function(e){t.onChange("neutral",e.target.value)},type:"number",value:this.state.entity.def.neutral})),e.createElement("li",null,e.createElement("img",{src:"./assets/img/characteristics/tx_strength.png",alt:""}),e.createElement("span",null,e.createElement(Mn,null,"Earth %")),e.createElement("input",{onChange:function(e){t.onChange("earth",e.target.value)},type:"number",value:this.state.entity.def.earth})),e.createElement("li",null,e.createElement("img",{src:"./assets/img/characteristics/tx_intelligence.png",alt:""}),e.createElement("span",null,e.createElement(Mn,null,"Fire %")),e.createElement("input",{onChange:function(e){t.onChange("fire",e.target.value)},type:"number",value:this.state.entity.def.fire})),e.createElement("li",null,e.createElement("img",{src:"./assets/img/characteristics/tx_chance.png",alt:""}),e.createElement("span",null,e.createElement(Mn,null,"Water %")),e.createElement("input",{onChange:function(e){t.onChange("water",e.target.value)},type:"number",value:this.state.entity.def.water})),e.createElement("li",null,e.createElement("img",{src:"./assets/img/characteristics/tx_agility.png",alt:""}),e.createElement("span",null,e.createElement(Mn,null,"Air %")),e.createElement("input",{onChange:function(e){t.onChange("air",e.target.value)},type:"number",value:this.state.entity.def.air})),e.createElement("hr",null),e.createElement("li",null,e.createElement("img",{src:"",alt:""}),e.createElement("span",null,e.createElement(Mn,null,"Neutral res.")),e.createElement("input",{onChange:function(e){t.onChange("resNeutral",e.target.value)},type:"number",value:this.state.entity.def.resistanceNeutral})),e.createElement("li",null,e.createElement("img",{src:"",alt:""}),e.createElement("span",null,e.createElement(Mn,null,"Earth res.")),e.createElement("input",{onChange:function(e){t.onChange("resEarth",e.target.value)},type:"number",value:this.state.entity.def.resistanceEarth})),e.createElement("li",null,e.createElement("img",{src:"",alt:""}),e.createElement("span",null,e.createElement(Mn,null,"Fire res.")),e.createElement("input",{onChange:function(e){t.onChange("resFire",e.target.value)},type:"number",value:this.state.entity.def.resistanceFire})),e.createElement("li",null,e.createElement("img",{src:"",alt:""}),e.createElement("span",null,e.createElement(Mn,null,"Water res.")),e.createElement("input",{onChange:function(e){t.onChange("resWater",e.target.value)},type:"number",value:this.state.entity.def.resistanceWater})),e.createElement("li",null,e.createElement("img",{src:"",alt:""}),e.createElement("span",null,e.createElement(Mn,null,"Air res.")),e.createElement("input",{onChange:function(e){t.onChange("resAir",e.target.value)},type:"number",value:this.state.entity.def.resistanceAir})),e.createElement("li",null,e.createElement("img",{src:"./assets/img/characteristics/tx_push.png",alt:""}),e.createElement("span",null,e.createElement(Mn,null,"Push res.")),e.createElement("input",{onChange:function(e){t.onChange("resPush",e.target.value)},type:"number",value:this.state.entity.def.resistancePush})),e.createElement("hr",null),e.createElement("li",null,e.createElement("img",{src:"",alt:""}),e.createElement("span",null,e.createElement(Mn,null,"Ranged res. %")),e.createElement("input",{onChange:function(e){t.onChange("rangedRes",e.target.value)},type:"number",value:this.state.entity.def.resistanceRanged})),e.createElement("li",null,e.createElement("img",{src:"",alt:""}),e.createElement("span",null,e.createElement(Mn,null,"Melee res. %")),e.createElement("input",{onChange:function(e){t.onChange("meleeRes",e.target.value)},type:"number",value:this.state.entity.def.resistanceMelee})),e.createElement("li",null,e.createElement("img",{src:"",alt:""}),e.createElement("span",null,e.createElement(Mn,null,"Spell res. %")),e.createElement("input",{onChange:function(e){t.onChange("spellRes",e.target.value)},type:"number",value:this.state.entity.def.resistanceSpell}))))}return this.props.configObj,e.createElement("div",null)}}])&&Un(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(e.Component);const Zn=Gn;function Hn(e){return Hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hn(e)}function Yn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yn(Object(n),!0).forEach((function(t){Vn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $n(e,t){return $n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$n(e,t)}function Xn(e){return Xn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Xn(e)}var Jn=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$n(e,t)}(s,t);var n,r,a,i,o=(a=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Xn(a);if(i){var n=Xn(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Hn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this,e)).state={shareText:"",configObj:void 0},t}return n=s,r=[{key:"onSelectMap",value:function(e){confirm("Attention, changer la map rinitialisera tous les piges et entits !")&&Ue.loadMap(e)}},{key:"onReorderTraps",value:function(e,t){var n=Ue.traps.length-e-1,r=Ue.traps.length-t-1;Ue.reorderTraps(n,r,!0)}},{key:"onExport",value:function(){this.setState((function(e){return qn(qn({},e),{},{shareText:Ue.serialize()})}))}},{key:"onImport",value:function(){var e=prompt("Importer un rseau :");null!==e&&(Ue.unserialize(e)||alert("L'importation a chou"))}},{key:"onClickMainChara",value:function(){this.openConfig(Ue.mainCharacter)}},{key:"selectContents",value:function(e){var t=document.createRange();t.selectNodeContents(e);var n=window.getSelection();n.removeAllRanges(),n.addRange(t)}},{key:"openConfig",value:function(e){this.setState((function(t){return qn(qn({},t),{},{configObj:e})}))}},{key:"closeConfig",value:function(){this.setState((function(e){return qn(qn({},e),{},{configObj:void 0})})),Ue.setMovingEntity(null)}},{key:"render",value:function(){var t,n=this;if(void 0!==this.state.configObj)return e.createElement("div",{className:"stats config"},e.createElement("button",{className:"close",onClick:function(){n.closeConfig()}}),e.createElement(Zn,{key:this.state.configObj.uuid,configObj:this.state.configObj}));var r=e.createElement("div",null,e.createElement("hr",null),e.createElement("h3",null,"Important"),e.createElement("p",null,"Pour dmarrer un rseau de piges:"),e.createElement("p",null,'1- Utiliser le sort "Cibler" sur la case o le rseau commence.'),e.createElement("p",null,'2- Appuyer sur le bouton "play" ou "step".'),e.createElement("p",null,'3- Avant de poser de nouveaux piges, appuyer sur "stop".'),e.createElement("hr",null),e.createElement("p",null,"Cet outil est en plein dveloppement et risque de contenir beaucoup de bugs, mais il sera mis  jour trs rgulirement. (Je ne suis pas responsable si un ordinateur prend feu :eyes:)"),e.createElement("p",null,"Je suis ouvert  toutes propositions pour l'outil mais j'ai dj beaucoup d'ides qui attendent d'tre implmentes."),e.createElement("p",null,"Fait par Vinaigre (Discord: Vinaigre#4083)"),e.createElement("p",null,e.createElement("a",{style:{color:"yellow"},href:"https://github.com/Vinaigre1/dofus-trap-network"},"Le code est open-source !"))),a=[];for(var i in In)a.push(e.createElement("option",{value:i,key:i},In[i].name_fr));a.sort((function(e,t){return"0"===e.props.value?-1:"0"===t.props.value?1:In[e.props.value].name_fr.localeCompare(In[t.props.value].name_fr)}));for(var o=[],s=Ue.traps.length-1;s>=0;s--)o.push({img:Ue.traps[s].getSpellIcon(),name:ee[Ue.traps[s].spellId].name});return e.createElement("div",{className:"relative-height stats"},e.createElement("h3",null,e.createElement(Mn,null,"Selected map"),":"),e.createElement("select",{onChange:function(e){n.onSelectMap(e.target.value)}},a),e.createElement("div",{className:"share"},e.createElement("button",{className:"shareBtn",onClick:function(){n.onImport()}},e.createElement(Mn,null,"Import")),e.createElement("button",{className:"shareBtn",onClick:function(){n.onExport()}},e.createElement(Mn,null,"Export")),this.state.shareText?e.createElement("div",{className:"shareText",onClick:function(e){n.selectContents(e.target)}},null!==(t=this.state.shareText)&&void 0!==t?t:""):void 0),e.createElement("hr",null),e.createElement("div",{className:"main-character",onClick:function(){n.onClickMainChara()}},e.createElement(Mn,null,"My character")),e.createElement("hr",null),e.createElement(Rn(),{className:"trap-list",reorderId:"trap-list",component:"ul",lock:"horizontal",touchHoldTime:500,onReorder:function(e,t,r){n.onReorderTraps(t,r)},autoScroll:!0},o.map((function(t,n){return e.createElement("li",{key:n},e.createElement("div",{className:"trap-order"},e.createElement("span",null,n+1)),e.createElement("div",{className:"img-container"},e.createElement("img",{draggable:!1,src:t.img,alt:""})),e.createElement("div",{className:"trap-name"},e.createElement("span",null,e.createElement(Mn,null,t.name))))}))),r)}}],r&&Kn(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(e.Component);const Qn=Jn;var er=n(493),tr={};tr.styleTagTransform=h(),tr.setAttributes=c(),tr.insert=s().bind(null,"head"),tr.domAPI=i(),tr.insertStyleElement=f(),r()(er.Z,tr),er.Z&&er.Z.locals&&er.Z.locals;var nr=n(701),rr={};function ar(e){return ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ar(e)}function ir(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function or(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ir(Object(n),!0).forEach((function(t){sr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ir(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cr(e,t){return cr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},cr(e,t)}function ur(e){return ur=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ur(e)}rr.styleTagTransform=h(),rr.setAttributes=c(),rr.insert=s().bind(null,"head"),rr.domAPI=i(),rr.insertStyleElement=f(),r()(nr.Z,rr),nr.Z&&nr.Z.locals&&nr.Z.locals;var fr=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cr(e,t)}(s,t);var n,r,a,i,o=(a=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ur(a);if(i){var n=ur(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===ar(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this,e)).state={highlighted:!1},t}return n=s,(r=[{key:"onMouseEnter",value:function(){var e,t,n,r,a,i;null===(e=this.props.action)||void 0===e||null===(t=e.originTrap)||void 0===t||null===(n=t.component)||void 0===n||n.setHighlight(!0),null===(r=this.props.action)||void 0===r||null===(a=r.target)||void 0===a||null===(i=a.component)||void 0===i||i.setHighlight(!0)}},{key:"onMouseLeave",value:function(){var e,t,n,r,a,i;null===(e=this.props.action)||void 0===e||null===(t=e.originTrap)||void 0===t||null===(n=t.component)||void 0===n||n.setHighlight(!1),null===(r=this.props.action)||void 0===r||null===(a=r.target)||void 0===a||null===(i=a.component)||void 0===i||i.setHighlight(!1)}},{key:"setHighlight",value:function(e){this.setState((function(t){return or(or({},t),{},{highlighted:e})}))}},{key:"render",value:function(){var t,n,r,a,i,o,s,l=this,c=(sr(t={},F.Waiting,"waiting"),sr(t,F.Current,"current"),sr(t,F.Completed,"completed"),t),u=(sr(n={},O.Meta,"effect-meta"),sr(n,O.Movement,"effect-movement"),sr(n,O.Damage,"effect-damage"),sr(n,O.State,"effect-state"),sr(n,O.Secondary,"effect-secondary"),sr(n,O.Spell,"effect-spell"),n),f=(sr(s={},P.Pull,{count:this.props.action.value,text:e.createElement(e.Fragment,null,"Attracts ",{value:this.props.action.value}," cells")}),sr(s,P.Push,{count:this.props.action.value,text:e.createElement(e.Fragment,null,"Pushes back ",{value:this.props.action.value}," cells")}),sr(s,P.WaterDamage,{count:this.props.action.value,text:e.createElement(e.Fragment,null,{value:this.props.action.value}," water damage")}),sr(s,P.FireDamage,{count:this.props.action.value,text:e.createElement(e.Fragment,null,{value:this.props.action.value}," fire damage")}),sr(s,P.EarthDamage,{count:this.props.action.value,text:e.createElement(e.Fragment,null,{value:this.props.action.value}," earth damage")}),sr(s,P.AirDamage,{count:this.props.action.value,text:e.createElement(e.Fragment,null,{value:this.props.action.value}," air damage")}),sr(s,P.PushDamage,{count:this.props.action.value,text:e.createElement(e.Fragment,null,{value:this.props.action.value}," push damage")}),sr(s,P.IndirectPushDamage,{count:this.props.action.value,text:e.createElement(e.Fragment,null,{value:this.props.action.value}," push damage (indirect)")}),sr(s,P.SpellAsTarget,{text:e.createElement(e.Fragment,null,"Spell '",{value:null===(r=ee[this.props.action.effect.min])||void 0===r?void 0:r.name},"' casted as target")}),sr(s,P.SpellAsCaster,{text:e.createElement(e.Fragment,null,"Spell '",{value:null===(a=ee[this.props.action.effect.min])||void 0===a?void 0:a.name},"' casted as caster")}),sr(s,P.State,{text:e.createElement(e.Fragment,null,"Add state '",{value:q[this.props.action.effect.min]},"'")}),sr(s,P.RemoveState,{text:e.createElement(e.Fragment,null,"Remove state '",{value:q[this.props.action.effect.min]},"'")}),sr(s,P.SymmetricalTeleport,{text:e.createElement(e.Fragment,null,"Symmetrical TP")}),sr(s,P.StealBestElement,{text:e.createElement(e.Fragment,null,"Steals ",{value:this.props.action.value}," in best element")}),sr(s,P.HealLastDamage,{text:e.createElement(e.Fragment,null,"Heals ",{value:this.props.action.value}," (last damage taken)")}),sr(s,P.PlaceEndTurnGlyph,{text:e.createElement(e.Fragment,null,"Places a glyph")}),sr(s,P.BoostSpell,{text:e.createElement(e.Fragment,null,"Boosts the spell ",{spell:null===(i=ee[this.props.action.effect.min])||void 0===i?void 0:i.name}," by ",{value:this.props.action.effect.max})}),sr(s,P.CancelSpell,{text:e.createElement(e.Fragment,null,"Cancels the effects of ",{spell:null===(o=ee[this.props.action.effect.min])||void 0===o?void 0:o.name})}),sr(s,P.MPDamage,{text:e.createElement(e.Fragment,null,"Removes ",{value:this.props.action.effect.min}," MP")}),sr(s,P.DodgeDamage,{text:e.createElement(e.Fragment,null,"Removes ",{value:this.props.action.effect.min}," dodge")}),s);return e.createElement("div",{className:"action ".concat(c[this.props.type]," ").concat(u[K[this.props.action.type]]," ").concat(this.state.highlighted?"highlighted":""," action-").concat(V[Ae(this.props.action.originTrap.color)]," ").concat(this.props.action.cancelled?"cancelled":""),onMouseEnter:function(){l.onMouseEnter()},onMouseLeave:function(){l.onMouseLeave()}},e.createElement("div",{className:"action-img"},e.createElement("img",{src:this.props.action.originTrap.getSpellIcon(),alt:"",width:"25px",height:"25px"})),e.createElement("div",{className:"action-infos"},f[this.props.action.type]?e.createElement(Mn,{count:f[this.props.action.type].count},f[this.props.action.type].text.props.children):"type =  ".concat(this.props.action.type,", value = ").concat(this.props.action.value)))}}])&&lr(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(e.Component);const pr=fr;function hr(e){return hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hr(e)}function gr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return dr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mr(Object(n),!0).forEach((function(t){vr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function br(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ar(e,t){return Ar=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ar(e,t)}function wr(e){return wr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wr(e)}var Cr=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ar(e,t)}(s,t);var n,r,a,i,o=(a=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=wr(a);if(i){var n=wr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===hr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){var t,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(n=o.call(this,e)).state={hiddenEffects:(t={},vr(t,O.Meta,!1),vr(t,O.Movement,!1),vr(t,O.Damage,!1),vr(t,O.State,!1),vr(t,O.Secondary,!1),vr(t,O.Spell,!1),t)},n}return n=s,r=[{key:"onFilter",value:function(e){this.setState((function(t){return yr(yr({},t),{},{hiddenEffects:yr(yr({},t.hiddenEffects),{},vr({},e,!t.hiddenEffects[e]))})}))}},{key:"render",value:function(){for(var t,n=this,r=Ue.getActionStack(),a=[],i=(vr(t={},O.Meta,"no-meta"),vr(t,O.Movement,"no-movement"),vr(t,O.Damage,"no-damage"),vr(t,O.State,"no-state"),vr(t,O.Secondary,"no-secondary"),vr(t,O.Spell,"no-spell"),t),o=function(t){a.push(e.createElement(pr,{type:F.Waiting,action:r.waiting[t],key:r.waiting[t].uuid,ref:function(e){r.waiting[t]&&(r.waiting[t].component=e)}}))},s=0;s<r.waiting.length;s++)o(s);r.current&&a.push(e.createElement(pr,{type:F.Current,action:r.current,key:r.current.uuid,ref:function(e){r.current&&(r.current.component=e)}}));for(var l=function(t){a.push(e.createElement(pr,{type:F.Completed,action:r.completed[t],key:r.completed[t].uuid,ref:function(e){r.completed[t]&&(r.completed[t].component=e)}}))},c=r.completed.length-1;c>=0;c--)l(c);for(var u=[],f=0,p=Object.entries(this.state.hiddenEffects);f<p.length;f++){var h=gr(p[f],2),g=h[0];h[1]&&u.push(i[g])}return e.createElement("div",{className:"relative-height history ".concat(u.join(" "))},e.createElement("div",{className:"actions"},a),e.createElement("div",{className:"filters"},e.createElement("button",{className:this.state.hiddenEffects[O.Damage]?"active":"",onClick:function(){n.onFilter(O.Damage)}},e.createElement("img",{src:"./assets/img/actions/damage.svg",alt:"damage"})),e.createElement("button",{className:this.state.hiddenEffects[O.Movement]?"active":"",onClick:function(){n.onFilter(O.Movement)}},e.createElement("img",{src:"./assets/img/actions/movement.svg",alt:"movement"})),e.createElement("button",{className:this.state.hiddenEffects[O.Secondary]?"active":"",onClick:function(){n.onFilter(O.Secondary)}},e.createElement("img",{src:"./assets/img/actions/secondary.svg",alt:"secondary"})),e.createElement("button",{className:this.state.hiddenEffects[O.State]?"active":"",onClick:function(){n.onFilter(O.State)}},e.createElement("img",{src:"./assets/img/actions/state.svg",alt:"state"})),e.createElement("button",{className:this.state.hiddenEffects[O.Spell]?"active":"",onClick:function(){n.onFilter(O.Spell)}},e.createElement("img",{src:"./assets/img/actions/spell.svg",alt:"spell"}))))}}],r&&br(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(e.Component);const xr=Cr;function Er(e){return Er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Er(e)}function kr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _r(e,t){return _r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_r(e,t)}function Sr(e){return Sr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Sr(e)}var Tr=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_r(e,t)}(s,t);var n,r,a,i,o=(a=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Sr(a);if(i){var n=Sr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Er(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),o.apply(this,arguments)}return n=s,(r=[{key:"render",value:function(){var t=this;return e.createElement("div",{className:"spell ".concat(this.props.selected?"selected-spell":""),onClick:function(){t.props.onClick(t.props.spell)}},e.createElement("img",{width:"45",height:"45",src:this.props.spell.icon,alt:this.props.spell.name,draggable:"false"}))}}])&&kr(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(e.Component);const Pr=Tr;function Or(e){return Or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Or(e)}function jr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jr(Object(n),!0).forEach((function(t){Lr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ir(e,t){return Ir=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ir(e,t)}function Nr(e){return Nr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Nr(e)}var Dr=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ir(e,t)}(s,t);var n,r,a,i,o=(a=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Nr(a);if(i){var n=Nr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Or(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this,e)).state={selectedSpell:void 0,play:!1,leukide:!1},t}return n=s,(r=[{key:"onClick",value:function(e){this.state.selectedSpell===e&&(e=void 0),Ue.selectSpell(e),this.setState((function(t){return Mr(Mr({},t),{},{selectedSpell:e})}))}},{key:"onPlay",value:function(){this.setPlay(!0),Ue.run()}},{key:"onPause",value:function(){this.setPlay(!1),Ue.pause()}},{key:"onStep",value:function(){this.setPlay(!1),Ue.runOne()}},{key:"onStop",value:function(){this.setPlay(!1),Ue.resetAll()}},{key:"onLeukide",value:function(){if(!Ue.isRunning){var e=Ue.toggleLeukide();this.setState((function(t){return Mr(Mr({},t),{},{leukide:e})}))}}},{key:"setPlay",value:function(e){this.setState((function(t){return Mr(Mr({},t),{},{play:e})}))}},{key:"render",value:function(){for(var t=this,n=[],r=0,a=[D.AirTrap,D.FireTrap,D.EarthTrap,D.WaterTrap,D.MalusTrap,D.Entity,D.Other,D.Action];r<a.length;r++){var i=a[r],o=[];for(var s in ee){var l;ee[s].category===i&&o.push(e.createElement(Pr,{key:"spell-".concat(s),spell:ee[s],onClick:function(e){t.onClick(e)},selected:(null===(l=this.state.selectedSpell)||void 0===l?void 0:l.name)===ee[s].name}))}n.push(e.createElement("div",{className:"spell-category"},o))}return e.createElement("div",{className:"spells"},e.createElement("div",{className:"spells-options"},e.createElement("div",{className:"btn btn-leukide ".concat(this.state.leukide?"active":""),onClick:function(){t.onLeukide()}},e.createElement("img",{className:"img-leukide",src:"./assets/img/other/leukide.png",alt:"leukide"}))),n,e.createElement("div",{className:"controls"},e.createElement("button",{className:this.state.play?"pause":"play",onClick:function(){t.state.play?t.onPause():t.onPlay()}},e.createElement("img",{className:"img-play",src:"./assets/img/other/play.png",alt:"play",draggable:"false"}),e.createElement("img",{className:"img-pause",src:"./assets/img/other/pause.png",alt:"pause",draggable:"false"})),e.createElement("button",{className:"step",onClick:function(){t.onStep()}},e.createElement("img",{className:"img-step",src:"./assets/img/other/step.png",alt:"step",draggable:"false"})),e.createElement("button",{className:"stop",onClick:function(){t.onStop()}},e.createElement("img",{className:"img-stop",src:"./assets/img/other/stop.png",alt:"stop",draggable:"false"}))))}}])&&Rr(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(e.Component);const Br=Dr,Fr=function(){return e.createElement("div",{className:"app"},e.createElement(Qn,{ref:function(e){Ue.statsComponent=e}}),e.createElement(qt,{ref:function(e){Ue.mapComponent=e,window.Game=Ue},cellNum:14,rowNum:40}),e.createElement(xr,{ref:function(e){Ue.historyComponent=e}}),e.createElement(Br,{ref:function(e){Ue.spellsComponent=e}}))};var Ur=n(634);function zr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wr(e,t){return Wr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Wr(e,t)}function Gr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wr(e,t)}function Zr(e,t){if(t&&("object"===Xt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return zr(e)}function Hr(e){return Hr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Hr(e)}function Yr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qr(Object(n),!0).forEach((function(t){Jt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Kr={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},$r=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};un(this,e),this.init(t,n)}return pn(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||Kr,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,r){return r&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,Vr(Vr({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}},{key:"clone",value:function(t){return(t=t||this.options).prefix=t.prefix||this.prefix,new e(this.logger,t)}}]),e}(),Xr=new $r,Jr=function(){function e(){un(this,e),this.observers={}}return pn(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.observers[e]&&[].concat(this.observers[e]).forEach((function(e){e.apply(void 0,n)})),this.observers["*"]&&[].concat(this.observers["*"]).forEach((function(t){t.apply(t,[e].concat(n))}))}}]),e}();function Qr(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}function ea(e){return null==e?"":""+e}function ta(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function a(){return!e||"string"==typeof e}for(var i="string"!=typeof t?[].concat(t):t.split(".");i.length>1;){if(a())return{};var o=r(i.shift());!e[o]&&n&&(e[o]=new n),e=Object.prototype.hasOwnProperty.call(e,o)?e[o]:{}}return a()?{}:{obj:e,k:r(i.shift())}}function na(e,t,n){var r=ta(e,t,Object);r.obj[r.k]=n}function ra(e,t){var n=ta(e,t),r=n.obj,a=n.k;if(r)return r[a]}function aa(e,t,n){var r=ra(e,n);return void 0!==r?r:ra(t,n)}function ia(e,t,n){for(var r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?"string"==typeof e[r]||e[r]instanceof String||"string"==typeof t[r]||t[r]instanceof String?n&&(e[r]=t[r]):ia(e[r],t[r],n):e[r]=t[r]);return e}function oa(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var sa={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function la(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return sa[e]})):e}var ca="undefined"!=typeof window&&window.navigator&&void 0===window.navigator.userAgentData&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,ua=[" ",",","?","!",";"];function fa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fa(Object(n),!0).forEach((function(t){Jt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ha(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var r=t.split(n),a=e,i=0;i<r.length;++i){if(!a)return;if("string"==typeof a[r[i]]&&i+1<r.length)return;if(void 0===a[r[i]]){for(var o=2,s=r.slice(i,i+o).join(n),l=a[s];void 0===l&&r.length>i+o;)o++,l=a[s=r.slice(i,i+o).join(n)];if(void 0===l)return;if(null===l)return null;if(t.endsWith(s)){if("string"==typeof l)return l;if(s&&"string"==typeof l[s])return l[s]}var c=r.slice(i+o).join(n);return c?ha(l,c,n):void 0}a=a[r[i]]}return a}}var ga=function(e){Gr(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=Hr(t);if(n){var a=Hr(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return Zr(this,e)});function a(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return un(this,a),t=r.call(this),ca&&Jr.call(zr(t)),t.data=e||{},t.options=n,void 0===t.options.keySeparator&&(t.options.keySeparator="."),void 0===t.options.ignoreJSONStructure&&(t.options.ignoreJSONStructure=!0),t}return pn(a,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,i=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure,o=[e,t];n&&"string"!=typeof n&&(o=o.concat(n)),n&&"string"==typeof n&&(o=o.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(o=e.split("."));var s=ra(this.data,o);return s||!i||"string"!=typeof n?s:ha(this.data&&this.data[e]&&this.data[e][t],n,a)}},{key:"addResource",value:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},i=this.options.keySeparator;void 0===i&&(i=".");var o=[e,t];n&&(o=o.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(r=t,t=(o=e.split("."))[1]),this.addNamespaces(t),na(this.data,o,r),a.silent||this.emit("added",e,t,n,r)}},{key:"addResources",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var a in n)"string"!=typeof n[a]&&"[object Array]"!==Object.prototype.toString.apply(n[a])||this.addResource(e,t,a,n[a],{silent:!0});r.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},o=[e,t];e.indexOf(".")>-1&&(r=n,n=t,t=(o=e.split("."))[1]),this.addNamespaces(t);var s=ra(this.data,o)||{};r?ia(s,n,a):s=pa(pa({},s),n),na(this.data,o,s),i.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?pa(pa({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((function(e){return t[e]&&Object.keys(t[e]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),a}(Jr),da={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,r,a){var i=this;return e.forEach((function(e){i.processors[e]&&(t=i.processors[e].process(t,n,r,a))})),t}};function ma(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ya(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ma(Object(n),!0).forEach((function(t){Jt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ma(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var va={},ba=function(e){Gr(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=Hr(t);if(n){var a=Hr(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return Zr(this,e)});function a(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return un(this,a),t=r.call(this),ca&&Jr.call(zr(t)),function(e,t,n){["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"].forEach((function(e){t[e]&&(n[e]=t[e])}))}(0,e,zr(t)),t.options=n,void 0===t.options.keySeparator&&(t.options.keySeparator="."),t.logger=Xr.create("translator"),t}return pn(a,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,a=t.ns||this.options.defaultNS||[],i=n&&e.indexOf(n)>-1,o=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||function(e,t,n){t=t||"",n=n||"";var r=ua.filter((function(e){return t.indexOf(e)<0&&n.indexOf(e)<0}));if(0===r.length)return!0;var a=new RegExp("(".concat(r.map((function(e){return"?"===e?"\\?":e})).join("|"),")")),i=!a.test(e);if(!i){var o=e.indexOf(n);o>0&&!a.test(e.substring(0,o))&&(i=!0)}return i}(e,n,r));if(i&&!o){var s=e.match(this.interpolator.nestingRegexp);if(s&&s.length>0)return{key:e,namespaces:a};var l=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(l[0])>-1)&&(a=l.shift()),e=l.join(r)}return"string"==typeof a&&(a=[a]),{key:e,namespaces:a}}},{key:"translate",value:function(e,t,n){var r=this;if("object"!==Xt(t)&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var i=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,o=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,s=this.extractFromKey(e[e.length-1],t),l=s.key,c=s.namespaces,u=c[c.length-1],f=t.lng||this.language,p=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(f&&"cimode"===f.toLowerCase()){if(p){var h=t.nsSeparator||this.options.nsSeparator;return i?(g.res="".concat(u).concat(h).concat(l),g):"".concat(u).concat(h).concat(l)}return i?(g.res=l,g):l}var g=this.resolve(e,t),d=g&&g.res,m=g&&g.usedKey||l,y=g&&g.exactUsedKey||l,v=Object.prototype.toString.apply(d),b=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,A=!this.i18nFormat||this.i18nFormat.handleAsObject;if(A&&d&&"string"!=typeof d&&"boolean"!=typeof d&&"number"!=typeof d&&["[object Number]","[object Function]","[object RegExp]"].indexOf(v)<0&&("string"!=typeof b||"[object Array]"!==v)){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var w=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,d,ya(ya({},t),{},{ns:c})):"key '".concat(l," (").concat(this.language,")' returned an object instead of string.");return i?(g.res=w,g):w}if(o){var C="[object Array]"===v,x=C?[]:{},E=C?y:m;for(var k in d)if(Object.prototype.hasOwnProperty.call(d,k)){var _="".concat(E).concat(o).concat(k);x[k]=this.translate(_,ya(ya({},t),{joinArrays:!1,ns:c})),x[k]===_&&(x[k]=d[k])}d=x}}else if(A&&"string"==typeof b&&"[object Array]"===v)(d=d.join(b))&&(d=this.extendTranslation(d,e,t,n));else{var S=!1,T=!1,P=void 0!==t.count&&"string"!=typeof t.count,O=a.hasDefaultValue(t),j=P?this.pluralResolver.getSuffix(f,t.count,t):"",M=t["defaultValue".concat(j)]||t.defaultValue;!this.isValidLookup(d)&&O&&(S=!0,d=M),this.isValidLookup(d)||(T=!0,d=l);var L=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&T?void 0:d,R=O&&M!==d&&this.options.updateMissing;if(T||S||R){if(this.logger.log(R?"updateKey":"missingKey",f,u,l,R?M:d),o){var I=this.resolve(l,ya(ya({},t),{},{keySeparator:!1}));I&&I.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var N=[],D=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&D&&D[0])for(var B=0;B<D.length;B++)N.push(D[B]);else"all"===this.options.saveMissingTo?N=this.languageUtils.toResolveHierarchy(t.lng||this.language):N.push(t.lng||this.language);var F=function(e,n,a){var i=O&&a!==d?a:L;r.options.missingKeyHandler?r.options.missingKeyHandler(e,u,n,i,R,t):r.backendConnector&&r.backendConnector.saveMissing&&r.backendConnector.saveMissing(e,u,n,i,R,t),r.emit("missingKey",e,u,n,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&P?N.forEach((function(e){r.pluralResolver.getSuffixes(e,t).forEach((function(n){F([e],l+n,t["defaultValue".concat(n)]||M)}))})):F(N,l,M))}d=this.extendTranslation(d,e,t,g,n),T&&d===l&&this.options.appendNamespaceToMissingKey&&(d="".concat(u,":").concat(l)),(T||S)&&this.options.parseMissingKeyHandler&&(d="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(u,":").concat(l):l,S?d:void 0):this.options.parseMissingKeyHandler(d))}return i?(g.res=d,g):d}},{key:"extendTranslation",value:function(e,t,n,r,a){var i=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,ya(ya({},this.options.interpolation.defaultVariables),n),r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(ya(ya({},n),{interpolation:ya(ya({},this.options.interpolation),n.interpolation)}));var o,s="string"==typeof e&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(s){var l=e.match(this.interpolator.nestingRegexp);o=l&&l.length}var c=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(c=ya(ya({},this.options.interpolation.defaultVariables),c)),e=this.interpolator.interpolate(e,c,n.lng||this.language,n),s){var u=e.match(this.interpolator.nestingRegexp);o<(u&&u.length)&&(n.nest=!1)}!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return a&&a[0]===r[0]&&!n.context?(i.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(t[0])),null):i.translate.apply(i,r.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var f=n.postProcess||this.options.postProcess,p="string"==typeof f?[f]:f;return null!=e&&p&&p.length&&!1!==n.applyPostProcessor&&(e=da.handle(p,e,t,this.options&&this.options.postProcessPassResolved?ya({i18nResolved:r},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,r,a,i,o=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!o.isValidLookup(t)){var l=o.extractFromKey(e,s),c=l.key;n=c;var u=l.namespaces;o.options.fallbackNS&&(u=u.concat(o.options.fallbackNS));var f=void 0!==s.count&&"string"!=typeof s.count,p=f&&!s.ordinal&&0===s.count&&o.pluralResolver.shouldUseIntlApi(),h=void 0!==s.context&&("string"==typeof s.context||"number"==typeof s.context)&&""!==s.context,g=s.lngs?s.lngs:o.languageUtils.toResolveHierarchy(s.lng||o.language,s.fallbackLng);u.forEach((function(e){o.isValidLookup(t)||(i=e,!va["".concat(g[0],"-").concat(e)]&&o.utils&&o.utils.hasLoadedNamespace&&!o.utils.hasLoadedNamespace(i)&&(va["".concat(g[0],"-").concat(e)]=!0,o.logger.warn('key "'.concat(n,'" for languages "').concat(g.join(", "),'" won\'t get resolved as namespace "').concat(i,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach((function(n){if(!o.isValidLookup(t)){a=n;var i,l=[c];if(o.i18nFormat&&o.i18nFormat.addLookupKeys)o.i18nFormat.addLookupKeys(l,c,n,e,s);else{var u;f&&(u=o.pluralResolver.getSuffix(n,s.count,s));var g="".concat(o.options.pluralSeparator,"zero");if(f&&(l.push(c+u),p&&l.push(c+g)),h){var d="".concat(c).concat(o.options.contextSeparator).concat(s.context);l.push(d),f&&(l.push(d+u),p&&l.push(d+g))}}for(;i=l.pop();)o.isValidLookup(t)||(r=i,t=o.getResource(n,e,i,s))}})))}))}})),{res:t,usedKey:n,exactUsedKey:r,usedLng:a,usedNS:i}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}}],[{key:"hasDefaultValue",value:function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&"defaultValue"===t.substring(0,12)&&void 0!==e[t])return!0;return!1}}]),a}(Jr);function Aa(e){return e.charAt(0).toUpperCase()+e.slice(1)}var wa=function(){function e(t){un(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Xr.create("languageUtils")}return pn(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=Aa(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=Aa(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=Aa(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var r=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(r)||(t=r)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var r=n.getLanguagePartFromCode(e);if(n.isSupportedCode(r))return t=r;t=n.options.supportedLngs.find((function(e){if(0===e.indexOf(r))return e}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),a=[],i=function(e){e&&(n.isSupportedCode(e)?a.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&i(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&i(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&i(this.getLanguagePartFromCode(e))):"string"==typeof e&&i(this.formatLanguageCode(e)),r.forEach((function(e){a.indexOf(e)<0&&i(n.formatLanguageCode(e))})),a}}]),e}(),Ca=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],xa={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},Ea=["v1","v2","v3"],ka={zero:0,one:1,two:2,few:3,many:4,other:5},_a=function(){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};un(this,e),this.languageUtils=t,this.options=r,this.logger=Xr.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=(n={},Ca.forEach((function(e){e.lngs.forEach((function(t){n[t]={numbers:e.nr,plurals:xa[e.fc]}}))})),n)}return pn(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(e,{type:t.ordinal?"ordinal":"cardinal"})}catch(e){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((function(e){return"".concat(t).concat(e)}))}},{key:"getSuffixes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((function(e,t){return ka[e]-ka[t]})).map((function(e){return"".concat(t.options.prepend).concat(e)})):r.numbers.map((function(r){return t.getSuffix(e,r,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(r.select(t)):this.getSuffixRetroCompatible(r,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){var n=this,r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),a=e.numbers[r];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===a?a="plural":1===a&&(a=""));var i=function(){return n.options.prepend&&a.toString()?n.options.prepend+a.toString():a.toString()};return"v1"===this.options.compatibilityJSON?1===a?"":"number"==typeof a?"_plural_".concat(a.toString()):i():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?i():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}},{key:"shouldUseIntlApi",value:function(){return!Ea.includes(this.options.compatibilityJSON)}}]),e}();function Sa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ta(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sa(Object(n),!0).forEach((function(t){Jt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pa=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};un(this,e),this.logger=Xr.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return pn(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:la,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?oa(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?oa(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?oa(t.nestingPrefix):t.nestingPrefixEscaped||oa("$t("),this.nestingSuffix=t.nestingSuffix?oa(t.nestingSuffix):t.nestingSuffixEscaped||oa(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,r){var a,i,o,s=this,l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(e){return e.replace(/\$/g,"$$$$")}var u=function(e){if(e.indexOf(s.formatSeparator)<0){var a=aa(t,l,e);return s.alwaysFormat?s.format(a,void 0,n,Ta(Ta(Ta({},r),t),{},{interpolationkey:e})):a}var i=e.split(s.formatSeparator),o=i.shift().trim(),c=i.join(s.formatSeparator).trim();return s.format(aa(t,l,o),c,n,Ta(Ta(Ta({},r),t),{},{interpolationkey:o}))};this.resetRegExp();var f=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,p=r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return c(e)}},{regex:this.regexp,safeValue:function(e){return s.escapeValue?c(s.escape(e)):c(e)}}].forEach((function(t){for(o=0;a=t.regex.exec(e);){var n=a[1].trim();if(void 0===(i=u(n)))if("function"==typeof f){var l=f(e,a,r);i="string"==typeof l?l:""}else if(r&&r.hasOwnProperty(n))i="";else{if(p){i=a[0];continue}s.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(e)),i=""}else"string"==typeof i||s.useRawValueToEscape||(i=ea(i));var c=t.safeValue(i);if(e=e.replace(a[0],c),p?(t.regex.lastIndex+=i.length,t.regex.lastIndex-=a[0].length):t.regex.lastIndex=0,++o>=s.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,r,a=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=Ta({},i);function s(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var r=e.split(new RegExp("".concat(n,"[ ]*{"))),a="{".concat(r[1]);e=r[0];var i=(a=this.interpolate(a,o)).match(/'/g),s=a.match(/"/g);(i&&i.length%2==0&&!s||s.length%2!=0)&&(a=a.replace(/'/g,'"'));try{o=JSON.parse(a),t&&(o=Ta(Ta({},t),o))}catch(t){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),t),"".concat(e).concat(n).concat(a)}return delete o.defaultValue,e}for(o.applyPostProcessor=!1,delete o.defaultValue;n=this.nestingRegexp.exec(e);){var l=[],c=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var u=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=u.shift(),l=u,c=!0}if((r=t(s.call(this,n[1].trim(),o),o))&&n[0]===e&&"string"!=typeof r)return r;"string"!=typeof r&&(r=ea(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),r=""),c&&(r=l.reduce((function(e,t){return a.format(e,t,i.lng,Ta(Ta({},i),{},{interpolationkey:n[1].trim()}))}),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}]),e}();function Oa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ja(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oa(Object(n),!0).forEach((function(t){Jt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ma(e){var t={};return function(n,r,a){var i=r+JSON.stringify(a),o=t[i];return o||(o=e(r,a),t[i]=o),o(n)}}var La=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};un(this,e),this.logger=Xr.create("formatter"),this.options=t,this.formats={number:Ma((function(e,t){var n=new Intl.NumberFormat(e,t);return function(e){return n.format(e)}})),currency:Ma((function(e,t){var n=new Intl.NumberFormat(e,ja(ja({},t),{},{style:"currency"}));return function(e){return n.format(e)}})),datetime:Ma((function(e,t){var n=new Intl.DateTimeFormat(e,ja({},t));return function(e){return n.format(e)}})),relativetime:Ma((function(e,t){var n=new Intl.RelativeTimeFormat(e,ja({},t));return function(e){return n.format(e,t.range||"day")}})),list:Ma((function(e,t){var n=new Intl.ListFormat(e,ja({},t));return function(e){return n.format(e)}}))},this.init(t)}return pn(e,[{key:"init",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e.toLowerCase().trim()]=t}},{key:"addCached",value:function(e,t){this.formats[e.toLowerCase().trim()]=Ma(t)}},{key:"format",value:function(e,t,n,r){var a=this;return t.split(this.formatSeparator).reduce((function(e,t){var i=function(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var r=e.split("(");t=r[0].toLowerCase().trim();var a=r[1].substring(0,r[1].length-1);"currency"===t&&a.indexOf(":")<0?n.currency||(n.currency=a.trim()):"relativetime"===t&&a.indexOf(":")<0?n.range||(n.range=a.trim()):a.split(";").forEach((function(e){if(e){var t=function(e){if(Array.isArray(e))return e}(i=e.split(":"))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||function(e,t){if(e){if("string"==typeof e)return Yr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yr(e,t):void 0}}(i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=t[0],a=t.slice(1).join(":").trim().replace(/^'+|'+$/g,"");n[r.trim()]||(n[r.trim()]=a),"false"===a&&(n[r.trim()]=!1),"true"===a&&(n[r.trim()]=!0),isNaN(a)||(n[r.trim()]=parseInt(a,10))}var i}))}return{formatName:t,formatOptions:n}}(t),o=i.formatName,s=i.formatOptions;if(a.formats[o]){var l=e;try{var c=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},u=c.locale||c.lng||r.locale||r.lng||n;l=a.formats[o](e,u,ja(ja(ja({},s),r),c))}catch(e){a.logger.warn(e)}return l}return a.logger.warn("there was no format function for ".concat(o)),e}),e)}}]),e}();function Ra(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ia(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ra(Object(n),!0).forEach((function(t){Jt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ra(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Na=function(e){Gr(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=Hr(t);if(n){var a=Hr(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return Zr(this,e)});function a(e,t,n){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return un(this,a),i=r.call(this),ca&&Jr.call(zr(i)),i.backend=e,i.store=t,i.services=n,i.languageUtils=n.languageUtils,i.options=o,i.logger=Xr.create("backendConnector"),i.waitingReads=[],i.maxParallelReads=o.maxParallelReads||10,i.readingCalls=0,i.maxRetries=o.maxRetries>=0?o.maxRetries:5,i.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,i.state={},i.queue=[],i.backend&&i.backend.init&&i.backend.init(n,o.backend,o),i}return pn(a,[{key:"queueLoad",value:function(e,t,n,r){var a=this,i={},o={},s={},l={};return e.forEach((function(e){var r=!0;t.forEach((function(t){var s="".concat(e,"|").concat(t);!n.reload&&a.store.hasResourceBundle(e,t)?a.state[s]=2:a.state[s]<0||(1===a.state[s]?void 0===o[s]&&(o[s]=!0):(a.state[s]=1,r=!1,void 0===o[s]&&(o[s]=!0),void 0===i[s]&&(i[s]=!0),void 0===l[t]&&(l[t]=!0)))})),r||(s[e]=!0)})),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(l)}}},{key:"loaded",value:function(e,t,n){var r=e.split("|"),a=r[0],i=r[1];t&&this.emit("failedLoading",a,i,t),n&&this.store.addResourceBundle(a,i,n),this.state[e]=t?-1:2;var o={};this.queue.forEach((function(n){var r,s,l,c,u;r=n.loaded,s=i,(c=(l=ta(r,[a],Object)).obj)[u=l.k]=c[u]||[],c[u].push(s),function(e,t){void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)}(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((function(e){o[e]||(o[e]={});var t=n.loaded[e];t.length&&t.forEach((function(t){void 0===o[e][t]&&(o[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",o),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var r=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;return e.length?this.readingCalls>=this.maxParallelReads?void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:a,wait:i,callback:o}):(this.readingCalls++,this.backend[n](e,t,(function(s,l){if(r.readingCalls--,r.waitingReads.length>0){var c=r.waitingReads.shift();r.read(c.lng,c.ns,c.fcName,c.tried,c.wait,c.callback)}s&&l&&a<r.maxRetries?setTimeout((function(){r.read.call(r,e,t,n,a+1,2*i,o)}),i):o(s,l)}))):o(null,{})}},{key:"prepareLoading",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var i=this.queueLoad(e,t,r,a);if(!i.toLoad.length)return i.pending.length||a(),null;i.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.split("|"),a=r[0],i=r[1];this.read(a,i,"read",void 0,void 0,(function(r,o){r&&t.logger.warn("".concat(n,"loading namespace ").concat(i," for language ").concat(a," failed"),r),!r&&o&&t.logger.log("".concat(n,"loaded namespace ").concat(i," for language ").concat(a),o),t.loaded(e,r,o)}))}},{key:"saveMissing",value:function(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(e,t,n,r,null,Ia(Ia({},i),{},{isUpdate:a})),e&&e[0]&&this.store.addResource(e[0],t,n,r))}}]),a}(Jr);function Da(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function Ba(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ba(Object(n),!0).forEach((function(t){Jt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ba(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ua(){}var za=function(e){Gr(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=Hr(t);if(n){var a=Hr(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return Zr(this,e)});function a(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if(un(this,a),e=r.call(this),ca&&Jr.call(zr(e)),e.options=Da(n),e.services={},e.logger=Xr,e.modules={external:[]},t=zr(e),Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach((function(e){"function"==typeof t[e]&&(t[e]=t[e].bind(t))})),i&&!e.isInitialized&&!n.isClone){if(!e.options.initImmediate)return e.init(n,i),Zr(e,zr(e));setTimeout((function(){e.init(n,i)}),0)}return e}return pn(a,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"==typeof t&&(n=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&("string"==typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));var r={debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===Xt(e[1])&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"===Xt(e[2])||"object"===Xt(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,r){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}};function a(e){return e?"function"==typeof e?new e:e:null}if(this.options=Fa(Fa(Fa({},r),this.options),Da(t)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=Fa(Fa({},r.interpolation),this.options.interpolation)),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){var i;this.modules.logger?Xr.init(a(this.modules.logger),this.options):Xr.init(null,this.options),this.modules.formatter?i=this.modules.formatter:"undefined"!=typeof Intl&&(i=La);var o=new wa(this.options);this.store=new ga(this.options.resources,this.options);var s=this.services;s.logger=Xr,s.resourceStore=this.store,s.languageUtils=o,s.pluralResolver=new _a(o,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!i||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(s.formatter=a(i),s.formatter.init(s,this.options),this.options.interpolation.format=s.formatter.format.bind(s.formatter)),s.interpolator=new Pa(this.options),s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},s.backendConnector=new Na(a(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];e.emit.apply(e,[t].concat(r))})),this.modules.languageDetector&&(s.languageDetector=a(this.modules.languageDetector),s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=a(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new ba(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];e.emit.apply(e,[t].concat(r))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.format=this.options.interpolation.format,n||(n=Ua),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&"dev"!==l[0]&&(this.options.lng=l[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}})),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}}));var c=Qr(),u=function(){var t=function(t,r){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),c.resolve(r),n(t,r)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),c}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ua,r="string"==typeof e?e:this.language;if("function"==typeof e&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&"cimode"===r.toLowerCase())return n();var a=[],i=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){a.indexOf(e)<0&&a.push(e)}))};r?i(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((function(e){return i(e)})),this.options.preload&&this.options.preload.forEach((function(e){return i(e)})),this.services.backendConnector.load(a,this.options.ns,(function(e){e||t.resolvedLanguage||!t.language||t.setResolvedLanguage(t.language),n(e)}))}else n(null)}},{key:"reloadResources",value:function(e,t,n){var r=Qr();return e||(e=this.languages),t||(t=this.options.ns),n||(n=Ua),this.services.backendConnector.reload(e,t,(function(e){r.resolve(),n(e)})),r}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&da.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"setResolvedLanguage",value:function(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(var t=0;t<this.languages.length;t++){var n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var r=Qr();this.emit("languageChanging",e);var a=function(e){n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.resolvedLanguage=void 0,n.setResolvedLanguage(e)},i=function(i){e||i||!n.services.languageDetector||(i=[]);var o="string"==typeof i?i:n.services.languageUtils.getBestMatchFromCodes(i);o&&(n.language||a(o),n.translator.language||n.translator.changeLanguage(o),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(o)),n.loadResources(o,(function(e){!function(e,i){i?(a(i),n.translator.changeLanguage(i),n.isLanguageChangingTo=void 0,n.emit("languageChanged",i),n.logger.log("languageChanged",i)):n.isLanguageChangingTo=void 0,r.resolve((function(){return n.t.apply(n,arguments)})),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(e,o)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(i):i(e):i(this.services.languageDetector.detect()),r}},{key:"getFixedT",value:function(e,t,n){var r=this,a=function e(t,a){var i;if("object"!==Xt(a)){for(var o=arguments.length,s=new Array(o>2?o-2:0),l=2;l<o;l++)s[l-2]=arguments[l];i=r.options.overloadTranslationOptionHandler([t,a].concat(s))}else i=Fa({},a);i.lng=i.lng||e.lng,i.lngs=i.lngs||e.lngs,i.ns=i.ns||e.ns,i.keyPrefix=i.keyPrefix||n||e.keyPrefix;var c=r.options.keySeparator||".",u=i.keyPrefix?"".concat(i.keyPrefix).concat(c).concat(t):t;return r.t(u,i)};return"string"==typeof e?a.lng=e:a.lngs=e,a.ns=t,a.keyPrefix=n,a}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var r=this.resolvedLanguage||this.languages[0],a=!!this.options&&this.options.fallbackLng,i=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;var o=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};if(n.precheck){var s=n.precheck(this,o);if(void 0!==s)return s}return!(!this.hasResourceBundle(r,e)&&this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages)&&(!o(r,e)||a&&!o(i,e)))}},{key:"loadNamespaces",value:function(e,t){var n=this,r=Qr();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){r.resolve(),t&&t(e)})),r):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=Qr();"string"==typeof e&&(e=[e]);var r=this.options.preload||[],a=e.filter((function(e){return r.indexOf(e)<0}));return a.length?(this.options.preload=r.concat(a),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){return e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),e?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr":"rtl"}},{key:"cloneInstance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ua,r=Fa(Fa(Fa({},this.options),t),{isClone:!0}),i=new a(r);return void 0===t.debug&&void 0===t.prefix||(i.logger=i.logger.clone(t)),["store","services","language"].forEach((function(t){i[t]=e[t]})),i.services=Fa({},this.services),i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i.translator=new ba(i.services,i.options),i.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];i.emit.apply(i,[e].concat(n))})),i.init(r,n),i.translator.options=i.options,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),a}(Jr);Jt(za,"createInstance",(function(){return new za(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}));var Wa=za.createInstance();Wa.createInstance=za.createInstance,Wa.createInstance,Wa.init,Wa.loadResources,Wa.reloadResources,Wa.use,Wa.changeLanguage,Wa.getFixedT,Wa.t,Wa.exists,Wa.setDefaultNamespace,Wa.hasLoadedNamespace,Wa.loadNamespaces,Wa.loadLanguages;const Ga=Wa;var Za,Ha;function Ya(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qa={en:{translation:(Za={"Value: {{value}}":"Value: {{value}}",Push:"Push",Attraction:"Attraction","Water damage":"Water damage","Fire damage":"Fire damage","Earth damage":"Earth damage","Air damage":"Air damage","Push damage":"Push damage","Indirect push damage":"Indirect push damage","Pushes back {{value}} cells_one":"Pushes back {{value}} cell","Pushes back {{value}} cells":"Pushes back {{value}} cells","Attracts {{value}} cells_one":"Attracts {{value}} cell","Attracts {{value}} cells":"Attracts {{value}} cells","{{value}} water damage":"{{value}} water damage","{{value}} fire damage":"{{value}} fire damage","{{value}} earth damage":"{{value}} earth damage","{{value}} air damage":"{{value}} air damage","{{value}} push damage":"{{value}} push damage","{{value}} push damage (indirect)":"{{value}} push damage (indirect)"},Ya(Za,"{{value}} push damage (indirect)","{{value}} push damage (indirect)"),Ya(Za,"Selected map","Selected map"),Ya(Za,"Spell '{{value}}' casted as target","Spell '{{value}}' casted as target"),Ya(Za,"Spell '{{value}}' casted as caster","Spell '{{value}}' casted as caster"),Ya(Za,"Add state '{{value}}'","Add state '{{value}}'"),Ya(Za,"Remove state '{{value}}'","Remove state '{{value}}'"),Ya(Za,"Mass Trap","Mass Trap"),Ya(Za,"Export","Export"),Ya(Za,"Import","Import"),Ya(Za,"Symmetrical TP","Symmetrical TP"),Ya(Za,"Strength","Strength"),Ya(Za,"Chance","Chance"),Ya(Za,"Intelligence","Intelligence"),Ya(Za,"Agility","Agility"),Ya(Za,"Power","Power"),Ya(Za,"Trap Power","Trap Power"),Ya(Za,"Damage","Damage"),Ya(Za,"Neutral da.","Neutral da."),Ya(Za,"Earth da.","Earth da."),Ya(Za,"Water da.","Water da."),Ya(Za,"Fire da.","Fire da."),Ya(Za,"Air da.","Air da."),Ya(Za,"Trap da.","Trap da."),Ya(Za,"Push da.","Push da."),Ya(Za,"Ranged %","Ranged %"),Ya(Za,"Melee %","Melee %"),Ya(Za,"Spell %","Spell %"),Ya(Za,"Final %","Final %"),Ya(Za,"Offensive characteristics","Offensive characteristics"),Ya(Za,"Defensive characteristics","Defensive characteristics"),Ya(Za,"My character","My character"),Ya(Za,"Neutral %","Neutral %"),Ya(Za,"Earth %","Earth %"),Ya(Za,"Water %","Water %"),Ya(Za,"Fire %","Fire %"),Ya(Za,"Air %","Air %"),Ya(Za,"Neutral res.","Neutral res."),Ya(Za,"Earth res.","Earth res."),Ya(Za,"Water res.","Water res."),Ya(Za,"Fire res.","Fire res."),Ya(Za,"Air res.","Air res."),Ya(Za,"Push res.","Push res."),Ya(Za,"Ranged res. %","Ranged res. %"),Ya(Za,"Melee res. %","Melee res. %"),Ya(Za,"Spell res. %","Spell res. %"),Ya(Za,"Steals {{value}} in best element","Steals {{value}} in best element"),Ya(Za,"Heals {{value}} (last damage taken)","Heals {{value}} (last damage taken)"),Ya(Za,"Places a glyph","Places a glyph"),Ya(Za,"Boosts the spell {{spell}} by {{value}}","Boosts the spell {{spell}} by {{value}}"),Ya(Za,"Cancels the effects of {{spell}}","Cancels the effects of {{spell}}"),Ya(Za,"Tricky Trap","Tricky Trap"),Ya(Za,"Drift Trap","Drift Trap"),Ya(Za,"Fragmentation Trap","Fragmentation Trap"),Ya(Za,"Mass Trap","Mass Trap"),Ya(Za,"Lethal Trap","Lethal Trap"),Ya(Za,"Malevolent Trap","Malevolent Trap"),Ya(Za,"Repelling Trap","Repelling Trap"),Ya(Za,"Insidious Trap","Insidious Trap"),Ya(Za,"Miry Trap","Miry Trap"),Ya(Za,"Sickrat Trap","Sickrat Trap"),Ya(Za,"Calamity","Calamity"),Ya(Za,"Paralysing Trap","Paralysing Trap"),Ya(Za,"Mass Grave","Mass Grave"),Ya(Za,"Chakra Concentration","Chakra Concentration"),Ya(Za,"Desynchronisation","Desynchronisation"),Ya(Za,"Test Trap","Test Trap"),Ya(Za,"Poutch Ingball","Poutch Ingball"),Ya(Za,"Player","Player"),Ya(Za,"Ally","Ally"),Ya(Za,"Cawwot","Cawwot"),Ya(Za,"Move","Move"),Ya(Za,"Removes {{value}} MP","Removes {{value}} MP"),Ya(Za,"Removes {{value}} dodge","Removes {{value}} dodge"),Za)},fr:{translation:(Ha={"Value: {{value}}":"Valeur: {{value}}",Push:"Pousse",Attraction:"Attirance","Water damage":"Dommages eau","Fire damage":"Dommages feu","Earth damage":"Dommages terre","Air damage":"Dommages air","Push damage":"Dommages de pousse","Indirect push damage":"Dommages de pousse indirecte","Pushes back {{value}} cells_one":"Pousse de {{value}} case","Pushes back {{value}} cells":"Pousse de {{value}} cases","Attracts {{value}} cells_one":"Attire de {{value}} case","Attracts {{value}} cells":"Attire de {{value}} cases","{{value}} water damage_one":"{{value}} dommage eau","{{value}} water damage":"{{value}} dommages eau","{{value}} fire damage_one":"{{value}} dommage feu","{{value}} fire damage":"{{value}} dommages feu","{{value}} earth damage_one":"{{value}} dommage terre","{{value}} earth damage":"{{value}} dommages terre","{{value}} air damage_one":"{{value}} dommage air","{{value}} air damage":"{{value}} dommages air","{{value}} push damage_one":"{{value}} dommage de pousse","{{value}} push damage":"{{value}} dommages de pousse","{{value}} push damage_one (indirect)":"{{value}} dommage de pousse (indirecte)","{{value}} push damage (indirect)":"{{value}} dommages de pousse (indirecte)","Selected map":"Map slectionne","Spell '{{value}}' casted as target":"Sort '{{value}}' lanc par la cible","Spell '{{value}}' casted as caster":"Sort '{{value}}' lanc par le lanceur","Add state '{{value}}'":"Ajoute l'tat '{{value}}'","Remove state '{{value}}'":"Retire l'tat '{{value}}'","Mass Trap":"Pige de Masse",Export:"Exporter",Import:"Importer","Symmetrical TP":"TP symtrique",Strength:"Force",Chance:"Chance",Intelligence:"Intelligence",Agility:"Agilit",Power:"Puissance","Trap Power":"Pui. Piges",Damage:"Dommages","Neutral da.":"Do. neutre","Earth da.":"Do. terre","Water da.":"Do. eau","Fire da.":"Do. feu","Air da.":"Do. air","Trap da.":"Do. piges","Push da.":"Do. pousse","Ranged %":"% Distance","Melee %":"% Mle","Spell %":"% Sorts","Final %":"% Finaux","Offensive characteristics":"Caractristiques offensives","Defensive characteristics":"Caractristiques dfensives","My character":"Mon personnage","Neutral %":"% Neutre","Earth %":"% Terre","Water %":"% Eau","Fire %":"% Feu","Air %":"% Air","Neutral res.":"Res. Neutre","Earth res.":"Res. Terre","Water res.":"Res. Eau","Fire res.":"Res. Feu","Air res.":"Res. Air","Push res.":"Res. Pousse","Ranged res. %":"% Res. Ditance","Melee res. %":"% Res. Mle","Spell res. %":"% Res. Sorts","Steals {{value}} in best element":"Vole {{value}} dans le meilleur lment","Heals {{value}} (last damage taken)":"Soigne {{value}} (derniers dgts reus)","Places a glyph":"Place un glyphe","Boosts the spell {{spell}} by {{value}}":"Boost le sort {{spell}} de {{value}}","Cancels the effects of {{spell}}":"Annule les effets de $t({{spell}})","Tricky Trap":"Pige Sournois","Drift Trap":"Pige de Drive","Fragmentation Trap":"Pige  Fragmentation"},Ya(Ha,"Mass Trap","Pige de Masse"),Ya(Ha,"Lethal Trap","Pige Mortel"),Ya(Ha,"Malevolent Trap","Pige Funeste"),Ya(Ha,"Repelling Trap","Pige Rpulsif"),Ya(Ha,"Insidious Trap","Pige Insidieux"),Ya(Ha,"Miry Trap","Pige Fangeux"),Ya(Ha,"Sickrat Trap","Pige Sclrat"),Ya(Ha,"Calamity","Calamit"),Ya(Ha,"Paralysing Trap","Pige d'Immobilisation"),Ya(Ha,"Mass Grave","Fosse Commune"),Ya(Ha,"Chakra Concentration","Concentration de Chakra"),Ya(Ha,"Desynchronisation","Dsynchronisation"),Ya(Ha,"Test Trap","Pige Test"),Ya(Ha,"Poutch Ingball","Poutch Ingball"),Ya(Ha,"Player","Joueur"),Ya(Ha,"Ally","Alli"),Ya(Ha,"Cawwot","Cawotte"),Ya(Ha,"Move","Dplacer"),Ya(Ha,"Removes {{value}} MP","Retire {{value}} PM"),Ya(Ha,"Removes {{value}} dodge","Retire {{value}} de fuite"),Ha)}};Ga.use(wn).init({resources:qa,lng:"fr",interpolation:{escapeValue:!1}});var Va=document.getElementById("root");(0,Ur.s)(Va).render(React.createElement(Fr,null))})()})();
//# sourceMappingURL=bundle.1b9790708ebccf8fd417.min.js.map