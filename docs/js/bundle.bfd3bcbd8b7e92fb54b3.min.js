/*! For license information please see bundle.bfd3bcbd8b7e92fb54b3.min.js.LICENSE.txt */
(()=>{var e={585:()=>{function e(e,n){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){r&&(e=r);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw i}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}window.onload=function(){var t=document.getElementsByClassName("relative-height-source");new ResizeObserver((function(t){var n,r=document.getElementsByClassName("relative-height"),o=e(t);try{for(o.s();!(n=o.n()).done;){var a,i=n.value,s=e(r);try{for(s.s();!(a=s.n()).done;)a.value.style.maxHeight="".concat(i.contentRect.height,"px")}catch(e){s.e(e)}finally{s.f()}}}catch(e){o.e(e)}finally{o.f()}})).observe(t[0])}},542:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(559),o=n.n(r),a=n(476),i=n.n(a),s=n(678),c=n.n(s),l=new URL(n(506),n.b),u=i()(o()),p=c()(l);u.push([e.id,"body{background:url("+p+") no-repeat;background-size:cover;backdrop-filter:blur(20px)}.app{color:#fff;box-shadow:0 0 25px 15px rgba(0,0,0,.8);font-family:helvetica,arial,sans-serif;display:flex;justify-content:space-between;flex-wrap:wrap}","",{version:3,sources:["webpack://./assets/scss/App.scss"],names:[],mappings:"AAAA,KACE,4DAAA,CACA,qBAAA,CACA,0BAAA,CAGF,KACE,UAAA,CACA,uCAAA,CACA,sCAAA,CACA,YAAA,CACA,6BAAA,CACA,cAAA",sourcesContent:["body {\n  background: url('/assets/img/other/background.png') no-repeat;\n  background-size: cover;\n  backdrop-filter: blur(20px);\n}\n\n.app {\n  color: white;\n  box-shadow: 0 0 25px 15px rgba(0, 0, 0, 0.8);\n  font-family: helvetica, arial, sans-serif;\n  display: flex;\n  justify-content: space-between;\n  flex-wrap: wrap;\n}\n"],sourceRoot:""}]);const f=u},493:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(559),o=n.n(r),a=n(476),i=n.n(a)()(o());i.push([e.id,".history{flex:1;margin:5px;overflow-y:scroll;display:flex;flex-direction:column-reverse;background-color:rgba(0,0,0,.5333333333)}.action:last-child{border-top:1px solid #ddd}.action{padding:4px;border-bottom:1px solid #ddd;display:flex;color:#eee}.action .action-img{width:25px;height:25px;margin-right:10px}.action .action-infos{justify-content:space-evenly;display:flex;flex-direction:column}.action.current{background-color:rgba(0,221,0,.2666666667)}.action.waiting{opacity:.3}.action.highlighted{background-color:rgba(255,255,255,.4)}.action:hover{cursor:pointer;padding-left:5%}.highlighted.action-tricky{background-color:rgba(185,18,27,.6)}.highlighted.action-insidious{background-color:rgba(150,255,150,.3)}.highlighted.action-miry{background-color:rgba(64,131,164,.6)}.highlighted.action-mass{background-color:rgba(90,52,28,.6)}.highlighted.action-drift{background-color:rgba(185,18,27,.6)}.highlighted.action-malevolent{background-color:rgba(90,52,28,.6)}.highlighted.action-fragmentation{background-color:rgba(185,18,27,.6)}.highlighted.action-paralysing{background-color:rgba(49,45,134,.5)}.highlighted.action-repelling{background-color:rgba(150,255,150,.3)}.highlighted.action-sickrat{background-color:rgba(64,131,164,.6)}.highlighted.action-lethal{background-color:rgba(90,52,28,.6)}.highlighted.action-calamity{background-color:rgba(64,131,164,.6)}.highlighted.action-massgrave{background-color:rgba(49,45,134,.5)}.highlighted.action-test-trap{background-color:rgba(255,255,255,.4)}","",{version:3,sources:["webpack://./assets/scss/History.scss"],names:[],mappings:"AAAA,SACE,MAAA,CACA,UAAA,CACA,iBAAA,CACA,YAAA,CACA,6BAAA,CACA,wCAAA,CAGF,mBACE,yBAAA,CAGF,QACE,WAAA,CACA,4BAAA,CACA,YAAA,CACA,UAAA,CAEA,oBACE,UAAA,CACA,WAAA,CACA,iBAAA,CAGF,sBACE,4BAAA,CACA,YAAA,CACA,qBAAA,CAIJ,gBACE,0CAAA,CAGF,gBACE,UAAA,CAGF,oBACE,qCAAA,CAGF,cACE,cAAA,CACA,eAAA,CAGF,2BAAA,mCAAA,CACA,8BAAA,qCAAA,CACA,yBAAA,oCAAA,CACA,yBAAA,kCAAA,CACA,0BAAA,mCAAA,CACA,+BAAA,kCAAA,CACA,kCAAA,mCAAA,CACA,+BAAA,mCAAA,CACA,8BAAA,qCAAA,CACA,4BAAA,oCAAA,CACA,2BAAA,kCAAA,CACA,6BAAA,oCAAA,CACA,8BAAA,mCAAA,CACA,8BAAA,qCAAA",sourcesContent:[".history {\n  flex: 1;\n  margin: 5px;\n  overflow-y: scroll;\n  display: flex;\n  flex-direction: column-reverse;\n  background-color: #0008;\n}\n\n.action:last-child {\n  border-top: 1px solid #DDD;\n}\n\n.action {\n  padding: 4px;\n  border-bottom: 1px solid #DDD;\n  display: flex;\n  color: #EEE;\n\n  .action-img {\n    width: 25px;\n    height: 25px;\n    margin-right: 10px;\n  }\n\n  .action-infos {\n    justify-content: space-evenly;\n    display: flex;\n    flex-direction: column;\n  }\n}\n\n.action.current {\n  background-color: #0D04;\n}\n\n.action.waiting {\n  opacity: 0.3;\n}\n\n.action.highlighted {\n  background-color: #FFF6;\n}\n\n.action:hover {\n  cursor: pointer;\n  padding-left: 5%;\n}\n\n.highlighted.action-tricky        { background-color: rgb(185,  18,  27, 0.6); }\n.highlighted.action-insidious     { background-color: rgb(150, 255, 150, 0.3); }\n.highlighted.action-miry          { background-color: rgb( 64, 131, 164, 0.6); }\n.highlighted.action-mass          { background-color: rgb( 90,  52,  28, 0.6); }\n.highlighted.action-drift         { background-color: rgb(185,  18,  27, 0.6); }\n.highlighted.action-malevolent    { background-color: rgb( 90,  52,  28, 0.6); }\n.highlighted.action-fragmentation { background-color: rgb(185,  18,  27, 0.6); }\n.highlighted.action-paralysing    { background-color: rgb( 49,  45, 134, 0.5); }\n.highlighted.action-repelling     { background-color: rgb(150, 255, 150, 0.3); }\n.highlighted.action-sickrat       { background-color: rgb( 64, 131, 164, 0.6); }\n.highlighted.action-lethal        { background-color: rgb( 90,  52,  28, 0.6); }\n.highlighted.action-calamity      { background-color: rgb( 64, 131, 164, 0.6); }\n.highlighted.action-massgrave     { background-color: rgb( 49,  45, 134, 0.5); }\n.highlighted.action-test-trap     { background-color: rgb(255, 255, 255, 0.4); }\n"],sourceRoot:""}]);const s=i},456:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(559),o=n.n(r),a=n(476),i=n.n(a)()(o());i.push([e.id,".map{box-shadow:0 0 20px 10px rgba(0,0,0,.5);flex:3;margin:5px;display:grid;height:fit-content}.map svg.tiles,.map svg.entities{grid-column:1;grid-row:1}.map svg.entities{pointer-events:none}.row{stroke:#7e7961;stroke-width:.1}.cell.even.ground{fill:#8e865e}.cell.odd.ground{fill:#968e67}.cell.ground:hover polygon{fill:#b9121b}.cell text{user-select:none;pointer-events:none}.cell.empty{fill:rgba(0,0,0,0);stroke:rgba(0,0,0,0);stroke-width:0}.cell.wall{fill:#58533a;stroke:rgba(204,204,204,.8);stroke-width:.1}.entity-circle{stroke-width:.3}.entity-circle.defender{fill:rgba(0,0,255,.2);stroke:blue}.entity-circle.attacker{fill:rgba(255,0,0,.2);stroke:red}.trap{fill:none;stroke:none;stroke-width:.2;stroke-linecap:round}.trap polygon{opacity:.3}.trap-cell path,.trap-image,.trap-cell:not(.trap-center){pointer-events:none}.trap-center{cursor:pointer}.trap-highlighted{pointer-events:none}.trap-highlighted .trap{stroke-width:1}.trap-highlighted .trap polygon{opacity:.6}.trap.tricky polygon{fill:#b9121b}.trap.tricky path{stroke:#b9121b}.trap.insidious polygon{fill:#96ff96}.trap.insidious path{stroke:#96ff96}.trap.miry polygon{fill:#4083a4}.trap.miry path{stroke:#4083a4}.trap.mass polygon{fill:#5a341c}.trap.mass path{stroke:#5a341c}.trap.drift polygon{fill:#b9121b}.trap.drift path{stroke:#b9121b}.trap.malevolent polygon{fill:#5a341c}.trap.malevolent path{stroke:#5a341c}.trap.fragmentation polygon{fill:#b9121b}.trap.fragmentation path{stroke:#b9121b}.trap.paralysing polygon{fill:#312d86}.trap.paralysing path{stroke:#312d86}.trap.repelling polygon{fill:#96ff96}.trap.repelling path{stroke:#96ff96}.trap.sickrat polygon{fill:#4083a4}.trap.sickrat path{stroke:#4083a4}.trap.lethal polygon{fill:#5a341c}.trap.lethal path{stroke:#5a341c}.trap.calamity polygon{fill:#4083a4}.trap.calamity path{stroke:#4083a4}.trap.massgrave polygon{fill:#312d86}.trap.massgrave path{stroke:#312d86}.trap.test-trap polygon{fill:#fff}.trap.test-trap path{stroke:#fff}.entity-image{transition:x .1s linear,y .1s linear}.entity-circle{transition:cx .1s linear,cy .1s linear}","",{version:3,sources:["webpack://./assets/scss/Map.scss"],names:[],mappings:"AAEA,KACE,uCAAA,CACA,MAAA,CACA,UAAA,CACA,YAAA,CACA,kBAAA,CAGF,iCACE,aAAA,CACA,UAAA,CAGF,kBACE,mBAAA,CAGF,KACE,cAAA,CACA,eAAA,CAGF,kBACE,YAAA,CAGF,iBACE,YAAA,CAGF,2BACE,YAAA,CAGF,WACE,gBAAA,CACA,mBAAA,CAGF,YACE,kBAAA,CACA,oBAAA,CACA,cAAA,CAGF,WACE,YAAA,CACA,2BAAA,CACA,eAAA,CAGF,eACE,eAAA,CAGF,wBACE,qBAAA,CACA,WAAA,CAGF,wBACE,qBAAA,CACA,UAAA,CAGF,MACE,SAAA,CACA,WAAA,CACA,eAAA,CACA,oBAAA,CAGF,cACE,UAAA,CAGF,yDACE,mBAAA,CAGF,aACE,cAAA,CAGF,kBACE,mBAAA,CAGF,wBACE,cAAA,CAGF,gCACE,UAAA,CAGF,qBAAA,YAAA,CAAA,kBAAA,cAAA,CACA,wBAAA,YAAA,CAAA,qBAAA,cAAA,CACA,mBAAA,YAAA,CAAA,gBAAA,cAAA,CACA,mBAAA,YAAA,CAAA,gBAAA,cAAA,CACA,oBAAA,YAAA,CAAA,iBAAA,cAAA,CACA,yBAAA,YAAA,CAAA,sBAAA,cAAA,CACA,4BAAA,YAAA,CAAA,yBAAA,cAAA,CACA,yBAAA,YAAA,CAAA,sBAAA,cAAA,CACA,wBAAA,YAAA,CAAA,qBAAA,cAAA,CACA,sBAAA,YAAA,CAAA,mBAAA,cAAA,CACA,qBAAA,YAAA,CAAA,kBAAA,cAAA,CACA,uBAAA,YAAA,CAAA,oBAAA,cAAA,CACA,wBAAA,YAAA,CAAA,qBAAA,cAAA,CACA,wBAAA,SAAA,CAAA,qBAAA,WAAA,CAEA,cACE,oCAAA,CAGF,eACE,sCAAA",sourcesContent:["$animSpeed: calc(1s / 10); // 3 cells per second\n\n.map {\n  box-shadow: 0 0 20px 10px rgba(0, 0, 0, 0.5);\n  flex: 3;\n  margin: 5px;\n  display: grid;\n  height: fit-content;\n}\n\n.map svg.tiles, .map svg.entities {\n  grid-column: 1;\n  grid-row: 1;\n}\n\n.map svg.entities {\n  pointer-events: none;\n}\n\n.row {\n  stroke: #7E7961;\n  stroke-width: 0.1;\n}\n\n.cell.even.ground {\n  fill: #8E865E;\n}\n\n.cell.odd.ground {\n  fill: #968E67;\n}\n\n.cell.ground:hover polygon {\n  fill:rgb(185,  18,  27);\n}\n\n.cell text {\n  user-select: none;\n  pointer-events: none;\n}\n\n.cell.empty {\n  fill: #0000;\n  stroke: #0000;\n  stroke-width: 0;\n}\n\n.cell.wall {\n  fill: #58533A;\n  stroke: #CCCC;\n  stroke-width: 0.1;\n}\n\n.entity-circle {\n  stroke-width: 0.3;\n}\n\n.entity-circle.defender {\n  fill: #00F3;\n  stroke: #00F;\n}\n\n.entity-circle.attacker {\n  fill: #F003;\n  stroke: #F00;\n}\n\n.trap {\n  fill: none;\n  stroke: none;\n  stroke-width: 0.2;\n  stroke-linecap: round;\n}\n\n.trap polygon {\n  opacity: 0.3;\n}\n\n.trap-cell path, .trap-image, .trap-cell:not(.trap-center) {\n  pointer-events: none;\n}\n\n.trap-center {\n  cursor: pointer;\n}\n\n.trap-highlighted {\n  pointer-events: none;\n}\n\n.trap-highlighted .trap {\n  stroke-width: 1;\n}\n\n.trap-highlighted .trap polygon {\n  opacity: 0.6;\n}\n\n.trap.tricky polygon        { fill: rgb(185,  18,  27); } .trap.tricky path        { stroke: rgb(185,  18,  27); }\n.trap.insidious polygon     { fill: rgb(150, 255, 150); } .trap.insidious path     { stroke: rgb(150, 255, 150); }\n.trap.miry polygon          { fill: rgb( 64, 131, 164); } .trap.miry path          { stroke: rgb( 64, 131, 164); }\n.trap.mass polygon          { fill: rgb( 90,  52,  28); } .trap.mass path          { stroke: rgb( 90,  52,  28); }\n.trap.drift polygon         { fill: rgb(185,  18,  27); } .trap.drift path         { stroke: rgb(185,  18,  27); }\n.trap.malevolent polygon    { fill: rgb( 90,  52,  28); } .trap.malevolent path    { stroke: rgb( 90,  52,  28); }\n.trap.fragmentation polygon { fill: rgb(185,  18,  27); } .trap.fragmentation path { stroke: rgb(185,  18,  27); }\n.trap.paralysing polygon    { fill: rgb( 49,  45, 134); } .trap.paralysing path    { stroke: rgb( 49,  45, 134); }\n.trap.repelling polygon     { fill: rgb(150, 255, 150); } .trap.repelling path     { stroke: rgb(150, 255, 150); }\n.trap.sickrat polygon       { fill: rgb( 64, 131, 164); } .trap.sickrat path       { stroke: rgb( 64, 131, 164); }\n.trap.lethal polygon        { fill: rgb( 90,  52,  28); } .trap.lethal path        { stroke: rgb( 90,  52,  28); }\n.trap.calamity polygon      { fill: rgb( 64, 131, 164); } .trap.calamity path      { stroke: rgb( 64, 131, 164); }\n.trap.massgrave polygon     { fill: rgb( 49,  45, 134); } .trap.massgrave path     { stroke: rgb( 49,  45, 134); }\n.trap.test-trap polygon     { fill: rgb(255, 255, 255); } .trap.test-trap path     { stroke: rgb(255, 255, 255); }\n\n.entity-image {\n  transition: x $animSpeed linear, y $animSpeed linear;\n}\n\n.entity-circle {\n  transition: cx $animSpeed linear, cy $animSpeed linear;\n}"],sourceRoot:""}]);const s=i},701:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(559),o=n.n(r),a=n(476),i=n.n(a)()(o());i.push([e.id,".spells{box-shadow:0 0 20px 10px rgba(0,0,0,.5);width:100%;margin:5px;padding:10px;display:flex;justify-content:space-around;line-height:50%}.spell-category{flex:3;display:inline-block;text-align:center}.spells .controls{flex:8}.spells-padding{flex:8}.spell{cursor:pointer;padding:5px}.selected-spell{box-shadow:0 0 10px 5px rgba(0,0,0,.5);background-color:rgba(255,255,255,.3)}.controls button{width:60px;height:40px;margin-left:10px;background-color:#454545;border:2px solid #ccc;padding:0;box-shadow:0 0 10px 5px rgba(0,0,0,.5333333333);cursor:pointer}.controls button:active,.controls button.pause{background-color:#ba4545}.controls button img{vertical-align:middle;display:inline;height:60%}.controls button.play img.img-pause,.controls button.pause img.img-play{display:none}","",{version:3,sources:["webpack://./assets/scss/Spells.scss"],names:[],mappings:"AAAA,QACE,uCAAA,CACA,UAAA,CACA,UAAA,CACA,YAAA,CACA,YAAA,CACA,4BAAA,CACA,eAAA,CAGF,gBACE,MAAA,CACA,oBAAA,CACA,iBAAA,CAGF,kBACE,MAAA,CAGF,gBACE,MAAA,CAGF,OACE,cAAA,CACA,WAAA,CAGF,gBACE,sCAAA,CACA,qCAAA,CAGF,iBACE,UAAA,CACA,WAAA,CACA,gBAAA,CACA,wBAAA,CACA,qBAAA,CACA,SAAA,CACA,+CAAA,CACA,cAAA,CAGF,+CAEE,wBAAA,CAGF,qBACE,qBAAA,CACA,cAAA,CACA,UAAA,CAGF,wEAEE,YAAA",sourcesContent:[".spells {\n  box-shadow: 0 0 20px 10px rgba(0, 0, 0, 0.5);\n  width: 100%;\n  margin: 5px;\n  padding: 10px;\n  display: flex;\n  justify-content: space-around;\n  line-height: 50%;\n}\n\n.spell-category {\n  flex: 3;\n  display: inline-block;\n  text-align: center;\n}\n\n.spells .controls {\n  flex: 8;\n}\n\n.spells-padding {\n  flex: 8;\n}\n\n.spell {\n  cursor: pointer;\n  padding: 5px;\n}\n\n.selected-spell {\n  box-shadow: 0 0 10px 5px rgba(0, 0, 0, 0.5);\n  background-color: rgba(255, 255, 255, 0.3);\n}\n\n.controls button {\n  width: 60px;\n  height: 40px;\n  margin-left: 10px;\n  background-color: rgb(69, 69, 69);\n  border: 2px solid #CCC;\n  padding: 0;\n  box-shadow: 0 0 10px 5px #0008;\n  cursor: pointer;\n}\n\n.controls button:active,\n.controls button.pause {\n  background-color: rgb(186, 69, 69);\n}\n\n.controls button img {\n  vertical-align: middle;\n  display: inline;\n  height: 60%;\n}\n\n.controls button.play img.img-pause,\n.controls button.pause img.img-play {\n  display: none;\n}\n"],sourceRoot:""}]);const s=i},731:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(559),o=n.n(r),a=n(476),i=n.n(a)()(o());i.push([e.id,".stats{flex:1;margin:5px;overflow-y:scroll}","",{version:3,sources:["webpack://./assets/scss/Stats.scss"],names:[],mappings:"AAAA,OACE,MAAA,CACA,UAAA,CACA,iBAAA",sourcesContent:[".stats {\n  flex: 1;\n  margin: 5px;\n  overflow-y: scroll;\n}"],sourceRoot:""}]);const s=i},476:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(i[c]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);r&&i[u[0]]||(void 0!==a&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=a),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),t.push(u))}},t}},678:e=>{"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},559:e=>{"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),a="/*# ".concat(o," */"),i=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")}));return[t].concat(i).concat([a]).join("\n")}return[t].join("\n")}},634:(e,t,n)=>{"use strict";var r=n(533);t.s=r.createRoot,r.hydrateRoot},892:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var a={},i=[],s=0;s<e.length;s++){var c=e[s],l=r.base?c[0]+r.base:c[0],u=a[l]||0,p="".concat(l," ").concat(u);a[l]=u+1;var f=n(p),h={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==f)t[f].references++,t[f].updater(h);else{var g=o(h,r);r.byIndex=s,t.splice(s,0,{identifier:p,updater:g,references:1})}i.push(p)}return i}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var a=r(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var s=n(a[i]);t[s].references--}for(var c=r(e,o),l=0;l<a.length;l++){var u=n(a[l]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}a=c}}},311:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},60:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},192:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},760:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},865:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},304:e=>{e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},506:(e,t,n)=>{"use strict";e.exports=n.p+"9682077a4df01046ecf8.png"},533:e=>{"use strict";e.exports=ReactDOM}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={id:r,exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.p="/dofus-trap-network/",n.b=document.baseURI||self.location.href,n.nc=void 0,(()=>{"use strict";const e=React;var t=n(892),r=n.n(t),o=n(760),a=n.n(o),i=n(311),s=n.n(i),c=n(192),l=n.n(c),u=n(60),p=n.n(u),f=n(865),h=n.n(f),g=n(542),d={};d.styleTagTransform=h(),d.setAttributes=l(),d.insert=s().bind(null,"head"),d.domAPI=a(),d.insertStyleElement=p(),r()(g.Z,d),g.Z&&g.Z.locals&&g.Z.locals,n(585);const y={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let m;const v=new Uint8Array(16);function b(){if(!m&&(m="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!m))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return m(v)}const A=[];for(let e=0;e<256;++e)A.push((e+256).toString(16).slice(1));const w=function(e,t,n){if(y.randomUUID&&!t&&!e)return y.randomUUID();const r=(e=e||{}).random||(e.rng||b)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return function(e,t=0){return(A[e[t+0]]+A[e[t+1]]+A[e[t+2]]+A[e[t+3]]+"-"+A[e[t+4]]+A[e[t+5]]+"-"+A[e[t+6]]+A[e[t+7]]+"-"+A[e[t+8]]+A[e[t+9]]+"-"+A[e[t+10]]+A[e[t+11]]+A[e[t+12]]+A[e[t+13]]+A[e[t+14]]+A[e[t+15]]).toLowerCase()}(r)};function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t,n){return t&&k(e.prototype,t),n&&k(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var j=O((function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.uuid=w(),this.type=t,this.pos=n,this.id=n.y*Ee.width+n.x}));const x=j,C=JSON.parse('{"Cawwot":{"name":"Cawwot","image":"./assets/img/entities/Cawwot.png","offsetX":0.03,"offsetY":0.15,"defaultScale":1.48,"movable":false},"Poutch":{"name":"Poutch","image":"./assets/img/entities/Poutch.png","offsetX":-0.05,"offsetY":0.05,"defaultScale":1.46,"movable":true}}');function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var P,E,_,T=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.uuid=w(),this.pos=t,this.initialPos=t,this.team=n,this.data=e.getEntityData(r),this.animPos=void 0}var t,n,r;return t=e,r=[{key:"getEntityData",value:function(t){return e.entityData.get(t)}}],(n=[{key:"isMovable",value:function(){return this.data.movable}},{key:"reset",value:function(){var e;return this.pos=this.initialPos,null===(e=this.component)||void 0===e||e.show(),!0}}])&&S(t.prototype,n),r&&S(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();P=T,E="entityData",_=new Map(Object.entries(C)),E in P?Object.defineProperty(P,E,{value:_,enumerable:!0,configurable:!0,writable:!0}):P[E]=_;const R=T;function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t,n){return t&&N(e.prototype,t),n&&N(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var D=L((function e(t,n,r,o,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=t,this.area=n,this.size=r,this.min=o,this.max=a}));const B=D;function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t,n){return t&&M(e.prototype,t),n&&M(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var I=F((function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pos=t,this.type=n,this.borders=r,this.trap=o}));const G=I;var z,U,V,W,H,K,q,Y,J,Z,$,X,Q;function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e[e.Ground=0]="Ground",e[e.Empty=1]="Empty",e[e.Wall=2]="Wall",e[e.Trap=3]="Trap"}(U||(U={})),function(e){e[e.Pull=0]="Pull",e[e.Push=1]="Push",e[e.WaterDamage=2]="WaterDamage",e[e.FireDamage=3]="FireDamage",e[e.EarthDamage=4]="EarthDamage",e[e.AirDamage=5]="AirDamage",e[e.PushDamage=6]="PushDamage",e[e.IndirectPushDamage=7]="IndirectPushDamage",e[e.MalusMP=8]="MalusMP",e[e.InsidiousGlyph=9]="InsidiousGlyph",e[e.MalevolentBoost=10]="MalevolentBoost",e[e.MiryHeal=11]="MiryHeal"}(V||(V={})),function(e){e[e.Cell=0]="Cell",e[e.Cross=1]="Cross",e[e.Circle=2]="Circle",e[e.Diagonal=3]="Diagonal",e[e.Ring=4]="Ring",e[e.Square=5]="Square"}(W||(W={})),function(e){e[e.Attacker=0]="Attacker",e[e.Defender=1]="Defender"}(H||(H={})),function(e){e[e.North=0]="North",e[e.East=1]="East",e[e.South=2]="South",e[e.West=3]="West",e[e.Northeast=4]="Northeast",e[e.Southeast=5]="Southeast",e[e.Southwest=6]="Southwest",e[e.Northwest=7]="Northwest"}(K||(K={})),function(e){e.Player="Player",e.Cawwot="Cawwot",e.Poutch="Poutch"}(q||(q={})),function(e){e[e.Tricky=0]="Tricky",e[e.Insidious=1]="Insidious",e[e.Miry=2]="Miry",e[e.Mass=3]="Mass",e[e.Drift=4]="Drift",e[e.Malevolent=5]="Malevolent",e[e.Fragmentation=6]="Fragmentation",e[e.Paralysing=7]="Paralysing",e[e.Repelling=8]="Repelling",e[e.Sickrat=9]="Sickrat",e[e.Lethal=10]="Lethal",e[e.Calamity=11]="Calamity",e[e.MassGrave=12]="MassGrave",e[e.Test=13]="Test"}(Y||(Y={})),function(e){e[e.North=1]="North",e[e.East=2]="East",e[e.South=4]="South",e[e.West=8]="West"}(J||(J={})),function(e){e[e.WaterTrap=0]="WaterTrap",e[e.FireTrap=1]="FireTrap",e[e.EarthTrap=2]="EarthTrap",e[e.AirTrap=3]="AirTrap",e[e.MalusTrap=4]="MalusTrap",e[e.Summon=5]="Summon",e[e.Other=6]="Other",e[e.Action=7]="Action"}(Z||(Z={})),function(e){e[e.TrickyTrap=0]="TrickyTrap",e[e.DriftTrap=1]="DriftTrap",e[e.FragmentationTrap=2]="FragmentationTrap",e[e.MassTrap=3]="MassTrap",e[e.LethalTrap=4]="LethalTrap",e[e.MalevolentTrap=5]="MalevolentTrap",e[e.RepellingTrap=6]="RepellingTrap",e[e.InsidiousTrap=7]="InsidiousTrap",e[e.MiryTrap=8]="MiryTrap",e[e.SickratTrap=9]="SickratTrap",e[e.Calamity=10]="Calamity",e[e.ParalysingTrap=11]="ParalysingTrap",e[e.MassGrave=12]="MassGrave",e[e.Poutch=13]="Poutch",e[e.Cawwot=14]="Cawwot",e[e.Chakra=15]="Chakra",e[e.TestTrap=16]="TestTrap",e[e.Select=17]="Select",e[e.Remove=18]="Remove"}($||($={})),function(e){e[e.Waiting=0]="Waiting",e[e.Current=1]="Current",e[e.Completed=2]="Completed"}(X||(X={})),function(e){e.Select="Select",e.Remove="Remove"}(Q||(Q={}));var te=(ee(z={},Y.Tricky,"tricky"),ee(z,Y.Insidious,"insidious"),ee(z,Y.Miry,"miry"),ee(z,Y.Mass,"mass"),ee(z,Y.Drift,"drift"),ee(z,Y.Malevolent,"malevolent"),ee(z,Y.Fragmentation,"fragmentation"),ee(z,Y.Paralysing,"paralysing"),ee(z,Y.Repelling,"repelling"),ee(z,Y.Sickrat,"sickrat"),ee(z,Y.Lethal,"lethal"),ee(z,Y.Calamity,"calamity"),ee(z,Y.MassGrave,"massgrave"),ee(z,Y.Test,"test-trap"),z);function ne(e){return ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ne(e)}function re(){re=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var a=t&&t.prototype instanceof f?t:f,i=Object.create(a.prototype),s=new x(o||[]);return r(i,"_invoke",{value:w(e,n,s)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function f(){}function h(){}function g(){}var d={};c(d,a,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(C([])));m&&m!==t&&n.call(m,a)&&(d=m);var v=g.prototype=f.prototype=Object.create(d);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function o(r,a,i,s){var c=u(e[r],e,a);if("throw"!==c.type){var l=c.arg,p=l.value;return p&&"object"==ne(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,i,s)}),(function(e){o("throw",e,i,s)})):t.resolve(p).then((function(e){l.value=e,i(l)}),(function(e){return o("throw",e,i,s)}))}s(c.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return{value:void 0,done:!0}}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var s=k(i,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,p;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function C(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=g,r(v,"constructor",{value:g,configurable:!0}),r(g,"constructor",{value:h,configurable:!0}),h.displayName=c(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(A.prototype),c(A.prototype,i,(function(){return this})),e.AsyncIterator=A,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new A(l(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),c(v,s,"Generator"),c(v,a,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=C,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}var oe=re().mark(ue);function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ce(e,t,n){for(var r=[],o=ue(e),a=[W.Diagonal,W.Square].includes(t),i=n*(a?2:1)*(n*(a?2:1)+1)*2+1,s=0;s<i;s++){var c=o.next().value;le(c,t,e,n)&&r.push(c)}return r}function le(e,t,n,r){var o=fe(n,e);switch(t){case W.Cell:return n.x===e.x&&n.y===e.y;case W.Cross:return o.real<=r&&o.absolute.x===o.absolute.y;case W.Circle:return o.real<=r;case W.Diagonal:return 0===o.absolute.x&&o.absolute.y<=2*r||0===o.absolute.y&&o.absolute.x<=2*r;case W.Ring:return o.real===r;case W.Square:return o.absolute.x+o.absolute.y<=2*r;default:return!1}}function ue(e){var t,n,r,o,a,i,s;return re().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e,c.next=3,ie({},e);case 3:n=1;case 4:r=0,o=[K.North,K.East,K.South,K.West];case 6:if(!(r<o.length)){c.next=34;break}return a=o[r],i=pe(e,a,n),t=i,c.next=12,ie({},i);case 12:s=0;case 13:if(!(s<n-1)){c.next=31;break}c.t0=a,c.next=c.t0===K.North?17:c.t0===K.East?19:c.t0===K.South?21:c.t0===K.West?23:25;break;case 17:return t.y+=2,c.abrupt("break",26);case 19:return t.x--,c.abrupt("break",26);case 21:return t.y-=2,c.abrupt("break",26);case 23:return t.x++,c.abrupt("break",26);case 25:return c.abrupt("break",26);case 26:return c.next=28,ie({},t);case 28:s++,c.next=13;break;case 31:r++,c.next=6;break;case 34:n++,c.next=4;break;case 37:case"end":return c.stop()}}),oe)}function pe(e,t,n){switch(e=ie({},e),t){case K.North:e.x+=Math.floor((n+e.y%2)/2),e.y-=n;break;case K.East:e.x+=Math.floor((n+e.y%2)/2),e.y+=n;break;case K.South:e.x-=Math.floor((n+(1-e.y%2))/2),e.y+=n;break;case K.West:e.x-=Math.floor((n+(1-e.y%2))/2),e.y-=n;break;case K.Northeast:e.x+=Math.ceil(n/2);break;case K.Southeast:e.y+=2*Math.ceil(n/2);break;case K.Southwest:e.x-=Math.ceil(n/2);break;case K.Northwest:e.y-=2*Math.ceil(n/2)}return e}function fe(e,t){var n={x:2*(e.x-t.x),y:e.y-t.y};return e.y%2!=t.y%2&&(t.y%2==1?n.x--:n.x++),{real:Math.max(Math.abs(n.x),Math.abs(n.y)),absolute:{x:Math.abs(n.x),y:Math.abs(n.y)},relative:{x:-n.x,y:-n.y}}}function he(e,t,n,r){var o=fe(e,t),a=0;switch(0===r&&(a|=J.North|J.East|J.South|J.West),n){case W.Cell:case W.Diagonal:case W.Ring:a|=J.North|J.East|J.South|J.West;break;case W.Cross:if(0===o.real)break;o.relative.x<0==o.relative.y<0?a|=J.North|J.South:a|=J.East|J.West,o.relative.x>0&&o.relative.y<0&&o.real===r&&(a|=J.North),o.relative.x>0&&o.relative.y>0&&o.real===r&&(a|=J.East),o.relative.x<0&&o.relative.y>0&&o.real===r&&(a|=J.South),o.relative.x<0&&o.relative.y<0&&o.real===r&&(a|=J.West);break;case W.Circle:if(o.real<r)break;o.relative.x===r&&(a|=J.North|J.East),o.relative.y===r&&(a|=J.South|J.East),o.relative.x===-r&&(a|=J.South|J.West),o.relative.y===-r&&(a|=J.North|J.West);break;case W.Square:if(o.absolute.x+o.absolute.y<2*r)break;o.relative.x>=0&&o.relative.y<=0&&(a|=J.North),o.relative.x>=0&&o.relative.y>=0&&(a|=J.East),o.relative.x<=0&&o.relative.y>=0&&(a|=J.South),o.relative.x<=0&&o.relative.y<=0&&(a|=J.West)}return a}function ge(e,t){var n=fe(e,t);if(0===n.absolute.x)return n.relative.y>0?K.Southeast:n.relative.y<0?K.Northwest:void 0;if(0===n.absolute.y){if(n.relative.x>0)return K.Northeast;if(n.relative.x<0)return K.Southwest}return n.relative.x>0&&n.relative.y>0?K.East:n.relative.x>0&&n.relative.y<0?K.North:n.relative.x<0&&n.relative.y>0?K.South:n.relative.x<0&&n.relative.y<0?K.West:void 0}const de=JSON.parse('{"0":{"image":"./assets/img/traps/Tricky.svg","area":{"type":1,"size":1},"effects":[{"type":3,"value":{"min":26,"max":28},"area":{"type":1,"size":1}},{"type":0,"value":{"min":1,"max":1},"area":{"type":1,"size":1}}]},"1":{"image":"./assets/img/traps/Insidious.svg","area":{"type":0,"size":0},"effects":[{"type":9,"value":{"min":48,"max":52},"area":{"type":2,"size":3}}]},"2":{"image":"./assets/img/traps/Miry.svg","area":{"type":0,"size":0},"effects":[{"type":2,"value":{"min":33,"max":37},"area":{"type":0,"size":0}},{"type":11,"value":{"min":0.5,"max":0.5},"area":{"type":2,"size":2}}]},"3":{"image":"./assets/img/traps/Mass.svg","area":{"type":0,"size":0},"effects":[{"type":4,"value":{"min":34,"max":38},"area":{"type":2,"size":3}}]},"4":{"image":"./assets/img/traps/Drift.svg","area":{"type":3,"size":1},"effects":[{"type":3,"value":{"min":17,"max":19},"area":{"type":3,"size":1}},{"type":1,"value":{"min":2,"max":2},"area":{"type":3,"size":1}}]},"5":{"image":"./assets/img/traps/Malevolent.svg","area":{"type":0,"size":0},"effects":[{"type":10,"value":{"min":20,"max":20},"area":{"type":2,"size":2}},{"type":4,"value":{"min":28,"max":32},"area":{"type":0,"size":0}}]},"6":{"image":"./assets/img/traps/Fragmentation.svg","area":{"type":0,"size":0},"effects":[{"type":3,"value":{"min":13,"max":17},"area":{"type":0,"size":0}},{"type":3,"value":{"min":27,"max":31},"area":{"type":4,"size":1}},{"type":3,"value":{"min":37,"max":41},"area":{"type":4,"size":2}},{"type":3,"value":{"min":47,"max":51},"area":{"type":4,"size":3}}]},"7":{"image":"./assets/img/traps/Paralysing.svg","area":{"type":2,"size":3},"effects":[{"type":8,"value":{"min":4,"max":4},"area":{"type":2,"size":3}}]},"8":{"image":"./assets/img/traps/Repelling.svg","area":{"type":1,"size":1},"effects":[{"type":1,"value":{"min":2,"max":2},"area":{"type":1,"size":1}},{"type":5,"value":{"min":12,"max":12},"area":{"type":1,"size":1}}]},"9":{"image":"./assets/img/traps/Sickrat.svg","area":{"type":0,"size":0},"effects":[{"type":0,"value":{"min":3,"max":3},"area":{"type":1,"size":3}},{"type":2,"value":{"min":17,"max":19},"area":{"type":1,"size":3}}]},"10":{"image":"./assets/img/traps/Lethal.svg","area":{"type":0,"size":0},"effects":[{"type":4,"value":{"min":39,"max":43},"area":{"type":0,"size":0}}]},"11":{"image":"./assets/img/traps/Calamity.svg","area":{"type":0,"size":0},"effects":[{"type":2,"value":{"min":33,"max":37},"area":{"type":5,"size":1}}]},"12":{"image":"./assets/img/traps/MassGrave.svg","area":{"type":0,"size":0},"effects":[]},"13":{"image":"./assets/img/traps/Test.svg","area":{"type":1,"size":1},"effects":[{"type":1,"value":{"min":2,"max":2},"area":{"type":1,"size":2}},{"type":0,"value":{"min":2,"max":2},"area":{"type":1,"size":1}}]}}'),ye=JSON.parse('{"0":{"name":"Tricky Trap","icon":"./assets/img/spells/TrickyTrap.svg","category":1,"effect":{"trap":0}},"1":{"name":"Drift Trap","icon":"./assets/img/spells/DriftTrap.svg","category":1,"effect":{"trap":4}},"2":{"name":"Fragmentation Trap","icon":"./assets/img/spells/FragmentationTrap.svg","category":1,"effect":{"trap":6}},"3":{"name":"Mass Trap","icon":"./assets/img/spells/MassTrap.svg","category":2,"effect":{"trap":3}},"4":{"name":"Lethal Trap","icon":"./assets/img/spells/LethalTrap.svg","category":2,"effect":{"trap":10}},"5":{"name":"Malevolent Trap","icon":"./assets/img/spells/MalevolentTrap.svg","category":2,"effect":{"trap":5}},"6":{"name":"Repelling Trap","icon":"./assets/img/spells/RepellingTrap.svg","category":3,"effect":{"trap":8}},"7":{"name":"Insidious Trap","icon":"./assets/img/spells/InsidiousTrap.svg","category":3,"effect":{"trap":1}},"8":{"name":"Miry Trap","icon":"./assets/img/spells/MiryTrap.svg","category":0,"effect":{"trap":2}},"9":{"name":"Sickrat Trap","icon":"./assets/img/spells/SickratTrap.svg","category":0,"effect":{"trap":9}},"10":{"name":"Calamity","icon":"./assets/img/spells/Calamity.svg","category":0,"effect":{"trap":11}},"11":{"name":"Paralysing Trap","icon":"./assets/img/spells/ParalysingTrap.svg","category":4,"effect":{"trap":7}},"12":{"name":"Mass Grave","icon":"./assets/img/spells/MassGrave.svg","category":4,"effect":{"trap":12}},"13":{"name":"Poutch Ingball","icon":"./assets/img/spells/Poutch.svg","category":5,"effect":{"entity":"Poutch"}},"14":{"name":"Cawwot","icon":"./assets/img/spells/Cawwot.svg","category":5,"effect":{"entity":"Cawwot"}},"15":{"name":"Chakra Concentration","icon":"./assets/img/spells/ChakraConcentration.svg","category":6,"effect":{"trap":12}},"16":{"name":"Test Trap","icon":"./assets/img/spells/TestTrap.svg","category":6,"effect":{"trap":13}},"17":{"name":"Select","icon":"./assets/img/spells/Select.svg","category":7,"effect":{"action":"Select"}},"18":{"name":"Remove","icon":"./assets/img/spells/Remove.svg","category":7,"effect":{"action":"Remove"}}}');function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ve=de,be=ye,Ae=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.uuid=w(),this.pos=t,this.type=n,this.area=ve[this.type].area.type,this.size=ve[this.type].area.size,this.image=ve[this.type].image,this.caster=r,this.component=void 0,this.active=!0,this.effects=[];for(var o=0;o<ve[this.type].effects.length;o++)this.effects.push(new B(ve[this.type].effects[o].type,ve[this.type].effects[o].area.type,ve[this.type].effects[o].area.size,ve[this.type].effects[o].value.min,ve[this.type].effects[o].value.max))}var t,n;return t=e,n=[{key:"getTrapCells",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.active&&!e)return[];for(var t=[],n=ce({x:this.pos.x,y:this.pos.y},this.area,this.size),r=0;r<n.length;r++)t.push(new G(n[r],this.type,he(this.pos,n[r],this.area,this.size),this));return t}},{key:"isInTrap",value:function(e){return!!this.active&&le(e,this.area,this.pos,this.size)}},{key:"enable",value:function(){var e;this.active=!0,null===(e=this.component)||void 0===e||e.show()}},{key:"disable",value:function(){var e;this.active=!1,null===(e=this.component)||void 0===e||e.hide()}},{key:"getSpellIcon",value:function(){for(var e in be){var t;if((null===(t=be[e].effect)||void 0===t?void 0:t.trap)===this.type)return be[e].icon}}}],n&&me(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const we=Ae;function ke(e){return ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ke(e)}function Oe(){Oe=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var a=t&&t.prototype instanceof f?t:f,i=Object.create(a.prototype),s=new x(o||[]);return r(i,"_invoke",{value:w(e,n,s)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function f(){}function h(){}function g(){}var d={};c(d,a,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(C([])));m&&m!==t&&n.call(m,a)&&(d=m);var v=g.prototype=f.prototype=Object.create(d);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function o(r,a,i,s){var c=u(e[r],e,a);if("throw"!==c.type){var l=c.arg,p=l.value;return p&&"object"==ke(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,i,s)}),(function(e){o("throw",e,i,s)})):t.resolve(p).then((function(e){l.value=e,i(l)}),(function(e){return o("throw",e,i,s)}))}s(c.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return{value:void 0,done:!0}}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var s=k(i,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,p;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function C(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=g,r(v,"constructor",{value:g,configurable:!0}),r(g,"constructor",{value:h,configurable:!0}),h.displayName=c(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(A.prototype),c(A.prototype,i,(function(){return this})),e.AsyncIterator=A,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new A(l(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),c(v,s,"Generator"),c(v,a,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=C,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var xe=function(){function e(t,n,r,o,a,i,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.uuid=w(),this.originEntity=t,this.targetEntity=n,this.originPos=r,this.targetPos=o,this.type=a,this.value=i,this.originTrap=s}var t,n;return t=e,n=[{key:"apply",value:Oe().mark((function t(){var n,r,o,a,i,s,c,l;return Oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=this.type,t.next=t.t0===V.Pull?3:t.t0===V.Push?25:t.t0===V.WaterDamage?48:t.t0===V.FireDamage?50:t.t0===V.EarthDamage?52:t.t0===V.AirDamage?54:t.t0===V.PushDamage?56:t.t0===V.IndirectPushDamage?58:t.t0===V.MalusMP?60:t.t0===V.InsidiousGlyph?62:t.t0===V.MalevolentBoost?64:t.t0===V.MiryHeal?66:68;break;case 3:if(this.targetEntity.isMovable()){t.next=5;break}return t.abrupt("break",68);case 5:n=ge(this.targetPos,this.originPos),r=[K.Northeast,K.Southeast,K.Southwest,K.Northwest].includes(n),o=0;case 8:if(!(o<(r?Math.ceil(this.value/2):this.value))){t.next=24;break}if(a=pe(this.targetEntity.pos,n,1),!Ee.isMovementPossible(this.targetEntity.pos,a,n)){t.next=20;break}return this.targetEntity.animPos=a,t.next=14,this.targetEntity;case 14:if(this.targetEntity.pos=this.targetEntity.animPos,this.targetEntity.animPos=void 0,!Ee.triggerTraps(a)){t.next=18;break}return t.abrupt("break",24);case 18:t.next=21;break;case 20:return t.abrupt("break",24);case 21:o++,t.next=8;break;case 24:return t.abrupt("break",68);case 25:if(this.targetEntity.isMovable()){t.next=27;break}return t.abrupt("break",68);case 27:i=ge(this.originPos,this.targetPos),s=[K.Northeast,K.Southeast,K.Southwest,K.Northwest].includes(i),c=0;case 30:if(!(c<(s?Math.ceil(this.value/2):this.value))){t.next=47;break}if(l=pe(this.targetEntity.pos,i,1),!Ee.isMovementPossible(this.targetEntity.pos,l,i)){t.next=42;break}return this.targetEntity.animPos=l,t.next=36,this.targetEntity;case 36:if(this.targetEntity.pos=this.targetEntity.animPos,this.targetEntity.animPos=void 0,!Ee.triggerTraps(l)){t.next=40;break}return t.abrupt("break",47);case 40:t.next=44;break;case 42:return Ee.addToActionStack(new e(this.originEntity,this.targetEntity,this.targetEntity.pos,l,V.PushDamage,s?2*Math.ceil(this.value/2):this.value-c,this.originTrap)),t.abrupt("break",47);case 44:c++,t.next=30;break;case 47:return t.abrupt("break",68);case 48:return console.log('Applying effect "WaterDamage" to '.concat(this.targetEntity.data.name)),t.abrupt("break",68);case 50:return console.log('Applying effect "FireDamage" to '.concat(this.targetEntity.data.name)),t.abrupt("break",68);case 52:return console.log('Applying effect "EarthDamage" to '.concat(this.targetEntity.data.name)),t.abrupt("break",68);case 54:return console.log('Applying effect "AirDamage" to '.concat(this.targetEntity.data.name)),t.abrupt("break",68);case 56:return console.log('Applying effect "PushDamage" to '.concat(this.targetEntity.data.name)),t.abrupt("break",68);case 58:return console.log('Applying effect "IndirectPushDamage" to '.concat(this.targetEntity.data.name)),t.abrupt("break",68);case 60:return console.log('Applying effect "MalusMP" to '.concat(this.targetEntity.data.name)),t.abrupt("break",68);case 62:return console.log('Applying effect "InsidiousGlyph" to '.concat(this.targetEntity.data.name)),t.abrupt("break",68);case 64:return console.log('Applying effect "MalevolentBoost" to '.concat(this.targetEntity.data.name)),t.abrupt("break",68);case 66:return console.log('Applying effect "MiryHeal" to '.concat(this.targetEntity.data.name)),t.abrupt("break",68);case 68:case"end":return t.stop()}}),t,this)}))}],n&&je(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Pe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.width=14,this.height=40,this.entities=[],this.traps=[],this.actionStack=[],this.completedActionStack=[],this.savedActionStack=[],this.currentAction=void 0,this.mapLoaded=!1,this.waitingAnim=!1,this.mapComponent=void 0,this.startPoint=void 0,this.remainingSteps=-1,this.loadMap(t)}var t,n;return t=e,n=[{key:"setStartPoint",value:function(e){this.startPoint=e}},{key:"run",value:function(){this.startPoint?(this.savedActionStack=[],this.triggerTraps(this.startPoint),this.remainingSteps=-1,this.triggerStack()):this.spellsComponent.setPlay(!1)}},{key:"runOne",value:function(){this.startPoint?(this.remainingSteps=1,0===this.actionStack.length&&(this.savedActionStack=[],this.triggerTraps(this.startPoint)),this.triggerStack()):this.spellsComponent.setPlay(!1)}},{key:"pause",value:function(){this.remainingSteps=0}},{key:"refreshMap",value:function(){var e;null===(e=this.mapComponent)||void 0===e||e.forceUpdate()}},{key:"refreshHistory",value:function(){var e;null===(e=this.historyComponent)||void 0===e||e.forceUpdate()}},{key:"getAllTrapCells",value:function(){for(var e=[],t=0;t<this.traps.length;t++)for(var n=this.traps[t].getTrapCells(),r=0;r<n.length;r++){var o,a,i;(null===(o=this.map)||void 0===o||null===(a=o[n[r].pos.x])||void 0===a||null===(i=a[n[r].pos.y])||void 0===i?void 0:i.type)===U.Ground&&(n[r].borders|=this.getCellBorders(n[r].pos),e.push(n[r]))}return e}},{key:"placeEntity",value:function(e){this.entities.push(e)}},{key:"placeTrap",value:function(e){this.traps.unshift(e)}},{key:"getCellBorders",value:function(e){for(var t,n=0,r=(Ce(t={},K.North,J.North),Ce(t,K.East,J.East),Ce(t,K.South,J.South),Ce(t,K.West,J.West),t),o=0,a=[K.North,K.East,K.South,K.West];o<a.length;o++){var i,s,c=a[o],l=pe(e,c,1);void 0!==(null===(i=this.map)||void 0===i||null===(s=i[l.x])||void 0===s?void 0:s[l.y])&&this.map[l.x][l.y].type===U.Ground||(n|=r[c])}return n}},{key:"loadMap",value:function(e){var t=this,n="./assets/maps/".concat(e,".json");fetch(n).then((function(e){return e.json()})).then((function(e){t.prepareNewMap();var n=e.Data[0].Cells;t.map=new Array(n[0].length);for(var r=0;r<n[0].length;r++){t.map[r]=new Array(n.length);for(var o=0;o<n.length;o++)t.map[r][o]=new x(n[o][r],{x:r,y:o})}t.refreshMap(),t.refreshHistory(),t.mapLoaded=!0}),(function(e){console.error(e)}))}},{key:"prepareNewMap",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.traps=[],this.entities=[],this.actionStack=[],this.currentAction=void 0,this.completedActionStack=[],this.savedActionStack=[],this.startPoint=void 0,this.waitingAnim=!1,this.remainingSteps=-1,this.mapLoaded=!1,e&&(this.refreshMap(),this.refreshHistory())}},{key:"getCell",value:function(e){var t,n;return null===(t=this.map)||void 0===t||null===(n=t[e.x])||void 0===n?void 0:n[e.y]}},{key:"getEntity",value:function(e){for(var t=0;t<this.entities.length;t++)if(this.entities[t].pos.x===e.x&&this.entities[t].pos.y===e.y)return this.entities[t]}},{key:"getTrap",value:function(e){for(var t=0;t<this.traps.length;t++)if(this.traps[t].pos.x===e.x&&this.traps[t].pos.y===e.y)return this.traps[t]}},{key:"removeEntity",value:function(e){for(var t=0;t<this.entities.length;t++)if(this.entities[t].pos.x===e.x&&this.entities[t].pos.y===e.y){this.entities.splice(t,1);break}}},{key:"removeTrap",value:function(e){for(var t=0;t<this.traps.length;t++)if(this.traps[t].pos.x===e.x&&this.traps[t].pos.y===e.y){this.traps.splice(t,1);break}}},{key:"getEntitiesInArea",value:function(e,t,n){for(var r=[],o=ue(e),a=[W.Diagonal,W.Square].includes(t),i=n*(a?2:1)*(n*(a?2:1)+1)*2+1,s=0;s<i;s++){var c=o.next().value;if(le(c,t,e,n)){var l=this.getEntity(c);l&&r.push(l)}}return r}},{key:"triggerTraps",value:function(e){for(var t,n,r=[],o=0;o<this.traps.length;o++)if(this.traps[o].isInTrap(e)){for(var a=[],i=0;i<this.traps[o].effects.length;i++){var s=this.getEntitiesInArea(this.traps[o].pos,this.traps[o].effects[i].area,this.traps[o].effects[i].size);this.traps[o].effects[i].type===V.Push&&(s=s.reverse());for(var c=(t=this.traps[o].effects[i].min,n=this.traps[o].effects[i].max,t+Math.floor(Math.random()*(n-t))),l=0;l<s.length;l++)a.unshift(new xe(this.traps[o].caster,s[l],this.traps[o].pos,s[l].pos,this.traps[o].effects[i].type,c,this.traps[o]))}this.addToActionStack.apply(this,a),r.push(o)}for(var u=r.length-1;u>=0;u--)this.traps[r[u]].disable();return r.length>0}},{key:"addToActionStack",value:function(){var e;(e=this.actionStack).push.apply(e,arguments)}},{key:"triggerStack",value:function(){for(;this.waitingAnim||0!=this.remainingSteps--&&(this.currentAction=this.actionStack.pop());){this.refreshHistory(),this.waitingAnim||(this.actionGenerator=this.currentAction.apply());var e=this.actionGenerator.next();if(!e.done&&e.value)return this.waitingAnim=!0,void e.value.component.move(e.value.pos,e.value.animPos);this.completedActionStack.push(this.currentAction),this.currentAction=void 0,this.waitingAnim=!1}this.spellsComponent.setPlay(!1),this.refreshMap()}},{key:"isMovementPossible",value:function(e,t,n){var r;if([K.Northeast,K.Southeast,K.Southwest,K.Northwest].includes(n)){var o,a=(Ce(o={},K.Northeast,[K.North,K.East]),Ce(o,K.Northwest,[K.North,K.West]),Ce(o,K.Southwest,[K.South,K.West]),Ce(o,K.Southeast,[K.South,K.East]),o);if(!this.isMovementPossible(e,pe(e,a[n][0],1),a[n][0])||!this.isMovementPossible(e,pe(e,a[n][1],1),a[n][1]))return!1}return(null===(r=this.getCell(t))||void 0===r?void 0:r.type)===U.Ground&&void 0===this.getEntity(t)}},{key:"getActionStack",value:function(){return this.savedActionStack.length>0?{waiting:[],completed:this.savedActionStack,current:void 0}:{waiting:this.actionStack,completed:this.completedActionStack,current:this.currentAction}}},{key:"resetAll",value:function(){for(var e=0;e<this.entities.length;e++)this.entities[e].reset();for(var t=0;t<this.traps.length;t++)this.traps[t].enable();this.savedActionStack=this.completedActionStack,this.completedActionStack=[],this.actionStack=[],this.currentAction=void 0,this.waitingAnim=!1,this.refreshMap()}},{key:"getActionsFromTrap",value:function(e){for(var t,n=[],r=0;r<this.savedActionStack.length;r++)this.savedActionStack[r].originTrap.uuid===e.uuid&&n.push(this.savedActionStack[r]);for(var o=0;o<this.actionStack.length;o++)this.actionStack[o].originTrap.uuid===e.uuid&&n.push(this.actionStack[o]);for(var a=0;a<this.completedActionStack.length;a++)this.completedActionStack[a].originTrap.uuid===e.uuid&&n.push(this.completedActionStack[a]);return(null===(t=this.currentAction)||void 0===t?void 0:t.originTrap.uuid)===e.uuid&&n.push(this.currentAction),n}},{key:"onEntityTransitionEnd",value:function(){this.triggerStack()}},{key:"selectSpell",value:function(e){this.selectedSpell=e}},{key:"onCellClick",value:function(e){var t,n,r,o,a,i;void 0!==(null===(t=this.selectedSpell)||void 0===t||null===(n=t.effect)||void 0===n?void 0:n.trap)&&void 0===this.getTrap(e)&&this.placeTrap(new we(e,this.selectedSpell.effect.trap,this.entities[0])),void 0!==(null===(r=this.selectedSpell)||void 0===r||null===(o=r.effect)||void 0===o?void 0:o.entity)&&void 0===this.getEntity(e)&&this.placeEntity(new R(e,H.Defender,this.selectedSpell.effect.entity)),void 0!==(null===(a=this.selectedSpell)||void 0===a||null===(i=a.effect)||void 0===i?void 0:i.action)&&this.runActionSpell(e,this.selectedSpell.effect.action),this.refreshMap()}},{key:"runActionSpell",value:function(e,t){switch(t){case Q.Remove:this.getEntity(e)?this.removeEntity(e):this.getTrap(e)&&this.removeTrap(e);break;case Q.Select:this.setStartPoint(e)}}}],n&&Se(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const Ee=new Pe("empty");var _e=n(456),Te={};function Re(e){return Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Re(e)}function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function De(e,t){return De=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},De(e,t)}function Be(e,t){if(t&&("object"===Re(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Me(e){return Me=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Me(e)}Te.styleTagTransform=h(),Te.setAttributes=l(),Te.insert=s().bind(null,"head"),Te.domAPI=a(),Te.insertStyleElement=p(),r()(_e.Z,Te),_e.Z&&_e.Z.locals&&_e.Z.locals;var Fe=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&De(e,t)}(s,t);var n,r,o,a,i=(o=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Me(o);if(a){var n=Me(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Be(this,e)});function s(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),i.call(this,e)}return n=s,(r=[{key:"onClick",value:function(){Ee.onCellClick({x:this.props.x,y:this.props.y})}},{key:"render",value:function(){var t,n,r=this,o=null===(t=Ee.getCell(this.props))||void 0===t?void 0:t.type,a=this.props.y%2==0,i={x:this.props.x*this.props.width+(a?0:this.props.width/2),y:this.props.y*(this.props.height/2)},s=(Ne(n={},U.Ground,"ground"),Ne(n,U.Empty,"empty"),Ne(n,U.Wall,"wall"),n),c=[];return o===U.Wall?c.push(e.createElement("polygon",{key:"polygon-1",points:"\n          ".concat(i.x+this.props.width/2,",").concat(i.y-this.props.height/2,"\n          ").concat(i.x+this.props.width,",").concat(i.y,"\n          ").concat(i.x+this.props.width/2,",").concat(i.y+this.props.height/2,"\n          ").concat(i.x,",").concat(i.y,"\n        ")}),e.createElement("polygon",{key:"polygon-2",points:"\n          ".concat(i.x,",").concat(i.y,"\n          ").concat(i.x,",").concat(i.y+this.props.height/2,"\n          ").concat(i.x+this.props.width/2,",").concat(i.y+this.props.height,"\n          ").concat(i.x+this.props.width/2,",").concat(i.y+this.props.height/2,"\n        ")}),e.createElement("polygon",{key:"polygon-3",points:"\n          ".concat(i.x+this.props.width/2,",").concat(i.y+this.props.height/2,"\n          ").concat(i.x+this.props.width/2,",").concat(i.y+this.props.height,"\n          ").concat(i.x+this.props.width,",").concat(i.y+this.props.height/2,"\n          ").concat(i.x+this.props.width,",").concat(i.y,"\n        ")})):c.push(e.createElement("polygon",{key:"polygon-4",points:"\n        ".concat(i.x+this.props.width/2,",").concat(i.y,"\n        ").concat(i.x+this.props.width,",").concat(i.y+this.props.height/2,"\n        ").concat(i.x+this.props.width/2,",").concat(i.y+this.props.height,"\n        ").concat(i.x,",").concat(i.y+this.props.height/2,"\n      "),onClick:function(){r.onClick()}})),e.createElement("g",{className:"cell ".concat(a?"even":"odd"," ").concat(s[o])},c)}}])&&Le(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(e.Component);const Ie=Fe;function Ge(e){return Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ge(e)}function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){Ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function We(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function He(e,t){return He=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},He(e,t)}function Ke(e,t){if(t&&("object"===Ge(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function qe(e){return qe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qe(e)}var Ye=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&He(e,t)}(s,t);var n,r,o,a,i=(o=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=qe(o);if(a){var n=qe(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ke(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={animX:void 0,animY:void 0,display:!0},t.transitionCounter=0,t}return n=s,(r=[{key:"show",value:function(){this.setState((function(e){return Ue(Ue({},e),{},{display:!0})}))}},{key:"hide",value:function(){this.setState((function(e){return Ue(Ue({},e),{},{display:!1})}))}},{key:"move",value:function(e,t){this.transitionCounter=2,le(e,W.Diagonal,t,40)&&(this.transitionCounter=1),this.setState({animX:t.x,animY:t.y})}},{key:"onTransitionEnd",value:function(){this.transitionCounter<=1?(this.setState({animX:void 0,animY:void 0}),Ee.onEntityTransitionEnd()):this.transitionCounter--}},{key:"render",value:function(){var t,n,r,o=this;if(this.state.display){var a=100/(Ee.width+.5),i=a/2,s=200/(2*Ee.width+(Ee.width>1?1:0))*this.props.entity.data.defaultScale,c=s,l=(null!==(t=this.state.animX)&&void 0!==t?t:this.props.entity.pos.x)*a+((null!==(n=this.state.animY)&&void 0!==n?n:this.props.entity.pos.y)%2==0?0:a/2),u=(null!==(r=this.state.animY)&&void 0!==r?r:this.props.entity.pos.y)*i/2;return e.createElement("g",{className:"entity"},e.createElement("ellipse",{className:"entity-circle ".concat(this.props.entity.team===H.Attacker?"attacker":"defender"),cx:l+a/2,cy:u+i/2,rx:.3*a,ry:.3*i,onTransitionEnd:function(){o.onTransitionEnd()}}),e.createElement("image",{className:"entity-image",href:this.props.entity.data.image,x:l-s/2+a/2+this.props.entity.data.offsetX*a,y:u-c+.75*i+this.props.entity.data.offsetY*i,width:s,height:c}))}}}])&&We(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(e.Component);const Je=Ye;function Ze(e){return Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ze(e)}function $e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qe(e,t){return Qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Qe(e,t)}function et(e,t){if(t&&("object"===Ze(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function tt(e){return tt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},tt(e)}var nt=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qe(e,t)}(s,t);var n,r,o,a,i=(o=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=tt(o);if(a){var n=tt(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return et(this,e)});function s(){return $e(this,s),i.apply(this,arguments)}return n=s,r=[{key:"render",value:function(){for(var t=this,n=[],r=100/(Ee.width+.5),o=r/2,a=function(a){var i=t.props.entities[a];i instanceof x?n.push(e.createElement(Ie,{x:i.pos.x,y:i.pos.y,id:i.pos.y*Ee.width+i.pos.x,width:r,height:o,key:i.uuid})):n.push(e.createElement(Je,{entity:i,ref:function(e){i.component=e},key:i.uuid}))},i=0;i<this.props.entities.length;i++)a(i);if(this.props.startPoint){var s={x:this.props.startPoint.x*r+(this.props.startPoint.y%2==0?0:r/2),y:this.props.startPoint.y*o/2};n.push(e.createElement("image",{className:"entity-image",href:"./assets/img/entities/Target.svg",x:s.x+.15*r,y:s.y+.15*o,width:.7*r,height:.7*o}))}return n}}],r&&Xe(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(e.Component);const rt=nt;function ot(e){return ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ot(e)}function at(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function it(e,t){return it=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},it(e,t)}function st(e,t){if(t&&("object"===ot(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ct(e){return ct=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ct(e)}var lt=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&it(e,t)}(s,t);var n,r,o,a,i=(o=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ct(o);if(a){var n=ct(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return st(this,e)});function s(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),i.call(this,e)}return n=s,(r=[{key:"onMouseEnter",value:function(){this.props.setHighlight(!0)}},{key:"onMouseLeave",value:function(){this.props.setHighlight(!1)}},{key:"onClick",value:function(){Ee.onCellClick({x:this.props.x,y:this.props.y})}},{key:"render",value:function(){var t=this,n={x:this.props.x*this.props.width+(this.props.y%2==0?0:this.props.width/2),y:this.props.y*(this.props.height/2)},r=[];r.push(e.createElement("polygon",{key:"polygon",points:"\n      ".concat(n.x+this.props.width/2,",").concat(n.y,"\n      ").concat(n.x+this.props.width,",").concat(n.y+this.props.height/2,"\n      ").concat(n.x+this.props.width/2,",").concat(n.y+this.props.height,"\n      ").concat(n.x,",").concat(n.y+this.props.height/2),onMouseEnter:this.props.center?function(){t.onMouseEnter()}:void 0,onMouseLeave:this.props.center?function(){t.onMouseLeave()}:void 0,onClick:this.props.center?function(){t.onClick()}:void 0}));var o="";return this.props.borders&J.North&&(o+=" M ".concat(n.x+this.props.width/2,",").concat(n.y," L ").concat(n.x+this.props.width,",").concat(n.y+this.props.height/2," ")),this.props.borders&J.East&&(o+=" M ".concat(n.x+this.props.width,",").concat(n.y+this.props.height/2," L ").concat(n.x+this.props.width/2,",").concat(n.y+this.props.height," ")),this.props.borders&J.South&&(o+=" M ".concat(n.x+this.props.width/2,",").concat(n.y+this.props.height," L ").concat(n.x,",").concat(n.y+this.props.height/2," ")),this.props.borders&J.West&&(o+=" M ".concat(n.x,",").concat(n.y+this.props.height/2," L ").concat(n.x+this.props.width/2,",").concat(n.y," ")),r.push(e.createElement("path",{key:"path",d:o})),e.createElement("g",{className:"trap-cell ".concat(this.props.center?"trap-center":""," ").concat(te[this.props.type])},r)}}])&&at(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(e.Component);const ut=lt;function pt(e){return pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pt(e)}function ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(n),!0).forEach((function(t){gt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yt(e,t){return yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yt(e,t)}function mt(e,t){if(t&&("object"===pt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function vt(e){return vt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vt(e)}var bt=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yt(e,t)}(s,t);var n,r,o,a,i=(o=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=vt(o);if(a){var n=vt(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return mt(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={display:!0},t}return n=s,(r=[{key:"show",value:function(){this.setState((function(e){return ht(ht({},e),{},{display:!0})})),this.props.trap.imgComponent.style.display=""}},{key:"hide",value:function(){this.setState((function(e){return ht(ht({},e),{},{display:!1})})),this.props.trap.imgComponent.style.display="none"}},{key:"setHighlight",value:function(e){Ee.getActionsFromTrap(this.props.trap).forEach((function(t){var n;null===(n=t.component)||void 0===n||n.setHighlight(e)})),this.props.setHighlight(this.props.trap.uuid,e)}},{key:"render",value:function(){for(var t=this,n=[],r=100/(Ee.width+.5),o=r/2,a=this.props.trap.getTrapCells(this.props.highlight),i=0;i<a.length;i++){var s,c=a[i].pos.x===this.props.trap.pos.x&&a[i].pos.y===this.props.trap.pos.y;(this.state.display||c)&&(null===(s=Ee.getCell(a[i].pos))||void 0===s?void 0:s.type)===U.Ground&&(a[i].borders|=Ee.getCellBorders(a[i].pos),n.push(e.createElement(ut,{x:a[i].pos.x,y:a[i].pos.y,id:a[i].pos.y*Ee.width+a[i].pos.x,center:c,setHighlight:function(e){t.setHighlight(e)},width:r,height:o,type:a[i].type,borders:a[i].borders,key:i})))}return e.createElement("g",{className:"trap ".concat(te[this.props.trap.type])},n)}}])&&dt(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(e.Component);const At=bt;function wt(e){return wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wt(e)}function kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(n),!0).forEach((function(t){jt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ct(e,t){return Ct=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ct(e,t)}function St(e,t){if(t&&("object"===wt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Pt(e){return Pt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Pt(e)}var Et=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ct(e,t)}(s,t);var n,r,o,a,i=(o=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Pt(o);if(a){var n=Pt(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return St(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={highlighted:[]},t}return n=s,r=[{key:"setHighlight",value:function(e,t){this.setState((function(n){var r=n.highlighted;if(t)r.push(e);else for(var o=0;-1!==(o=r.indexOf(e));)r.splice(o,1);return Ot(Ot({},n),{},{highlighted:r})}))}},{key:"render",value:function(){for(var t=this,n=[],r=[],o=[],a=[],i=100/(Ee.width+.5),s=i/2,c=function(c){var l=t.props.traps[c],u=l.pos.x*i+(l.pos.y%2==0?0:i/2),p=l.pos.y*(s/2);n.push(e.createElement(At,{trap:l,ref:function(e){l.component=e},setHighlight:function(e,n){t.setHighlight(e,n)},highlight:!1,key:"trap-"+l.uuid})),t.state.highlighted.includes(t.props.traps[c].uuid)?(o.push(e.createElement(At,{trap:l,ref:function(e){l.component=e},setHighlight:function(e,n){t.setHighlight(e,n)},highlight:!0,key:"trap-hl-"+l.uuid})),a.push(e.createElement("image",{className:"trap-image ".concat(te[l.type]),href:l.image,x:u+.08*i,y:p+.08*s,width:.84*i,height:.84*s,key:l.uuid,ref:function(e){l.imgComponent=e}}))):r.push(e.createElement("image",{className:"trap-image ".concat(te[l.type]),href:l.image,x:u+.15*i,y:p+.15*s,width:.7*i,height:.7*s,key:l.uuid,ref:function(e){l.imgComponent=e},style:{display:t.props.traps[c].active?"":"none"}}))},l=this.props.traps.length-1;l>=0;l--)c(l);return[e.createElement("g",{key:"g-1",className:"ground"},this.props.rows),e.createElement("g",{key:"g-2",className:"traps"},n,e.createElement("g",{className:"trap-images"},r),e.createElement("g",{className:"trap-highlighted"},o,e.createElement("g",{className:"trap-highlighted-images"},a)))]}}],r&&xt(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(e.Component);const _t=Et;function Tt(e){return Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tt(e)}function Rt(e){return function(e){if(Array.isArray(e))return Nt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dt(e,t){return Dt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Dt(e,t)}function Bt(e,t){if(t&&("object"===Tt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Mt(e){return Mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Mt(e)}var Ft=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dt(e,t)}(s,t);var n,r,o,a,i=(o=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Mt(o);if(a){var n=Mt(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Bt(this,e)});function s(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),i.call(this,e)}return n=s,r=[{key:"render",value:function(){for(var t=[],n=[],r=[],o=100/(this.props.cellNum+.5),a=o/2,i=0;i<this.props.rowNum;i++){for(var s=[],c=0;c<this.props.cellNum;c++){var l=Ee.getCell({x:c,y:i});(null==l?void 0:l.type)===U.Wall?r.push(l):s.push(e.createElement(Ie,{key:"cell-".concat(i*this.props.cellNum+c),y:i,x:c,id:i*this.props.cellNum+c,width:o,height:a}))}t.push(e.createElement("g",{className:"row ".concat(i%2==0?"even":"odd"),key:"row-".concat(i)},s))}n.push.apply(n,Rt(Ee.traps));var u=Array();u.push.apply(u,r),u.push.apply(u,Rt(Ee.entities)),u.sort((function(e,t){return e.pos.y-t.pos.y}));var p=2*this.props.cellNum+(this.props.rowNum>1?1:0),f=(this.props.rowNum+1)/2/p*100;return e.createElement("div",{className:"relative-height-source map"},e.createElement("svg",{className:"tiles",viewBox:"0 0 100 ".concat(f)},e.createElement(_t,{rows:t,traps:n})),e.createElement("svg",{className:"entities",viewBox:"0 0 100 ".concat(f)},e.createElement(rt,{entities:u,startPoint:Ee.startPoint})))}}],r&&Lt(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(e.Component);const It=Ft;var Gt=n(731),zt={};function Ut(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Vt(e){return Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vt(e)}function Wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}zt.styleTagTransform=h(),zt.setAttributes=l(),zt.insert=s().bind(null,"head"),zt.domAPI=a(),zt.insertStyleElement=p(),r()(Gt.Z,zt),Gt.Z&&Gt.Z.locals&&Gt.Z.locals;var Ht=n(304),Kt=n.n(Ht),qt=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function Yt(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},n=e.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(t.name=n[1],(Kt()[n[1]]||"/"===e.charAt(e.length-2))&&(t.voidElement=!0),t.name.startsWith("!--"))){var r=e.indexOf("--\x3e");return{type:"comment",comment:-1!==r?e.slice(4,r):""}}for(var o=new RegExp(qt),a=null;null!==(a=o.exec(e));)if(a[0].trim())if(a[1]){var i=a[1].trim(),s=[i,""];i.indexOf("=")>-1&&(s=i.split("=")),t.attrs[s[0]]=s[1],o.lastIndex--}else a[2]&&(t.attrs[a[2]]=a[3].trim().substring(1,a[3].length-1));return t}var Jt=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,Zt=/^\s*$/,$t=Object.create(null);function Xt(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(e){var t=[];for(var n in e)t.push(n+'="'+e[n]+'"');return t.length?" "+t.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(Xt,"")+"</"+t.name+">";case"comment":return e+"\x3c!--"+t.comment+"--\x3e"}}var Qt={parse:function(e,t){t||(t={}),t.components||(t.components=$t);var n,r=[],o=[],a=-1,i=!1;if(0!==e.indexOf("<")){var s=e.indexOf("<");r.push({type:"text",content:-1===s?e:e.substring(0,s)})}return e.replace(Jt,(function(s,c){if(i){if(s!=="</"+n.name+">")return;i=!1}var l,u="/"!==s.charAt(1),p=s.startsWith("\x3c!--"),f=c+s.length,h=e.charAt(f);if(p){var g=Yt(s);return a<0?(r.push(g),r):((l=o[a]).children.push(g),r)}if(u&&(a++,"tag"===(n=Yt(s)).type&&t.components[n.name]&&(n.type="component",i=!0),n.voidElement||i||!h||"<"===h||n.children.push({type:"text",content:e.slice(f,e.indexOf("<",f))}),0===a&&r.push(n),(l=o[a-1])&&l.children.push(n),o[a]=n),(!u||n.voidElement)&&(a>-1&&(n.voidElement||n.name===s.slice(2,-1))&&(a--,n=-1===a?r:o[a]),!i&&"<"!==h&&h)){l=-1===a?r:o[a].children;var d=e.indexOf("<",f),y=e.slice(f,-1===d?void 0:d);Zt.test(y)&&(y=" "),(d>-1&&a+l.length>=0||" "!==y)&&l.push({type:"text",content:y})}})),r},stringify:function(e){return e.reduce((function(e,t){return e+Xt("",t)}),"")}};const en=Qt;function tn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rn(e,t,n){return t&&nn(e.prototype,t),n&&nn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var on=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,an={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},sn=function(e){return an[e]};function cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cn(Object(n),!0).forEach((function(t){Wt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var un,pn={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:function(e){return e.replace(on,sn)}},fn=(0,e.createContext)();rn((function e(){tn(this,e),this.usedNamespaces={}}),[{key:"addUsedNamespaces",value:function(e){var t=this;e.forEach((function(e){t.usedNamespaces[e]||(t.usedNamespaces[e]=!0)}))}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]);var hn={type:"3rdParty",init:function(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};pn=ln(ln({},pn),e)}(e.options.react),function(e){un=e}(e)}};function gn(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"string"==typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}var dn={};var yn=["format"],mn=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vn(Object(n),!0).forEach((function(t){Wt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function An(e,t){if(!e)return!1;var n=e.props?e.props.children:e.children;return t?n.length>0:!!n}function wn(e){return e?e.props?e.props.children:e.children:[]}function kn(e){return Array.isArray(e)?e:[e]}function On(t,n){if(!t)return"";var r="",o=kn(t),a=n.transSupportBasicHtmlNodes&&n.transKeepBasicHtmlNodesFor?n.transKeepBasicHtmlNodesFor:[];return o.forEach((function(t,o){if("string"==typeof t)r+="".concat(t);else if((0,e.isValidElement)(t)){var i=Object.keys(t.props).length,s=a.indexOf(t.type)>-1,c=t.props.children;if(!c&&s&&0===i)r+="<".concat(t.type,"/>");else if(c||s&&0===i)if(t.props.i18nIsDynamicList)r+="<".concat(o,"></").concat(o,">");else if(s&&1===i&&"string"==typeof c)r+="<".concat(t.type,">").concat(c,"</").concat(t.type,">");else{var l=On(c,n);r+="<".concat(o,">").concat(l,"</").concat(o,">")}else r+="<".concat(o,"></").concat(o,">")}else if(null===t)gn("Trans: the passed in value is invalid - seems you passed in a null child.");else if("object"===Vt(t)){var u=t.format,p=Ut(t,yn),f=Object.keys(p);if(1===f.length){var h=u?"".concat(f[0],", ").concat(u):f[0];r+="{{".concat(h,"}}")}else gn("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",t)}else gn("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",t)})),r}function jn(t){var n=t.children,r=t.count,o=t.parent,a=t.i18nKey,i=t.context,s=t.tOptions,c=void 0===s?{}:s,l=t.values,u=t.defaults,p=t.components,f=t.ns,h=t.i18n,g=t.t,d=t.shouldUnescape,y=Ut(t,mn),m=(0,e.useContext)(fn)||{},v=m.i18n,b=m.defaultNS,A=h||v||un;if(!A)return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"==typeof t[0]&&dn[t[0]]||("string"==typeof t[0]&&(dn[t[0]]=new Date),gn.apply(void 0,t))}("You will need to pass in an i18next instance by using i18nextReactModule"),n;var w=g||A.t.bind(A)||function(e){return e};i&&(c.context=i);var k=bn(bn({},pn),A.options&&A.options.react),O=f||w.ns||b||A.options&&A.options.defaultNS;O="string"==typeof O?[O]:O||["translation"];var j=u||On(n,k)||k.transEmptyNodeValue||a,x=k.hashTransKey,C=a||(x?x(j):j),S=l?c.interpolation:{interpolation:bn(bn({},c.interpolation),{},{prefix:"#$?",suffix:"?$#"})},P=bn(bn(bn(bn({},c),{},{count:r},l),S),{},{defaultValue:j,ns:O}),E=function(t,n,r,o,a,i){if(""===n)return[];var s=o.transKeepBasicHtmlNodesFor||[],c=n&&new RegExp(s.join("|")).test(n);if(!t&&!c)return[n];var l={};!function t(n){kn(n).forEach((function(n){"string"!=typeof n&&(An(n)?t(wn(n)):"object"!==Vt(n)||(0,e.isValidElement)(n)||Object.assign(l,n))}))}(t);var u=en.parse("<0>".concat(n,"</0>")),p=bn(bn({},l),a);function f(t,n,r){var o=wn(t),a=g(o,n.children,r);return function(t){return"[object Array]"===Object.prototype.toString.call(t)&&t.every((function(t){return(0,e.isValidElement)(t)}))}(o)&&0===a.length?o:a}function h(t,n,r,o,a){t.dummy&&(t.children=n),r.push((0,e.cloneElement)(t,bn(bn({},t.props),{},{key:o}),a?void 0:n))}function g(n,a,l){var u=kn(n);return kn(a).reduce((function(n,a,d){var y,m,v,b=a.children&&a.children[0]&&a.children[0].content&&r.services.interpolator.interpolate(a.children[0].content,p,r.language);if("tag"===a.type){var A=u[parseInt(a.name,10)];!A&&1===l.length&&l[0][a.name]&&(A=l[0][a.name]),A||(A={});var w=0!==Object.keys(a.attrs).length?(y={props:a.attrs},(v=bn({},m=A)).props=Object.assign(y.props,m.props),v):A,k=(0,e.isValidElement)(w),O=k&&An(a,!0)&&!a.voidElement,j=c&&"object"===Vt(w)&&w.dummy&&!k,x="object"===Vt(t)&&null!==t&&Object.hasOwnProperty.call(t,a.name);if("string"==typeof w){var C=r.services.interpolator.interpolate(w,p,r.language);n.push(C)}else if(An(w)||O)h(w,f(w,a,l),n,d);else if(j){var S=g(u,a.children,l);n.push((0,e.cloneElement)(w,bn(bn({},w.props),{},{key:d}),S))}else if(Number.isNaN(parseFloat(a.name)))if(x)h(w,f(w,a,l),n,d,a.voidElement);else if(o.transSupportBasicHtmlNodes&&s.indexOf(a.name)>-1)if(a.voidElement)n.push((0,e.createElement)(a.name,{key:"".concat(a.name,"-").concat(d)}));else{var P=g(u,a.children,l);n.push((0,e.createElement)(a.name,{key:"".concat(a.name,"-").concat(d)},P))}else if(a.voidElement)n.push("<".concat(a.name," />"));else{var E=g(u,a.children,l);n.push("<".concat(a.name,">").concat(E,"</").concat(a.name,">"))}else if("object"!==Vt(w)||k)1===a.children.length&&b?n.push((0,e.cloneElement)(w,bn(bn({},w.props),{},{key:d}),b)):n.push((0,e.cloneElement)(w,bn(bn({},w.props),{},{key:d})));else{var _=a.children[0]?b:null;_&&n.push(_)}}else if("text"===a.type){var T=o.transWrapTextNodes,R=i?o.unescape(r.services.interpolator.interpolate(a.content,p,r.language)):r.services.interpolator.interpolate(a.content,p,r.language);T?n.push((0,e.createElement)(T,{key:"".concat(a.name,"-").concat(d)},R)):n.push(R)}return n}),[])}return wn(g([{dummy:!0,children:t||[]}],u,kn(t||[]))[0])}(p||n,C?w(C,P):j,A,k,P,d),_=void 0!==o?o:k.defaultTransParent;return _?(0,e.createElement)(_,y,E):E}function xn(e){return xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xn(e)}function Cn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pn(e,t){return Pn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pn(e,t)}function En(e,t){if(t&&("object"===xn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _n(e){return _n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_n(e)}var Tn=JSON.parse('{"0":{"name_fr":"Map vide","filename":"0.json"},"5242886":{"name_fr":"Grotte Hesque","filename":"5242886.json"},"21497858":{"name_fr":"Canope du Kimbo","filename":"21497858.json"},"22284290":{"name_fr":"Cale de l\'Arche d\'Otomai","filename":"22284290.json"},"22809602":{"name_fr":"Goulet du Rasboul","filename":"22809602.json"},"26740736":{"name_fr":"L\'Antre du Kralamoure","filename":"26740736.json"},"34472450":{"name_fr":"Salle du Minotot","filename":"34472450.json"},"34473474":{"name_fr":"Salle du Minotoror","filename":"34473474.json"},"55053312":{"name_fr":"Serre du Royalmouth","filename":"55053312.json"},"56102912":{"name_fr":"Excavation du Mansot Royal","filename":"56102912.json"},"56365056":{"name_fr":"pave du Grolandais violent","filename":"56365056.json"},"57155841":{"name_fr":"Hypoge de l\'Obsidiantre","filename":"57155841.json"},"57938689":{"name_fr":"Donjon de la mine de Saka","filename":"57938689.json"},"59515904":{"name_fr":"Tanire Givrefoux (Tengu + Fuji)","filename":"59515904.json"},"59516162":{"name_fr":"Tanire Givrefoux (Tengu)","filename":"59516162.json"},"61868036":{"name_fr":"Cavernes du Kolosso","filename":"61868036.json"},"62135816":{"name_fr":"Antichambre des Gloursons","filename":"62135816.json"},"62919680":{"name_fr":"Antre du Korriandre","filename":"62919680.json"},"64753664":{"name_fr":"Nid du Kwakwa","filename":"64753664.json"},"66326528":{"name_fr":"Maison du Papa Nowel","filename":"66326528.json"},"66589184":{"name_fr":"Donjon de Nowel","filename":"66589184.json"},"66850816":{"name_fr":"Caverne de Nowel","filename":"66850816.json"},"72361984":{"name_fr":"Antre du Dragon Cochon","filename":"72361984.json"},"87033346":{"name_fr":"Donjon des Squelettes","filename":"87033346.json"},"87296515":{"name_fr":"Donjon des Forgerons","filename":"87296515.json"},"89392130":{"name_fr":"Laboratoire du Tynril","filename":"89392130.json"},"94115840":{"name_fr":"Donjon des Scarafeuilles","filename":"94115840.json"},"96209922":{"name_fr":"Donjon des Tofus","filename":"96209922.json"},"96209926":{"name_fr":"Tofulailler Royal","filename":"96209926.json"},"96998917":{"name_fr":"Donjon des Larves","filename":"96998917.json"},"98566661":{"name_fr":"La Gelaxime Dimension (Bleue)","filename":"98566661.json"},"98566663":{"name_fr":"La Gelaxime Dimension (Citron)","filename":"98566663.json"},"98567685":{"name_fr":"La Gelaxime Dimension (Menthe)","filename":"98567685.json"},"98567687":{"name_fr":"La Gelaxime Dimension","filename":"98567687.json"},"98568709":{"name_fr":"La Gelaxime Dimension (Fraise)","filename":"98568709.json"},"101193728":{"name_fr":"Potager d\'Halouine","filename":"101193728.json"},"102760963":{"name_fr":"Repaire de Sphincter Cell","filename":"102760963.json"},"104333827":{"name_fr":"Grotte du Bworker","filename":"104333827.json"},"104596995":{"name_fr":"Donjon des Bworks","filename":"104596995.json"},"106434560":{"name_fr":"Fonderie des Waddicts","filename":"106434560.json"},"106960896":{"name_fr":"Pitons Rocheux des Craqueleurs","filename":"106960896.json"},"107227136":{"name_fr":"Caverne du Koulosse","filename":"107227136.json"},"107485184":{"name_fr":"Repaire de Skeunk","filename":"107485184.json"},"109576707":{"name_fr":"Laboratoire de Nileza","filename":"109576707.json"},"109840899":{"name_fr":"Forgefroide de Missiz Frizz","filename":"109840899.json"},"110101506":{"name_fr":"Transporteur de Sylargh","filename":"110101506.json"},"110363650":{"name_fr":"Salons privs de Klime","filename":"110363650.json"},"112203265":{"name_fr":"Donjon du Comte (Klime)","filename":"112203265.json"},"112203269":{"name_fr":"Donjon du Comte (Missiz Frizz)","filename":"112203269.json"},"112203271":{"name_fr":"Donjon du Comte (Nileza)","filename":"112203271.json"},"112203521":{"name_fr":"Donjon du Comte (Sylargh)","filename":"112203521.json"},"112203523":{"name_fr":"Donjon du Comte","filename":"112203523.json"},"116392450":{"name_fr":"Chteau du Wa Wabbit","filename":"116392450.json"},"116654595":{"name_fr":"Terrier du Wa Wabbit","filename":"116654595.json"},"118231040":{"name_fr":"Thtre de Dramak","filename":"118231040.json"},"119277059":{"name_fr":"Aquadme de Merkator","filename":"119277059.json"},"121374211":{"name_fr":"Cour du Bouftou Royal","filename":"121374211.json"},"123212800":{"name_fr":"Pyramide d\'Ombre","filename":"123212800.json"},"125831683":{"name_fr":"Grotte de Kanigroula","filename":"125831683.json"},"129500160":{"name_fr":"Palais du roi Nidas","filename":"129500160.json"},"130286592":{"name_fr":"Fabrique de Mallfisk","filename":"130286592.json"},"130548736":{"name_fr":"Galerie du Phossile","filename":"130548736.json"},"132911104":{"name_fr":"Volire de la Haute Truche","filename":"132911104.json"},"136578048":{"name_fr":"Ring du Capitaine Ekarlatte","filename":"136578048.json"},"136840192":{"name_fr":"Cave du Toxoliath","filename":"136840192.json"},"137101312":{"name_fr":"Trne de la Cour Sombre","filename":"137101312.json"},"140776448":{"name_fr":"Ventre de la baleine","filename":"140776448.json"},"143138823":{"name_fr":"Mgalithe de Fraktale","filename":"143138823.json"},"143393281":{"name_fr":"il de Vortex","filename":"143393281.json"},"143917569":{"name_fr":"Horologium de XLII","filename":"143917569.json"},"146670592":{"name_fr":"Cache de Kankreblath","filename":"146670592.json"},"149165056":{"name_fr":"Antre de la Reine Nye","filename":"149165056.json"},"149427200":{"name_fr":"Clairire du Chne Mou","filename":"149427200.json"},"149688320":{"name_fr":"Domaine Ancestral","filename":"149688320.json"},"152834048":{"name_fr":"Crypte de Kardorim","filename":"152834048.json"},"155718656":{"name_fr":"Tanire du Meulou","filename":"155718656.json"},"157028352":{"name_fr":"Bateau du Chouque","filename":"157028352.json"},"157290496":{"name_fr":"Arbre de Moon","filename":"157290496.json"},"157552640":{"name_fr":"Village Kanniboul","filename":"157552640.json"},"159125512":{"name_fr":"Bibliothque du Maitre Corbac","filename":"159125512.json"},"160564224":{"name_fr":"Dfi du Chalil","filename":"160564224.json"},"161743872":{"name_fr":"Miausole du Pounicheur","filename":"161743872.json"},"162004992":{"name_fr":"Plateau de Ush","filename":"162004992.json"},"163582464":{"name_fr":"Maison Fantme","filename":"163582464.json"},"166985730":{"name_fr":"Clos des Blops (Indigo)","filename":"166985730.json"},"166986754":{"name_fr":"Clos des Blops (Griotte)","filename":"166986754.json"},"166987778":{"name_fr":"Clos des Blops (Reinette)","filename":"166987778.json"},"166988802":{"name_fr":"Clos des Blops (Coco)","filename":"166988802.json"},"166990850":{"name_fr":"Antre du Blop Multicolore Royal","filename":"166990850.json"},"169349120":{"name_fr":"Temple de Koutoulou","filename":"169349120.json"},"169611264":{"name_fr":"Palais de Dantina","filename":"169611264.json"},"169873408":{"name_fr":"Vaisseau du Capitaine Meno","filename":"169873408.json"},"174070272":{"name_fr":"Caverne d\'El Piko","filename":"174070272.json"},"174330368":{"name_fr":"Cimetire des Mastodontes","filename":"174330368.json"},"175902208":{"name_fr":"Boyau du Pre Ver","filename":"175902208.json"},"176164864":{"name_fr":"Chambre de Tal Kasha","filename":"176164864.json"},"176951296":{"name_fr":"Laboratoire de Brumen Tinctorias","filename":"176951296.json"},"179572736":{"name_fr":"Camp du Comte Razof","filename":"179572736.json"},"181669888":{"name_fr":"Chapiteau des Magik Riktus","filename":"181669888.json"},"182192129":{"name_fr":"Temple du Grand Ougahe","filename":"182192129.json"},"182456320":{"name_fr":"Temple Maudit d\'Araknas","filename":"182456320.json"},"182718464":{"name_fr":"Manoir des Katrepat","filename":"182718464.json"},"184686337":{"name_fr":"Belvdre d\'Ilyzaelle","filename":"184686337.json"},"187437056":{"name_fr":"Tour de Bethel","filename":"187437056.json"},"187957512":{"name_fr":"Tour de Solar","filename":"187957512.json"},"190318592":{"name_fr":"Grange du Tournesol Affam","filename":"190318592.json"},"193729536":{"name_fr":"Chteau Ensabl","filename":"193729536.json"},"195039232":{"name_fr":"Brasserie du roi Dazak","filename":"195039232.json"},"197398528":{"name_fr":"La Croquanterie","filename":"197398528.json"},"197660672":{"name_fr":"Temple du dieu Kao","filename":"197660672.json"},"198709248":{"name_fr":"Sanctuaire de Torklonia","filename":"198709248.json"},"198972416":{"name_fr":"Antre de Crocabulia","filename":"198972416.json"},"199495680":{"name_fr":"Repaire du Kharnozor","filename":"199495680.json"},"199757824":{"name_fr":"preuve de Draegnerys","filename":"199757824.json"},"202379264":{"name_fr":"Trne de sang","filename":"202379264.json"},"202641408":{"name_fr":"Arbre de mort","filename":"202641408.json"},"203165696":{"name_fr":"Fers de la Tyrannie","filename":"203165696.json"},"203427840":{"name_fr":"Sentence de la Balance","filename":"203427840.json"},"204476416":{"name_fr":"Tempte de l\'Eliocalypse","filename":"204476416.json"},"207884288":{"name_fr":"Dojo du Vent","filename":"207884288.json"},"208146432":{"name_fr":"Valle de la Dame des eaux","filename":"208146432.json"},"208408576":{"name_fr":"Fabrique de foux d\'artifice","filename":"208408576.json"},"208670720":{"name_fr":"Bambusaie de Damadrya","filename":"208670720.json"},"208932864":{"name_fr":"Atelier du Tanukou San","filename":"208932864.json"},"209981440":{"name_fr":"Tombe du Shogun Tofugawa","filename":"209981440.json"},"210243584":{"name_fr":"Demeure des Esprits","filename":"210243584.json"},"211551232":{"name_fr":"Mmoire d\'Orukam","filename":"211551232.json"},"211813376":{"name_fr":"Souvenir d\'Imagiro","filename":"211813376.json"},"215486464":{"name_fr":"Rituel de Kabahal","filename":"215486464.json"},"218632192":{"name_fr":"Garde-manger du Rat Blanc","filename":"218632192.json"},"218894336":{"name_fr":"Sousouricire du Rat Noir","filename":"218894336.json"},"220467200":{"name_fr":"Les Portes de Bonta","filename":"220467200.json"},"220729857":{"name_fr":"Tertre du long sommeil","filename":"220729857.json"},"221778432":{"name_fr":"Akadmie des Gobs","filename":"221778432.json"},"223875072":{"name_fr":"Chambre des malfices","filename":"223875072.json"},"224137216":{"name_fr":"Refuge sylvestre","filename":"224137216.json"},"225185792":{"name_fr":"Bastion des Marteaux-Aigris","filename":"225185792.json"}}'),Rn=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pn(e,t)}(s,t);var n,r,o,a,i=(o=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_n(o);if(a){var n=_n(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return En(this,e)});function s(){return Cn(this,s),i.apply(this,arguments)}return n=s,r=[{key:"onSelectMap",value:function(e){confirm("Attention, changer la map rinitialisera tous les piges et entits !")&&Ee.loadMap(e)}},{key:"render",value:function(){var t=this,n=[];for(var r in Tn)n.push(e.createElement("option",{value:r},Tn[r].name_fr));return n.sort((function(e,t){return"0"===e.props.value?-1:"0"===t.props.value?1:Tn[e.props.value].name_fr.localeCompare(Tn[t.props.value].name_fr)})),e.createElement("div",{className:"relative-height stats"},e.createElement("h3",null,e.createElement(jn,null,"Selected map"),":"),e.createElement("select",{onChange:function(e){t.onSelectMap(e.target.value)}},n),e.createElement("hr",null),e.createElement("h3",null,"Important"),e.createElement("p",null,"Pour dmarrer un rseau de piges:"),e.createElement("p",null,'1- Utiliser le sort "Cibler" sur la case o le rseau commence.'),e.createElement("p",null,'2- Appuyer sur le bouton "play" ou "step".'),e.createElement("p",null,'3- Avant de poser de nouveaux piges, appuyer sur "stop".'),e.createElement("hr",null),e.createElement("p",null,"Cet outil est en plein dveloppement et risque de contenir beaucoup de bugs, mais il sera mis  jour trs rgulirement. (Je ne suis pas responsable si un ordinateur prend feu :eyes:)"),e.createElement("p",null,"Je suis ouvert  toutes propositions pour l'outil mais j'ai dj beaucoup d'ides qui attendent d'tre implmentes."),e.createElement("p",null,"Fait par Vinaigre (Discord: Vinaigre#4083)"),e.createElement("p",null,e.createElement("a",{style:{color:"yellow"},href:"https://github.com/Vinaigre1/dofus-trap-network"},"Le code est open-source !")))}}],r&&Sn(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(e.Component);const Nn=Rn;var Ln=n(493),Dn={};Dn.styleTagTransform=h(),Dn.setAttributes=l(),Dn.insert=s().bind(null,"head"),Dn.domAPI=a(),Dn.insertStyleElement=p(),r()(Ln.Z,Dn),Ln.Z&&Ln.Z.locals&&Ln.Z.locals;var Bn=n(701),Mn={};function Fn(e){return Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fn(e)}function In(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?In(Object(n),!0).forEach((function(t){zn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):In(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Un(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vn(e,t){return Vn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Vn(e,t)}function Wn(e,t){if(t&&("object"===Fn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Hn(e){return Hn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Hn(e)}Mn.styleTagTransform=h(),Mn.setAttributes=l(),Mn.insert=s().bind(null,"head"),Mn.domAPI=a(),Mn.insertStyleElement=p(),r()(Bn.Z,Mn),Bn.Z&&Bn.Z.locals&&Bn.Z.locals;var Kn=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vn(e,t)}(s,t);var n,r,o,a,i=(o=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Hn(o);if(a){var n=Hn(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Wn(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={highlighted:!1},t}return n=s,(r=[{key:"onMouseEnter",value:function(){var e,t,n;null===(e=this.props.action)||void 0===e||null===(t=e.originTrap)||void 0===t||null===(n=t.component)||void 0===n||n.setHighlight(!0)}},{key:"onMouseLeave",value:function(){var e,t,n;null===(e=this.props.action)||void 0===e||null===(t=e.originTrap)||void 0===t||null===(n=t.component)||void 0===n||n.setHighlight(!1)}},{key:"setHighlight",value:function(e){this.setState((function(t){return Gn(Gn({},t),{},{highlighted:e})}))}},{key:"render",value:function(){var t,n,r,o,a=this,i=(zn(t={},X.Waiting,"waiting"),zn(t,X.Current,"current"),zn(t,X.Completed,"completed"),t),s=(zn(n={},V.Push,e.createElement(jn,null,"Push")),zn(n,V.Pull,e.createElement(jn,null,"Attraction")),zn(n,V.WaterDamage,e.createElement(jn,null,"Water damage")),zn(n,V.FireDamage,e.createElement(jn,null,"Fire damage")),zn(n,V.EarthDamage,e.createElement(jn,null,"Earth damage")),zn(n,V.AirDamage,e.createElement(jn,null,"Air damage")),zn(n,V.PushDamage,e.createElement(jn,null,"Push damage")),zn(n,V.IndirectPushDamage,e.createElement(jn,null,"Indirect push damage")),zn(r={},V.Push,e.createElement(jn,{count:this.props.action.value},"Pushes back ",{value:this.props.action.value}," cells")),zn(r,V.Pull,e.createElement(jn,{count:this.props.action.value},"Attracts ",{value:this.props.action.value}," cells")),zn(r,V.WaterDamage,e.createElement(jn,{count:this.props.action.value},{value:this.props.action.value}," water damage")),zn(r,V.FireDamage,e.createElement(jn,{count:this.props.action.value},{value:this.props.action.value}," fire damage")),zn(r,V.EarthDamage,e.createElement(jn,{count:this.props.action.value},{value:this.props.action.value}," earth damage")),zn(r,V.AirDamage,e.createElement(jn,{count:this.props.action.value},{value:this.props.action.value}," air damage")),zn(r,V.PushDamage,e.createElement(jn,{count:this.props.action.value},{value:this.props.action.value}," push damage")),zn(r,V.IndirectPushDamage,e.createElement(jn,{count:this.props.action.value},{value:this.props.action.value}," push damage (indirect)")),r);return e.createElement("div",{className:"action ".concat(i[this.props.type]," ").concat(this.state.highlighted?"highlighted":""," action-").concat(te[this.props.action.originTrap.type]),onMouseEnter:function(){a.onMouseEnter()},onMouseLeave:function(){a.onMouseLeave()}},e.createElement("div",{className:"action-img"},e.createElement("img",{src:this.props.action.originTrap.getSpellIcon(),alt:"",width:"25px",height:"25px"})),e.createElement("div",{className:"action-infos"},null!==(o=s[this.props.action.type])&&void 0!==o?o:"?? Value = ".concat(this.props.action.value)))}}])&&Un(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(e.Component);const qn=Kn;function Yn(e){return Yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yn(e)}function Jn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $n(e,t){return $n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$n(e,t)}function Xn(e,t){if(t&&("object"===Yn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Qn(e){return Qn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Qn(e)}var er=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$n(e,t)}(s,t);var n,r,o,a,i=(o=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Qn(o);if(a){var n=Qn(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Xn(this,e)});function s(){return Jn(this,s),i.apply(this,arguments)}return n=s,r=[{key:"render",value:function(){for(var t=Ee.getActionStack(),n=[],r=function(r){n.push(e.createElement(qn,{type:X.Waiting,action:t.waiting[r],key:t.waiting[r].uuid,ref:function(e){t.waiting[r]&&(t.waiting[r].component=e)}}))},o=0;o<t.waiting.length;o++)r(o);t.current&&n.push(e.createElement(qn,{type:X.Current,action:t.current,key:t.current.uuid,ref:function(e){t.current&&(t.current.component=e)}}));for(var a=function(r){n.push(e.createElement(qn,{type:X.Completed,action:t.completed[r],key:t.completed[r].uuid,ref:function(e){t.completed[r]&&(t.completed[r].component=e)}}))},i=t.completed.length-1;i>=0;i--)a(i);return e.createElement("div",{className:"relative-height history"},n)}}],r&&Zn(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(e.Component);const tr=er;function nr(e){return nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nr(e)}function rr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function or(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ar(e,t){return ar=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ar(e,t)}function ir(e,t){if(t&&("object"===nr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function sr(e){return sr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sr(e)}const cr=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ar(e,t)}(s,t);var n,r,o,a,i=(o=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=sr(o);if(a){var n=sr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ir(this,e)});function s(){return rr(this,s),i.apply(this,arguments)}return n=s,(r=[{key:"render",value:function(){var t=this;return e.createElement("div",{className:"spell ".concat(this.props.selected?"selected-spell":""),onClick:function(){t.props.onClick(t.props.spell)}},e.createElement("img",{width:"45",height:"45",src:this.props.spell.icon,alt:this.props.spell.name}))}}])&&or(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(e.Component);function lr(e){return lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lr(e)}function ur(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ur(Object(n),!0).forEach((function(t){fr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ur(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gr(e,t){return gr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gr(e,t)}function dr(e,t){if(t&&("object"===lr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function yr(e){return yr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yr(e)}var mr=ye,vr=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gr(e,t)}(s,t);var n,r,o,a,i=(o=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=yr(o);if(a){var n=yr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return dr(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={selectedSpell:void 0,play:!1},t}return n=s,(r=[{key:"onClick",value:function(e){Ee.selectSpell(e),this.setState((function(t){return pr(pr({},t),{},{selectedSpell:e})}))}},{key:"onPlay",value:function(){this.setPlay(!0),Ee.run()}},{key:"onPause",value:function(){this.setPlay(!1),Ee.pause()}},{key:"onStep",value:function(){this.setPlay(!1),Ee.runOne()}},{key:"onStop",value:function(){this.setPlay(!1),Ee.resetAll()}},{key:"setPlay",value:function(e){this.setState((function(t){return pr(pr({},t),{},{play:e})}))}},{key:"render",value:function(){for(var t=this,n=[],r=0,o=[Z.AirTrap,Z.FireTrap,Z.EarthTrap,Z.WaterTrap,Z.MalusTrap,Z.Summon,Z.Other,Z.Action];r<o.length;r++){var a=o[r],i=[];for(var s in mr){var c;mr[s].category===a&&i.push(e.createElement(cr,{key:"spell-".concat(s),spell:mr[s],onClick:function(e){t.onClick(e)},selected:(null===(c=this.state.selectedSpell)||void 0===c?void 0:c.name)===mr[s].name}))}n.push(e.createElement("div",{className:"spell-category"},i))}return e.createElement("div",{className:"spells"},e.createElement("div",{className:"spells-padding"}),n,e.createElement("div",{className:"controls"},e.createElement("button",{className:this.state.play?"pause":"play",onClick:function(){t.state.play?t.onPause():t.onPlay()}},e.createElement("img",{className:"img-play",src:"./assets/img/other/play.png",alt:"play",draggable:"false"}),e.createElement("img",{className:"img-pause",src:"./assets/img/other/pause.png",alt:"pause",draggable:"false"})),e.createElement("button",{className:"step",onClick:function(){t.onStep()}},e.createElement("img",{className:"img-step",src:"./assets/img/other/step.png",alt:"step",draggable:"false"})),e.createElement("button",{className:"stop",onClick:function(){t.onStop()}},e.createElement("img",{className:"img-stop",src:"./assets/img/other/stop.png",alt:"stop",draggable:"false"}))))}}])&&hr(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(e.Component);const br=vr,Ar=function(){return e.createElement("div",{className:"app"},e.createElement(Nn,null),e.createElement(It,{ref:function(e){Ee.mapComponent=e,window.Game=Ee},cellNum:14,rowNum:40}),e.createElement(tr,{ref:function(e){Ee.historyComponent=e}}),e.createElement(br,{ref:function(e){Ee.spellsComponent=e}}))};var wr=n(634);function kr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Or(e,t){return Or=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Or(e,t)}function jr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Or(e,t)}function xr(e,t){if(t&&("object"===Vt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return kr(e)}function Cr(e){return Cr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Cr(e)}function Sr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Er(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pr(Object(n),!0).forEach((function(t){Wt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _r={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},Tr=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};tn(this,e),this.init(t,n)}return rn(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||_r,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,r){return r&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,Er(Er({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}},{key:"clone",value:function(t){return(t=t||this.options).prefix=t.prefix||this.prefix,new e(this.logger,t)}}]),e}(),Rr=new Tr,Nr=function(){function e(){tn(this,e),this.observers={}}return rn(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.observers[e]){var o=[].concat(this.observers[e]);o.forEach((function(e){e.apply(void 0,n)}))}if(this.observers["*"]){var a=[].concat(this.observers["*"]);a.forEach((function(t){t.apply(t,[e].concat(n))}))}}}]),e}();function Lr(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}function Dr(e){return null==e?"":""+e}function Br(e,t,n){e.forEach((function(e){t[e]&&(n[e]=t[e])}))}function Mr(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function o(){return!e||"string"==typeof e}for(var a="string"!=typeof t?[].concat(t):t.split(".");a.length>1;){if(o())return{};var i=r(a.shift());!e[i]&&n&&(e[i]=new n),e=Object.prototype.hasOwnProperty.call(e,i)?e[i]:{}}return o()?{}:{obj:e,k:r(a.shift())}}function Fr(e,t,n){var r=Mr(e,t,Object);r.obj[r.k]=n}function Ir(e,t){var n=Mr(e,t),r=n.obj,o=n.k;if(r)return r[o]}function Gr(e,t,n){var r=Ir(e,n);return void 0!==r?r:Ir(t,n)}function zr(e,t,n){for(var r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?"string"==typeof e[r]||e[r]instanceof String||"string"==typeof t[r]||t[r]instanceof String?n&&(e[r]=t[r]):zr(e[r],t[r],n):e[r]=t[r]);return e}function Ur(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Vr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Wr(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return Vr[e]})):e}var Hr="undefined"!=typeof window&&window.navigator&&void 0===window.navigator.userAgentData&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,Kr=[" ",",","?","!",";"];function qr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qr(Object(n),!0).forEach((function(t){Wt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var r=t.split(n),o=e,a=0;a<r.length;++a){if(!o)return;if("string"==typeof o[r[a]]&&a+1<r.length)return;if(void 0===o[r[a]]){for(var i=2,s=r.slice(a,a+i).join(n),c=o[s];void 0===c&&r.length>a+i;)i++,c=o[s=r.slice(a,a+i).join(n)];if(void 0===c)return;if(null===c)return null;if(t.endsWith(s)){if("string"==typeof c)return c;if(s&&"string"==typeof c[s])return c[s]}var l=r.slice(a+i).join(n);return l?Jr(c,l,n):void 0}o=o[r[a]]}return o}}var Zr=function(e){jr(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=Cr(t);if(n){var o=Cr(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return xr(this,e)});function o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return tn(this,o),t=r.call(this),Hr&&Nr.call(kr(t)),t.data=e||{},t.options=n,void 0===t.options.keySeparator&&(t.options.keySeparator="."),void 0===t.options.ignoreJSONStructure&&(t.options.ignoreJSONStructure=!0),t}return rn(o,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,a=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure,i=[e,t];n&&"string"!=typeof n&&(i=i.concat(n)),n&&"string"==typeof n&&(i=i.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(i=e.split("."));var s=Ir(this.data,i);return s||!a||"string"!=typeof n?s:Jr(this.data&&this.data[e]&&this.data[e][t],n,o)}},{key:"addResource",value:function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},a=this.options.keySeparator;void 0===a&&(a=".");var i=[e,t];n&&(i=i.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(r=t,t=(i=e.split("."))[1]),this.addNamespaces(t),Fr(this.data,i,r),o.silent||this.emit("added",e,t,n,r)}},{key:"addResources",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var o in n)"string"!=typeof n[o]&&"[object Array]"!==Object.prototype.toString.apply(n[o])||this.addResource(e,t,o,n[o],{silent:!0});r.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,r,o){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},i=[e,t];e.indexOf(".")>-1&&(r=n,n=t,t=(i=e.split("."))[1]),this.addNamespaces(t);var s=Ir(this.data,i)||{};r?zr(s,n,o):s=Yr(Yr({},s),n),Fr(this.data,i,s),a.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?Yr(Yr({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((function(e){return t[e]&&Object.keys(t[e]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),o}(Nr),$r={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,r,o){var a=this;return e.forEach((function(e){a.processors[e]&&(t=a.processors[e].process(t,n,r,o))})),t}};function Xr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xr(Object(n),!0).forEach((function(t){Wt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var eo={},to=function(e){jr(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=Cr(t);if(n){var o=Cr(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return xr(this,e)});function o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return tn(this,o),t=r.call(this),Hr&&Nr.call(kr(t)),Br(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,kr(t)),t.options=n,void 0===t.options.keySeparator&&(t.options.keySeparator="."),t.logger=Rr.create("translator"),t}return rn(o,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,o=t.ns||this.options.defaultNS||[],a=n&&e.indexOf(n)>-1,i=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||function(e,t,n){t=t||"",n=n||"";var r=Kr.filter((function(e){return t.indexOf(e)<0&&n.indexOf(e)<0}));if(0===r.length)return!0;var o=new RegExp("(".concat(r.map((function(e){return"?"===e?"\\?":e})).join("|"),")")),a=!o.test(e);if(!a){var i=e.indexOf(n);i>0&&!o.test(e.substring(0,i))&&(a=!0)}return a}(e,n,r));if(a&&!i){var s=e.match(this.interpolator.nestingRegexp);if(s&&s.length>0)return{key:e,namespaces:o};var c=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(c[0])>-1)&&(o=c.shift()),e=c.join(r)}return"string"==typeof o&&(o=[o]),{key:e,namespaces:o}}},{key:"translate",value:function(e,t,n){var r=this;if("object"!==Vt(t)&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var a=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,i=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,s=this.extractFromKey(e[e.length-1],t),c=s.key,l=s.namespaces,u=l[l.length-1],p=t.lng||this.language,f=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(p&&"cimode"===p.toLowerCase()){if(f){var h=t.nsSeparator||this.options.nsSeparator;return a?(g.res="".concat(u).concat(h).concat(c),g):"".concat(u).concat(h).concat(c)}return a?(g.res=c,g):c}var g=this.resolve(e,t),d=g&&g.res,y=g&&g.usedKey||c,m=g&&g.exactUsedKey||c,v=Object.prototype.toString.apply(d),b=["[object Number]","[object Function]","[object RegExp]"],A=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject,k="string"!=typeof d&&"boolean"!=typeof d&&"number"!=typeof d;if(w&&d&&k&&b.indexOf(v)<0&&("string"!=typeof A||"[object Array]"!==v)){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var O=this.options.returnedObjectHandler?this.options.returnedObjectHandler(y,d,Qr(Qr({},t),{},{ns:l})):"key '".concat(c," (").concat(this.language,")' returned an object instead of string.");return a?(g.res=O,g):O}if(i){var j="[object Array]"===v,x=j?[]:{},C=j?m:y;for(var S in d)if(Object.prototype.hasOwnProperty.call(d,S)){var P="".concat(C).concat(i).concat(S);x[S]=this.translate(P,Qr(Qr({},t),{joinArrays:!1,ns:l})),x[S]===P&&(x[S]=d[S])}d=x}}else if(w&&"string"==typeof A&&"[object Array]"===v)(d=d.join(A))&&(d=this.extendTranslation(d,e,t,n));else{var E=!1,_=!1,T=void 0!==t.count&&"string"!=typeof t.count,R=o.hasDefaultValue(t),N=T?this.pluralResolver.getSuffix(p,t.count,t):"",L=t["defaultValue".concat(N)]||t.defaultValue;!this.isValidLookup(d)&&R&&(E=!0,d=L),this.isValidLookup(d)||(_=!0,d=c);var D=t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,B=D&&_?void 0:d,M=R&&L!==d&&this.options.updateMissing;if(_||E||M){if(this.logger.log(M?"updateKey":"missingKey",p,u,c,M?L:d),i){var F=this.resolve(c,Qr(Qr({},t),{},{keySeparator:!1}));F&&F.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var I=[],G=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&G&&G[0])for(var z=0;z<G.length;z++)I.push(G[z]);else"all"===this.options.saveMissingTo?I=this.languageUtils.toResolveHierarchy(t.lng||this.language):I.push(t.lng||this.language);var U=function(e,n,o){var a=R&&o!==d?o:B;r.options.missingKeyHandler?r.options.missingKeyHandler(e,u,n,a,M,t):r.backendConnector&&r.backendConnector.saveMissing&&r.backendConnector.saveMissing(e,u,n,a,M,t),r.emit("missingKey",e,u,n,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&T?I.forEach((function(e){r.pluralResolver.getSuffixes(e,t).forEach((function(n){U([e],c+n,t["defaultValue".concat(n)]||L)}))})):U(I,c,L))}d=this.extendTranslation(d,e,t,g,n),_&&d===c&&this.options.appendNamespaceToMissingKey&&(d="".concat(u,":").concat(c)),(_||E)&&this.options.parseMissingKeyHandler&&(d="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(u,":").concat(c):c,E?d:void 0):this.options.parseMissingKeyHandler(d))}return a?(g.res=d,g):d}},{key:"extendTranslation",value:function(e,t,n,r,o){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,Qr(Qr({},this.options.interpolation.defaultVariables),n),r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(Qr(Qr({},n),{interpolation:Qr(Qr({},this.options.interpolation),n.interpolation)}));var i,s="string"==typeof e&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(s){var c=e.match(this.interpolator.nestingRegexp);i=c&&c.length}var l=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(l=Qr(Qr({},this.options.interpolation.defaultVariables),l)),e=this.interpolator.interpolate(e,l,n.lng||this.language,n),s){var u=e.match(this.interpolator.nestingRegexp);i<(u&&u.length)&&(n.nest=!1)}!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return o&&o[0]===r[0]&&!n.context?(a.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(t[0])),null):a.translate.apply(a,r.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var p=n.postProcess||this.options.postProcess,f="string"==typeof p?[p]:p;return null!=e&&f&&f.length&&!1!==n.applyPostProcessor&&(e=$r.handle(f,e,t,this.options&&this.options.postProcessPassResolved?Qr({i18nResolved:r},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,r,o,a,i=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!i.isValidLookup(t)){var c=i.extractFromKey(e,s),l=c.key;n=l;var u=c.namespaces;i.options.fallbackNS&&(u=u.concat(i.options.fallbackNS));var p=void 0!==s.count&&"string"!=typeof s.count,f=p&&!s.ordinal&&0===s.count&&i.pluralResolver.shouldUseIntlApi(),h=void 0!==s.context&&("string"==typeof s.context||"number"==typeof s.context)&&""!==s.context,g=s.lngs?s.lngs:i.languageUtils.toResolveHierarchy(s.lng||i.language,s.fallbackLng);u.forEach((function(e){i.isValidLookup(t)||(a=e,!eo["".concat(g[0],"-").concat(e)]&&i.utils&&i.utils.hasLoadedNamespace&&!i.utils.hasLoadedNamespace(a)&&(eo["".concat(g[0],"-").concat(e)]=!0,i.logger.warn('key "'.concat(n,'" for languages "').concat(g.join(", "),'" won\'t get resolved as namespace "').concat(a,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach((function(n){if(!i.isValidLookup(t)){o=n;var a,c=[l];if(i.i18nFormat&&i.i18nFormat.addLookupKeys)i.i18nFormat.addLookupKeys(c,l,n,e,s);else{var u;p&&(u=i.pluralResolver.getSuffix(n,s.count,s));var g="".concat(i.options.pluralSeparator,"zero");if(p&&(c.push(l+u),f&&c.push(l+g)),h){var d="".concat(l).concat(i.options.contextSeparator).concat(s.context);c.push(d),p&&(c.push(d+u),f&&c.push(d+g))}}for(;a=c.pop();)i.isValidLookup(t)||(r=a,t=i.getResource(n,e,a,s))}})))}))}})),{res:t,usedKey:n,exactUsedKey:r,usedLng:o,usedNS:a}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,t.length)&&void 0!==e[n])return!0;return!1}}]),o}(Nr);function no(e){return e.charAt(0).toUpperCase()+e.slice(1)}var ro=function(){function e(t){tn(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Rr.create("languageUtils")}return rn(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=no(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=no(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=no(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var r=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(r)||(t=r)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var r=n.getLanguagePartFromCode(e);if(n.isSupportedCode(r))return t=r;t=n.options.supportedLngs.find((function(e){if(0===e.indexOf(r))return e}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),o=[],a=function(e){e&&(n.isSupportedCode(e)?o.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&a(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&a(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&a(this.getLanguagePartFromCode(e))):"string"==typeof e&&a(this.formatLanguageCode(e)),r.forEach((function(e){o.indexOf(e)<0&&a(n.formatLanguageCode(e))})),o}}]),e}(),oo=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],ao={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},io=["v1","v2","v3"],so={zero:0,one:1,two:2,few:3,many:4,other:5};function co(){var e={};return oo.forEach((function(t){t.lngs.forEach((function(n){e[n]={numbers:t.nr,plurals:ao[t.fc]}}))})),e}var lo=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};tn(this,e),this.languageUtils=t,this.options=n,this.logger=Rr.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=co()}return rn(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(e,{type:t.ordinal?"ordinal":"cardinal"})}catch(e){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((function(e){return"".concat(t).concat(e)}))}},{key:"getSuffixes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((function(e,t){return so[e]-so[t]})).map((function(e){return"".concat(t.options.prepend).concat(e)})):r.numbers.map((function(r){return t.getSuffix(e,r,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(r.select(t)):this.getSuffixRetroCompatible(r,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){var n=this,r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),o=e.numbers[r];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===o?o="plural":1===o&&(o=""));var a=function(){return n.options.prepend&&o.toString()?n.options.prepend+o.toString():o.toString()};return"v1"===this.options.compatibilityJSON?1===o?"":"number"==typeof o?"_plural_".concat(o.toString()):a():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?a():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}},{key:"shouldUseIntlApi",value:function(){return!io.includes(this.options.compatibilityJSON)}}]),e}();function uo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function po(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uo(Object(n),!0).forEach((function(t){Wt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fo=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};tn(this,e),this.logger=Rr.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return rn(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:Wr,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?Ur(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?Ur(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?Ur(t.nestingPrefix):t.nestingPrefixEscaped||Ur("$t("),this.nestingSuffix=t.nestingSuffix?Ur(t.nestingSuffix):t.nestingSuffixEscaped||Ur(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,r){var o,a,i,s=this,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function l(e){return e.replace(/\$/g,"$$$$")}var u=function(e){if(e.indexOf(s.formatSeparator)<0){var o=Gr(t,c,e);return s.alwaysFormat?s.format(o,void 0,n,po(po(po({},r),t),{},{interpolationkey:e})):o}var a=e.split(s.formatSeparator),i=a.shift().trim(),l=a.join(s.formatSeparator).trim();return s.format(Gr(t,c,i),l,n,po(po(po({},r),t),{},{interpolationkey:i}))};this.resetRegExp();var p=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,f=r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return l(e)}},{regex:this.regexp,safeValue:function(e){return s.escapeValue?l(s.escape(e)):l(e)}}].forEach((function(t){for(i=0;o=t.regex.exec(e);){var n=o[1].trim();if(void 0===(a=u(n)))if("function"==typeof p){var c=p(e,o,r);a="string"==typeof c?c:""}else if(r&&r.hasOwnProperty(n))a="";else{if(f){a=o[0];continue}s.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(e)),a=""}else"string"==typeof a||s.useRawValueToEscape||(a=Dr(a));var l=t.safeValue(a);if(e=e.replace(o[0],l),f?(t.regex.lastIndex+=a.length,t.regex.lastIndex-=o[0].length):t.regex.lastIndex=0,++i>=s.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,r,o=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=po({},a);function s(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var r=e.split(new RegExp("".concat(n,"[ ]*{"))),o="{".concat(r[1]);e=r[0];var a=(o=this.interpolate(o,i)).match(/'/g),s=o.match(/"/g);(a&&a.length%2==0&&!s||s.length%2!=0)&&(o=o.replace(/'/g,'"'));try{i=JSON.parse(o),t&&(i=po(po({},t),i))}catch(t){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),t),"".concat(e).concat(n).concat(o)}return delete i.defaultValue,e}for(i.applyPostProcessor=!1,delete i.defaultValue;n=this.nestingRegexp.exec(e);){var c=[],l=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var u=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=u.shift(),c=u,l=!0}if((r=t(s.call(this,n[1].trim(),i),i))&&n[0]===e&&"string"!=typeof r)return r;"string"!=typeof r&&(r=Dr(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),r=""),l&&(r=c.reduce((function(e,t){return o.format(e,t,a.lng,po(po({},a),{},{interpolationkey:n[1].trim()}))}),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}]),e}();function ho(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function go(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ho(Object(n),!0).forEach((function(t){Wt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ho(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yo(e){var t={};return function(n,r,o){var a=r+JSON.stringify(o),i=t[a];return i||(i=e(r,o),t[a]=i),i(n)}}var mo=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};tn(this,e),this.logger=Rr.create("formatter"),this.options=t,this.formats={number:yo((function(e,t){var n=new Intl.NumberFormat(e,t);return function(e){return n.format(e)}})),currency:yo((function(e,t){var n=new Intl.NumberFormat(e,go(go({},t),{},{style:"currency"}));return function(e){return n.format(e)}})),datetime:yo((function(e,t){var n=new Intl.DateTimeFormat(e,go({},t));return function(e){return n.format(e)}})),relativetime:yo((function(e,t){var n=new Intl.RelativeTimeFormat(e,go({},t));return function(e){return n.format(e,t.range||"day")}})),list:yo((function(e,t){var n=new Intl.ListFormat(e,go({},t));return function(e){return n.format(e)}}))},this.init(t)}return rn(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=t.interpolation;this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e.toLowerCase().trim()]=t}},{key:"addCached",value:function(e,t){this.formats[e.toLowerCase().trim()]=yo(t)}},{key:"format",value:function(e,t,n,r){var o=this,a=t.split(this.formatSeparator).reduce((function(e,t){var a=function(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var r=e.split("(");t=r[0].toLowerCase().trim();var o=r[1].substring(0,r[1].length-1);"currency"===t&&o.indexOf(":")<0?n.currency||(n.currency=o.trim()):"relativetime"===t&&o.indexOf(":")<0?n.range||(n.range=o.trim()):o.split(";").forEach((function(e){if(e){var t=function(e){if(Array.isArray(e))return e}(a=e.split(":"))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||function(e,t){if(e){if("string"==typeof e)return Sr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sr(e,t):void 0}}(a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=t[0],o=t.slice(1).join(":").trim().replace(/^'+|'+$/g,"");n[r.trim()]||(n[r.trim()]=o),"false"===o&&(n[r.trim()]=!1),"true"===o&&(n[r.trim()]=!0),isNaN(o)||(n[r.trim()]=parseInt(o,10))}var a}))}return{formatName:t,formatOptions:n}}(t),i=a.formatName,s=a.formatOptions;if(o.formats[i]){var c=e;try{var l=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},u=l.locale||l.lng||r.locale||r.lng||n;c=o.formats[i](e,u,go(go(go({},s),r),l))}catch(e){o.logger.warn(e)}return c}return o.logger.warn("there was no format function for ".concat(i)),e}),e);return a}}]),e}();function vo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vo(Object(n),!0).forEach((function(t){Wt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ao=function(e){jr(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=Cr(t);if(n){var o=Cr(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return xr(this,e)});function o(e,t,n){var a,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return tn(this,o),a=r.call(this),Hr&&Nr.call(kr(a)),a.backend=e,a.store=t,a.services=n,a.languageUtils=n.languageUtils,a.options=i,a.logger=Rr.create("backendConnector"),a.waitingReads=[],a.maxParallelReads=i.maxParallelReads||10,a.readingCalls=0,a.maxRetries=i.maxRetries>=0?i.maxRetries:5,a.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,a.state={},a.queue=[],a.backend&&a.backend.init&&a.backend.init(n,i.backend,i),a}return rn(o,[{key:"queueLoad",value:function(e,t,n,r){var o=this,a={},i={},s={},c={};return e.forEach((function(e){var r=!0;t.forEach((function(t){var s="".concat(e,"|").concat(t);!n.reload&&o.store.hasResourceBundle(e,t)?o.state[s]=2:o.state[s]<0||(1===o.state[s]?void 0===i[s]&&(i[s]=!0):(o.state[s]=1,r=!1,void 0===i[s]&&(i[s]=!0),void 0===a[s]&&(a[s]=!0),void 0===c[t]&&(c[t]=!0)))})),r||(s[e]=!0)})),(Object.keys(a).length||Object.keys(i).length)&&this.queue.push({pending:i,pendingCount:Object.keys(i).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(a),pending:Object.keys(i),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(c)}}},{key:"loaded",value:function(e,t,n){var r=e.split("|"),o=r[0],a=r[1];t&&this.emit("failedLoading",o,a,t),n&&this.store.addResourceBundle(o,a,n),this.state[e]=t?-1:2;var i={};this.queue.forEach((function(n){!function(e,t,n,r){var o=Mr(e,t,Object),a=o.obj,i=o.k;a[i]=a[i]||[],a[i].push(n)}(n.loaded,[o],a),function(e,t){void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)}(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((function(e){i[e]||(i[e]={});var t=n.loaded[e];t.length&&t.forEach((function(t){void 0===i[e][t]&&(i[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",i),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,i=arguments.length>5?arguments[5]:void 0;return e.length?this.readingCalls>=this.maxParallelReads?void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:o,wait:a,callback:i}):(this.readingCalls++,this.backend[n](e,t,(function(s,c){if(r.readingCalls--,r.waitingReads.length>0){var l=r.waitingReads.shift();r.read(l.lng,l.ns,l.fcName,l.tried,l.wait,l.callback)}s&&c&&o<r.maxRetries?setTimeout((function(){r.read.call(r,e,t,n,o+1,2*a,i)}),a):i(s,c)}))):i(null,{})}},{key:"prepareLoading",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var a=this.queueLoad(e,t,r,o);if(!a.toLoad.length)return a.pending.length||o(),null;a.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.split("|"),o=r[0],a=r[1];this.read(o,a,"read",void 0,void 0,(function(r,i){r&&t.logger.warn("".concat(n,"loading namespace ").concat(a," for language ").concat(o," failed"),r),!r&&i&&t.logger.log("".concat(n,"loaded namespace ").concat(a," for language ").concat(o),i),t.loaded(e,r,i)}))}},{key:"saveMissing",value:function(e,t,n,r,o){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(e,t,n,r,null,bo(bo({},a),{},{isUpdate:o})),e&&e[0]&&this.store.addResource(e[0],t,n,r))}}]),o}(Nr);function wo(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===Vt(e[1])&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"===Vt(e[2])||"object"===Vt(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,r){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function ko(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function Oo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oo(Object(n),!0).forEach((function(t){Wt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xo(){}function Co(e){Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(t){"function"==typeof e[t]&&(e[t]=e[t].bind(e))}))}var So=function(e){jr(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=Cr(t);if(n){var o=Cr(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return xr(this,e)});function o(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(tn(this,o),e=r.call(this),Hr&&Nr.call(kr(e)),e.options=ko(t),e.services={},e.logger=Rr,e.modules={external:[]},Co(kr(e)),n&&!e.isInitialized&&!t.isClone){if(!e.options.initImmediate)return e.init(t,n),xr(e,kr(e));setTimeout((function(){e.init(t,n)}),0)}return e}return rn(o,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"==typeof t&&(n=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&("string"==typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));var r=wo();function o(e){return e?"function"==typeof e?new e:e:null}if(this.options=jo(jo(jo({},r),this.options),ko(t)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=jo(jo({},r.interpolation),this.options.interpolation)),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){var a;this.modules.logger?Rr.init(o(this.modules.logger),this.options):Rr.init(null,this.options),this.modules.formatter?a=this.modules.formatter:"undefined"!=typeof Intl&&(a=mo);var i=new ro(this.options);this.store=new Zr(this.options.resources,this.options);var s=this.services;s.logger=Rr,s.resourceStore=this.store,s.languageUtils=i,s.pluralResolver=new lo(i,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!a||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(s.formatter=o(a),s.formatter.init(s,this.options),this.options.interpolation.format=s.formatter.format.bind(s.formatter)),s.interpolator=new fo(this.options),s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},s.backendConnector=new Ao(o(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e.emit.apply(e,[t].concat(r))})),this.modules.languageDetector&&(s.languageDetector=o(this.modules.languageDetector),s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=o(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new to(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e.emit.apply(e,[t].concat(r))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.format=this.options.interpolation.format,n||(n=xo),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&"dev"!==c[0]&&(this.options.lng=c[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var l=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];l.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}}));var u=["addResource","addResources","addResourceBundle","removeResourceBundle"];u.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}}));var p=Lr(),f=function(){var t=function(t,r){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),p.resolve(r),n(t,r)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?f():setTimeout(f,0),p}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xo,r=n,o="string"==typeof e?e:this.language;if("function"==typeof e&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(o&&"cimode"===o.toLowerCase())return r();var a=[],i=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){a.indexOf(e)<0&&a.push(e)}))};if(o)i(o);else{var s=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);s.forEach((function(e){return i(e)}))}this.options.preload&&this.options.preload.forEach((function(e){return i(e)})),this.services.backendConnector.load(a,this.options.ns,(function(e){e||t.resolvedLanguage||!t.language||t.setResolvedLanguage(t.language),r(e)}))}else r(null)}},{key:"reloadResources",value:function(e,t,n){var r=Lr();return e||(e=this.languages),t||(t=this.options.ns),n||(n=xo),this.services.backendConnector.reload(e,t,(function(e){r.resolve(),n(e)})),r}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&$r.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"setResolvedLanguage",value:function(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(var t=0;t<this.languages.length;t++){var n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var r=Lr();this.emit("languageChanging",e);var o=function(e){n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.resolvedLanguage=void 0,n.setResolvedLanguage(e)},a=function(a){e||a||!n.services.languageDetector||(a=[]);var i="string"==typeof a?a:n.services.languageUtils.getBestMatchFromCodes(a);i&&(n.language||o(i),n.translator.language||n.translator.changeLanguage(i),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(i)),n.loadResources(i,(function(e){!function(e,a){a?(o(a),n.translator.changeLanguage(a),n.isLanguageChangingTo=void 0,n.emit("languageChanged",a),n.logger.log("languageChanged",a)):n.isLanguageChangingTo=void 0,r.resolve((function(){return n.t.apply(n,arguments)})),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(e,i)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(a):a(e):a(this.services.languageDetector.detect()),r}},{key:"getFixedT",value:function(e,t,n){var r=this,o=function e(t,o){var a;if("object"!==Vt(o)){for(var i=arguments.length,s=new Array(i>2?i-2:0),c=2;c<i;c++)s[c-2]=arguments[c];a=r.options.overloadTranslationOptionHandler([t,o].concat(s))}else a=jo({},o);a.lng=a.lng||e.lng,a.lngs=a.lngs||e.lngs,a.ns=a.ns||e.ns,a.keyPrefix=a.keyPrefix||n||e.keyPrefix;var l=r.options.keySeparator||".",u=a.keyPrefix?"".concat(a.keyPrefix).concat(l).concat(t):t;return r.t(u,a)};return"string"==typeof e?o.lng=e:o.lngs=e,o.ns=t,o.keyPrefix=n,o}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var r=this.resolvedLanguage||this.languages[0],o=!!this.options&&this.options.fallbackLng,a=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;var i=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};if(n.precheck){var s=n.precheck(this,i);if(void 0!==s)return s}return!(!this.hasResourceBundle(r,e)&&this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages)&&(!i(r,e)||o&&!i(a,e)))}},{key:"loadNamespaces",value:function(e,t){var n=this,r=Lr();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){r.resolve(),t&&t(e)})),r):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=Lr();"string"==typeof e&&(e=[e]);var r=this.options.preload||[],o=e.filter((function(e){return r.indexOf(e)<0}));return o.length?(this.options.preload=r.concat(o),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){return e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),e?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr":"rtl"}},{key:"cloneInstance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xo,r=jo(jo(jo({},this.options),t),{isClone:!0}),a=new o(r);void 0===t.debug&&void 0===t.prefix||(a.logger=a.logger.clone(t));var i=["store","services","language"];return i.forEach((function(t){a[t]=e[t]})),a.services=jo({},this.services),a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a.translator=new to(a.services,a.options),a.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];a.emit.apply(a,[e].concat(n))})),a.init(r,n),a.translator.options=a.options,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),o}(Nr);Wt(So,"createInstance",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new So(e,t)}));var Po=So.createInstance();Po.createInstance=So.createInstance,Po.createInstance,Po.init,Po.loadResources,Po.reloadResources,Po.use,Po.changeLanguage,Po.getFixedT,Po.t,Po.exists,Po.setDefaultNamespace,Po.hasLoadedNamespace,Po.loadNamespaces,Po.loadLanguages;const Eo=Po;var _o;function To(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ro={en:{translation:(_o={"Value: {{value}}":"Value: {{value}}",Push:"Push",Attraction:"Attraction","Water damage":"Water damage","Fire damage":"Fire damage","Earth damage":"Earth damage","Air damage":"Air damage","Push damage":"Push damage","Indirect push damage":"Indirect push damage","Pushes back {{value}} cells_one":"Pushes back {{value}} cell","Pushes back {{value}} cells":"Pushes back {{value}} cells","Attracts {{value}} cells_one":"Attracts {{value}} cell","Attracts {{value}} cells":"Attracts {{value}} cells","{{value}} water damage":"{{value}} water damage","{{value}} fire damage":"{{value}} fire damage","{{value}} earth damage":"{{value}} earth damage","{{value}} air damage":"{{value}} air damage","{{value}} push damage":"{{value}} push damage","{{value}} push damage (indirect)":"{{value}} push damage (indirect)"},To(_o,"{{value}} push damage (indirect)","{{value}} push damage (indirect)"),To(_o,"Selected map","Selected map"),_o)},fr:{translation:{"Value: {{value}}":"Valeur: {{value}}",Push:"Pousse",Attraction:"Attirance","Water damage":"Dommages eau","Fire damage":"Dommages feu","Earth damage":"Dommages terre","Air damage":"Dommages air","Push damage":"Dommages de pousse","Indirect push damage":"Dommages de pousse indirecte","Pushes back {{value}} cells_one":"Pousse de {{value}} case","Pushes back {{value}} cells":"Pousse de {{value}} cases","Attracts {{value}} cells_one":"Attire de {{value}} case","Attracts {{value}} cells":"Attire de {{value}} cases","{{value}} water damage_one":"{{value}} dommage eau","{{value}} water damage":"{{value}} dommages eau","{{value}} fire damage_one":"{{value}} dommage feu","{{value}} fire damage":"{{value}} dommages feu","{{value}} earth damage_one":"{{value}} dommage terre","{{value}} earth damage":"{{value}} dommages terre","{{value}} air damage_one":"{{value}} dommage air","{{value}} air damage":"{{value}} dommages air","{{value}} push damage_one":"{{value}} dommage de pousse","{{value}} push damage":"{{value}} dommages de pousse","{{value}} push damage_one (indirect)":"{{value}} dommage de pousse (indirecte)","{{value}} push damage (indirect)":"{{value}} dommages de pousse (indirecte)","Selected map":"Map slectionne"}}};Eo.use(hn).init({resources:Ro,lng:"fr",interpolation:{escapeValue:!1}});var No=document.getElementById("root");(0,wr.s)(No).render(React.createElement(Ar,null))})()})();
//# sourceMappingURL=bundle.bfd3bcbd8b7e92fb54b3.min.js.map